/*!
 * Ripple Client v0.2.46-17-g8d439f2
 * Copyright (c) 2014 Ripple Labs, Inc.
 * Licensed under the ISC license.
 */
!function(e){function t(n){if(r[n])return r[n].exports;var s=r[n]={exports:{},id:n,loaded:!1};return e[n].call(null,s,s.exports,t),s.loaded=!0,s.exports}var r={};return t.e=function(e,r){r.call(null,t)},t.modules=e,t.cache=r,t(0)}({c:"",0:function(e,t,r){var n=r(1);r(2),r(3),r(4),r(5),r(6),r(7),r(8),r(9),r(10),r(11),r(12),r(13),r(14),r(15),r(16),r(17),r(18),r(19),r(20),r(21),r(22),r(23),r(24),r(25),r(26),r(27);var s=["ng","ngRoute","app","status","id","tracker","charts","effects","events","fields","formatters","directives","validators","datalinks","jade","errors","filters","zipzap"],a=[r(28),r(29),r(30),r(31),r(32),r(33),r(34),r(35),r(36),r(37),r(38),r(39),r(40),r(41)],o=a.map(function(e){var t=new e;if(t.angular){var r=angular.module(t.tabName,t.angularDeps);t.angular(r),s.push(t.tabName)}return t}),i=angular.module("rp",s),c=window.rippleclient={};c.app=i,c.types=n,angular.element("body").prepend(r(42)()),i.config(["$routeProvider","$injector",function(e){_.each(o,function(t){if("function"==typeof t.generateHtml){var r=t.generateHtml(),n={tabName:t.tabName,tabClass:"t-"+t.tabName,pageMode:"pm-"+t.pageMode,mainMenu:t.mainMenu,template:r};e.when("/"+t.tabName,n),t.extraRoutes&&_.each(t.extraRoutes,function(t){$.extend({},n,t.config),e.when(t.name,n)}),_.each(t.aliases,function(t){e.when("/"+t,n)})}}),e.when("/lang/:language",{redirectTo:function(e){lang=e.language,"en"==lang&&(lang=""),store.disabled||store.set("ripple_language",lang?lang:"");var t=location.port.length>0?":"+location.port:"";location.href=location.protocol+"//"+location.hostname+t+location.pathname}}),e.otherwise({redirectTo:"/balance"})}]),i.run(["$rootScope","$injector","$compile","$route","$routeParams","$location",function(e,t,r,n,s,a){"object"==typeof c&&(c.$scope=e,c.version=e.version=angular.element("#version").text()),e.isEmpty=function(e){return angular.equals({},e)},_.isArray(a.$$absUrl.match(/%2B|\+/gi))&&(window.location=a.$$absUrl.replace(/%2B|\+/gi,"%20"));var o=e;e.$route=n,e.$routeParams=s,$("#main").data("$scope",o);var i=a.search().amnt;i&&(a.search("amnt",null),a.search("amount",i)),o.$watch("app_loaded",function(){$("nav a").click(function(){location.hash==this.hash&&o.$apply(function(){n.reload()})})})}]),Options.blobvault||(Options.blobvault=Options.BLOBVAULT_SERVER),"function"==typeof angular.resumeBootstrap&&angular.resumeBootstrap()},1:function(e,t,r){var n=r(46),s=function(){function e(e,t){return[].concat(e,t>>24,255&t>>16,255&t>>8,255&t)}function t(e){return sjcl.bitArray.bitSlice(sjcl.hash.sha512.hash(sjcl.codec.bytes.toBits(e)),0,256)}function r(e){return sjcl.hash.ripemd160.hash(sjcl.hash.sha256.hash(e))}return function(s){if(this.seed=n.decode_base_check(33,s),!this.seed)throw"Invalid seed.";this.getAddress=function(s){s=s||0;var a,o,i=0;do a=sjcl.bn.fromBits(t(e(this.seed,i))),i++;while(!sjcl.ecc.curves.c256.r.greaterEquals(a));o=sjcl.ecc.curves.c256.G.mult(a);var c;i=0;do c=sjcl.bn.fromBits(t(e(e(o.toBytesCompressed(),s),i))),i++;while(!sjcl.ecc.curves.c256.r.greaterEquals(c));var l=sjcl.ecc.curves.c256.G.mult(c).toJac().add(o).toAffine();return n.encode_base_check(0,sjcl.codec.bytes.fromBits(r(sjcl.codec.bytes.toBits(l.toBytesCompressed()))))}}}();t.RippleAddress=s},2:function(e,t,r){var n=(r(43),r(44),r(49)),s=ripple.Amount,e=angular.module("app",[]);e.controller("AppCtrl",["$rootScope","$compile","rpId","rpNetwork",function(e,t,a,o){function i(){e.account={},e.lines={},e.offers={},e.events=[],e.history=[],e.balances={},e.loadState=[]}function c(t,r){var n=o.remote;S=r.account,i(),n.set_secret(r.account,r.secret);var s=n.account(r.account);A=h,P=m,s.on("transaction",A),s.on("entry",function(t){e.$apply(function(){P(t)})}),s.entry(function(t){t&&(e.loadState.account=!0)}),n.request_account_lines(r.account).on("success",u).on("error",d).request(),n.request_account_tx({account:r.account,ledger_index_min:-1,descending:!0,limit:Options.transactions_per_page,count:!0}).on("success",g).on("error",v).request(),n.request_account_offers(r.account).on("success",p).on("error",f).request()}function l(e,t){var r=o.remote,n=r.account(t.account);n.removeListener("transaction",A),n.removeListener("entry",P)}function u(t){e.$apply(function(){e.lines={};for(var r=0,n=t.lines.length;n>r;r++){var s=t.lines[r];s=$.extend({},s,{limit:ripple.Amount.from_json({value:s.limit,currency:s.currency,issuer:s.account}),limit_peer:ripple.Amount.from_json({value:s.limit_peer,currency:s.currency,issuer:S}),balance:ripple.Amount.from_json({value:s.balance,currency:s.currency,issuer:S})}),e.lines[s.account+s.currency]=s,k(s.currency,s.account,s.balance)}console.log("lines updated:",e.lines),e.loadState.lines=!0})}function d(){e.$apply(function(){e.loadState.lines=!0})}function p(t){e.$apply(function(){t.offers.forEach(function(e){var t={seq:+e.seq,gets:ripple.Amount.from_json(e.taker_gets),pays:ripple.Amount.from_json(e.taker_pays),flags:e.flags};b(t)}),console.log("offers updated:",e.offers),e.loadState.offers=!0})}function f(){e.$apply(function(){e.loadState.offers=!0})}function m(t){var r=o.remote;e.account=t;var n=r._getServer(),a=e.account.OwnerCount||0;e.account.reserve_base=n.reserve(0),e.account.reserve=n.reserve(a),e.account.reserve_to_add_trust=n.reserve(a+1),e.account.reserve_low_balance=e.account.reserve.product_human(2);var i=s.from_json(t.Balance);e.account.max_spend=i.subtract(e.account.reserve),e.loadState.account=!0}function g(t){e.$apply(function(){e.history_count=t.count,e.tx_marker=t.marker,t.transactions&&t.transactions.reverse().forEach(function(e){y(e.tx,e.meta,!0)}),e.loadState.transactions=!0})}function v(){e.$apply(function(){e.loadState.transactions=!0})}function h(t){e.$apply(function(){y(t.transaction,t.meta)})}function y(t,r,s){var a=n.processTxn(t,r,S);if(a){var o=a.transaction;a.accountRoot&&m(a.accountRoot),"tesSUCCESS"===a.tx_result&&o&&!s&&e.$broadcast("$appTxNotification",o),"tesSUCCESS"===a.tx_result&&e.events.unshift(a),e.history.unshift(a),a.effects&&!s&&w(a.effects),a.effects&&!s&&a.effects.forEach(function(e){if(_.contains(["offer_created","offer_funded","offer_partially_funded","offer_cancelled"],e.type)){var t={seq:+e.seq,gets:e.gets,pays:e.pays,deleted:e.deleted,flags:e.flags};b(t)}})}}function b(t){t.flags&&t.flags===ripple.Remote.flags.offer.Sell?(t.type="sell",t.first=t.gets,t.second=t.pays):(t.type="buy",t.first=t.pays,t.second=t.gets),t.deleted?delete e.offers[""+t.seq]:e.offers[""+t.seq]=t}function w(t){$.isArray(t)&&$.each(t,function(){if(_.contains(["trust_create_local","trust_create_remote","trust_change_local","trust_change_remote","trust_change_balance","trust_change_no_ripple"],this.type)){var t=this,r={},n=t.counterparty+t.currency;if(r.currency=t.currency,r.account=t.counterparty,r.flags=t.flags,r.no_ripple=t.noRipple,t.balance&&(r.balance=t.balance,k(t.currency,t.counterparty,t.balance)),t.deleted)return delete e.lines[n],void 0;t.limit&&(r.limit=t.limit),t.limit_peer&&(r.limit_peer=t.limit_peer),e.lines[n]=$.extend(e.lines[n],r)}})}function k(t,r,n){e.balances[t]||(e.balances[t]={components:{},total:null});var s=e.balances[t];r&&(s.components[r]=n),$(s.components).sort(function(e,t){return e.compareTo(t)}),s.total=null;for(var a in s.components){var o=s.components[a];s.total=s.total?s.total.add(o):o}}function x(e,t){return e.order<t.order?1:e.order>t.order?-1:0}function q(){T()}i();var S;"object"==typeof rippleclient&&(rippleclient.id=a,rippleclient.net=o);var A,P;e.currencies_all=r(50),$.extend(!0,e.currencies_all,store.get("ripple_currencies_all")||{}),store.disabled||store.get("ripple_pairs_all")||store.set("ripple_pairs_all",r(51)),e.pairs_all=store.get("ripple_pairs_all")?store.get("ripple_pairs_all"):r(51),e.currencies_all.sort(x),e.pairs_all.sort(x),e.$watch("currencies_all",function(){store.disabled||store.set("ripple_currencies_all",e.currencies_all)},!0),e.$watch("pairs_all",function(){store.disabled||store.set("ripple_pairs_all",e.pairs_all)},!0),e.pairs=e.pairs_all.slice(1),e.app_loaded=!0,e.$on("$idAccountLoad",function(t,r){e.connected&&c(t,r),e.$on("$netConnected",function(){$.isEmptyObject(e.account)&&c(t,r)})}),e.$on("$idAccountUnload",l);var T=e.$on("$netConnected",q);o.listenId(a),o.init(),a.init(),this.reset=i,this.handleAccountLoad=c,this.handleAccountUnload=l,this.handleRippleLines=u,this.handleRippleLinesError=d,this.handleOffers=p,this.handleOffersError=f,this.handleAccountEntry=m,this.handleAccountTx=g,this.handleAccountTxError=v,this.handleAccountEvent=h,this.processTxn=y,this.updateOffer=b,this.updateLines=w,this.updateRippleBalance=k,this.compare=x,this.handleFirstConnection=q}])},3:function(e,t,r){ripple.Amount;var e=angular.module("status",[]);e.controller("StatusCtrl",["$scope","$element","$compile","rpId",function(e,t,n,s){function a(t){e.connected=!!t,t?p.find(".type-offline").remove():p.append('<div class="notification active type-offline">OFFLINE</div>')}function o(e){c.push(e),u||setImmediate(i)}function i(){if(f){f.removeClass("active");var t=f;setTimeout(function(){t.remove()},1e3),f=null}if(u=!1,c.length){e.$apply(function(){e.show_secondary=!1});var r=c.shift(),n=$(r);n.addClass("notification"),n.appendTo(p),setImmediate(function(){n.addClass("active")}),f=n,u=!0,setTimeout(i,l)}}var c=[],l=4e3,u=!1,d=r(52);e.toggle_secondary=function(){e.show_secondary=!e.show_secondary},e.$watch("balances",function(){e.orderedBalances=_.filter(e.balances,function(e){return!e.total.is_zero()}),e.orderedBalances.sort(function(e,t){return parseFloat(Math.abs(t.total.to_text()))-parseFloat(Math.abs(e.total.to_text()))}),e.balance_count=e.orderedBalances.length},!0),e.$watch("userCredentials",function(){var t=e.userCredentials.username;e.shortUsername=null,t&&t.length>25&&(e.shortUsername=t.substring(0,24)+"...")},!0),e.logout=function(){setImmediate(function(){s.logout()})},e.$on("$netConnected",function(){a(!0)}),e.$on("$netDisconnected",function(){a(!1)}),e.$on("$appTxNotification",function(t,r){var s=e.$new();s.tx=r;var a=d(s);if(a.length){var i=n(a)(s);o(i)}}),c.length&&i();var p=$("<div>").attr("id","notification").insertAfter(t);setTimeout(function(){a(e.connected)},3e3);var f=null;this.setConnectionStatus=a,this.enqueue=o,this.tick=i}])},4:function(e){var e=angular.module("charts",[]);e.directive("rpTrustLine",["$filter",function(e){function t(t,r){function n(e){return e=Math.min(e,y),e=Math.max(e,h),Math.round((e-h)*_+s)}var s=30,a=5,o=6,i=16,c=-10,l=t.canvas.width,u=t.canvas.height,d=l-2*s,p=Math.floor(u/2);t.clearRect(0,0,l,u);var f,m,g;try{f=-r.limit_peer.to_number(),m=r.limit.to_number(),g=r.balance.to_number()}catch(v){return}var h=Math.min(g,f),y=Math.max(g,m),_=d/(y-h);t.lineWidth=2,t.strokeStyle="#333",g>0?(t.beginPath(),t.rect(n(0),p-o,n(g)-n(0),o),t.fillStyle="green",t.fill()):(t.beginPath(),t.rect(n(g),p,n(0)-n(g),o),t.fillStyle=0===g?"black":"red",t.fill()),t.beginPath(),t.moveTo(n(f),p),t.lineTo(n(m),p),t.moveTo(n(f),p-a),t.lineTo(n(f),p+a),t.moveTo(n(m),p-a),t.lineTo(n(m),p+a),t.moveTo(n(0),p-a),t.lineTo(n(0),p+a),t.stroke();var b=e("rpamount"),w={rel_precision:0};t.font="11px sans-serif",t.textAlign="center",t.fillText(b(r.balance,w),n(g),p+c),t.fillStyle="#333";var k=b(r.limit_peer,w);0!==f&&(k="-"+k),f===m&&0===f?k="0 / 0":t.fillText(b(r.limit,w),n(m),p+i),t.fillText(k,n(f),p+i)}return{restrict:"E",template:'<canvas width="200" height="50">',scope:{data:"=rpLineData"},link:function(e,r){var n=r.find("canvas")[0].getContext("2d");t(n,e.data),e.$watch("data",function(){t(n,e.data)},!0)}}}])},5:function(e,t,r){var n=r(47),e=angular.module("fields",[]);e.directive("rpCombobox",[function(){return{restrict:"A",require:"?ngModel",link:function(e,t,r,s){function a(e){t.parent()[e?"addClass":"removeClass"]("active"),f[e?"fadeIn":"fadeOut"]("fast")}function o(){var t,o=s.$viewValue,l=[],u=null;if(t=e.$eval(r.rpCombobox),"function"!=typeof t&&(t=n.queryFromOptions(t)),"string"==typeof o&&o.length){var d=n.escapeRegExp(o);u=new RegExp("("+d+")","i"),l=t(o,u)}return l.length?(i(l,u),c(),void 0):(a(!1),void 0)}function i(e,r){f.empty(),p=-1,e.forEach(function(e){e=d(e),r&&(e=e.replace(r,"<u>$1</u>"));var n=$("<li>"+e+"</li>");t.parent().find(".completions").append(n)})}function c(){var e=f.children(),r=!!e.length;1===e.length&&e.eq(0).text()===t.val()&&(r=!1),a(r)}function l(){var e=f.find("li");p=Math.max(p,0),p=Math.min(p,e.length-1),e.removeClass("cursor"),e.eq(p).addClass("cursor")}function u(r){var n=$(r).text();e.$apply(function(){t.val(n),s.$setViewValue(n),a(!1)})}function d(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}var p=-1;t.wrap('<div class="rp-combobox">'),t.attr("autocomplete","off");var f=$('<ul class="completions"></ul>').hide();if(t.parent().append(f),r.rpComboboxSelect){var m=$("<div>").appendTo(t.parent());m.addClass("select"),m.mousedown(function(e){e.preventDefault()}),m.click(function(){var s=e.$eval(r.rpCombobox);"function"!=typeof s&&(s=n.queryFromOptions(s)),i(s()),f.is(":visible")?t.blur():(i(s()),t.focus())})}t.keydown(function(e){if(38===e.which||40===e.which)f.children().length||o(),e.preventDefault(),38===e.which?p--:p++,l();else if(13===e.which){var t=f.find("li.cursor");f.is(":visible")&&e.preventDefault(),1===f.find("li").length?u(f.find("li")):1===t.length&&u(t)}else 27===e.which&&a(!1)}),t.keyup(function(e){e.which>=37&&e.which<=40||13!==e.which&&27!==e.which&&o()}),t.focus(function(){p=-1,c()}),t.blur(function(){a(!1)}),f.mousedown(function(e){e.preventDefault()}),f.on("click","li",function(){u(this)})}}}]),e.directive("rpDatepicker",[function(){return{restrict:"A",require:"?ngModel",link:function(e,t,r,n){r.$observe("rpDatepicker",function(){var s=$(t).datepicker();s.on("changeDate",function(t){e.$apply(function(){n.$setViewValue(t.date.getMonth()?t.date:new Date(t.date))})}),e.$watch(r.ngModel,function(){function e(e){return"0"==e||"false"==e}var t=n.$viewValue;(e(r.ignoreInvalidUpdate)||!(null==t||t instanceof Date&&isNaN(t.getYear())))&&s.datepicker("setValue",t).datepicker("update")})})}}}])},6:function(e){var e=angular.module("effects",[]);e.directive("rpAnimate",function(){return{restrict:"A",link:function(e,t,r){("rp-animate"===r.rpAnimate||e.$eval(r.rpAnimate))&&(t=jQuery(t),t.hide(),t.fadeIn(600),t.css("background-color","#E2F5E4"),t.addClass("rp-animate-during rp-animate"),t.animate({"background-color":"#fff"},{duration:600,complete:function(){t.removeClass("rp-animate-during").addClass("rp-animate-after")}}))}}})},7:function(e,t,r){var n=r(47),s=ripple.Base;ripple.Amount;var e=angular.module("validators",[]);e.directive("rpMasterKey",function(){return{restrict:"A",require:"?ngModel",link:function(e,t,r,n){if(n){var a=function(e){return e&&!s.decode_check(33,e)?(n.$setValidity("rpMasterKey",!1),void 0):(n.$setValidity("rpMasterKey",!0),e)};n.$formatters.push(a),n.$parsers.unshift(a),r.$observe("rpMasterKey",function(){a(n.$viewValue)})}}}}),e.directive("rpDest",function(){var e=/^\S+@\S+\.[^\s.]+$/;return{restrict:"A",require:"?ngModel",link:function(t,r,a,o){if(o){var i=function(r){var i=n.stripRippleAddress(r),c=ripple.UInt160.from_json(i);return o.rpDestType=null,a.rpDestAddress&&c.is_valid()?(o.rpDestType="address",o.$setValidity("rpDest",!0),r):a.rpDestContact&&t.userBlob&&n.getContact(t.userBlob.data.contacts,i)?(o.rpDestType="contact",o.$setValidity("rpDest",!0),r):a.rpDestBitcoin&&!isNaN(s.decode_check([0,5],i,"bitcoin"))?(o.rpDestType="bitcoin",o.$setValidity("rpDest",!0),r):a.rpDestEmail&&e.test(i)?(o.rpDestType="email",o.$setValidity("rpDest",!0),r):(o.$setValidity("rpDest",!1),void 0)};o.$formatters.push(i),o.$parsers.unshift(i),a.$observe("rpDest",function(){i(o.$viewValue)})}}}}),e.directive("rpStdt",function(){return{restrict:"A",require:"?ngModel",link:function(e,t,r,n){if(n){var s=function(e){return!e||!isNaN(parseFloat(e))&&isFinite(e)&&e>=0&&e<Math.pow(2,32)-1?(n.$setValidity("rpStdt",!0),e):(n.$setValidity("rpStdt",!1),void 0)};n.$formatters.push(s),n.$parsers.unshift(s),r.$observe("rpStdt",function(){s(n.$viewValue)})}}}}),e.directive("rpNotMe",function(){return{restrict:"A",require:"?ngModel",link:function(e,t,r,s){if(s){var a=function(t){var r=n.getContact(e.userBlob.data.contacts,t);return t&&(r&&r.address===e.userBlob.data.account_id||e.userBlob.data.account_id===t)?(s.$setValidity("rpNotMe",!1),void 0):(s.$setValidity("rpNotMe",!0),t)};s.$formatters.push(a),s.$parsers.unshift(a),r.$observe("rpNotMe",function(){a(s.$viewValue)})}}}}),e.directive("rpIssuer",function(){return{restrict:"A",require:"?ngModel",link:function(e,t,r,s){if(s){var a=function(t){if(!t)return s.$setValidity("rpIssuer",!1),void 0;var r=t.slice(0,3).toUpperCase();return"XRP"===r||n.findIssuer(e.lines,r)?(s.$setValidity("rpIssuer",!0),t):(s.$setValidity("rpIssuer",!1),void 0)};s.$formatters.push(a),s.$parsers.unshift(a),r.$observe("rpIssuer",function(){a(s.$viewValue)})}}}}),e.directive("rpSameInSet",[function(){return{require:"ngModel",link:function(e,t,r,n){function s(e){var t=e!==n.$modelValue?n.$modelValue:e!==n.$viewValue?n.$viewValue:e;return e!==t&&(a[t]=(a[t]||1)-1,0===a[t]&&delete a[t],e&&(a[e]=(a[e]||0)+1)),e}var a=e.$eval(r.rpSameInSet);n.$formatters.push(s),n.$parsers.push(s),e.$watch(function(){return 1===_.size(a)},function(e){n.$setValidity("rpSameInSet",e)})}}}]),e.directive("rpUnique",function(){return{restrict:"A",require:"?ngModel",link:function(e,t,r,n){if(n){var s=function(t){var s=e.$eval(r.rpUnique)||[];if(r.rpUniqueOrig&&t===e.$eval(r.rpUniqueOrig))n.$setValidity("rpUnique",!0);else if(r.rpUniqueField){for(var a=0,o=s.length;o>a;a++)if(s[a][r.rpUniqueField]===t)return n.$setValidity("rpUnique",!1),void 0;n.$setValidity("rpUnique",!0)}else n.$setValidity("rpUnique",-1===s.indexOf(t));return t};n.$formatters.push(s),n.$parsers.unshift(s),e.$watch(r.rpUnique,function(){s(n.$viewValue)},!0)}}}}),e.directive("rpStrongPassword",function(){return{restrict:"A",require:"?ngModel",link:function(e,t,r,n){if(n){var s=function(t){var r=0,s=""+e.username;return t?t.length<6?(n.$setValidity("rpStrongPassword",!1),e.strength="weak",void 0):t.toLowerCase()===s.toLowerCase()?(n.$setValidity("rpStrongPassword",!1),e.strength="weak",void 0):(checkRepetition=function(e,t){for(var r="",n=0;n<t.length;n++){for(var s=!0,a=0;e>a&&a+n+e<t.length;a++)s=s&&t.charAt(a+n)===t.charAt(a+n+e);e>a&&(s=!1),s?(n+=e-1,s=!1):r+=t.charAt(n)}return r},r+=4*t.length,r+=1*(checkRepetition(1,t).length-t.length),r+=1*(checkRepetition(2,t).length-t.length),r+=1*(checkRepetition(3,t).length-t.length),r+=1*(checkRepetition(4,t).length-t.length),t.match(/(.*[0-9].*[0-9].*[0-9])/)&&(r+=5),t.match(/(.*[!,@,#,$,%,&,*,?,_,~].*[!,@,#,$,%,&,*,?,_,~])/)&&(r+=5),t.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)&&(r+=10),t.match(/([a-zA-Z])/)&&t.match(/([0-9])/)&&(r+=15),t.match(/([!,@,#,$,%,&,*,?,_,~])/)&&t.match(/([0-9])/)&&(r+=15),t.match(/([!,@,#,$,%,&,*,?,_,~])/)&&t.match(/([a-zA-Z])/)&&(r+=15),(t.match(/^\w+$/)||t.match(/^\d+$/))&&(r-=10),0>r&&(r=0),r>100&&(r=100),34>r?(n.$setValidity("rpStrongPassword",!1),e.strength="weak",void 0):(n.$setValidity("rpStrongPassword",!0),68>r?(e.strength="medium",t):(e.strength="strong",t))):(e.strength="",t)};n.$formatters.push(s),n.$parsers.unshift(s),r.$observe("rpStrongPassword",function(){s(n.$viewValue)})}}}}),e.directive("rpAmount",function(){return{restrict:"A",require:"?ngModel",link:function(e,t,r,n){if(n){var s=function(e){e&&-1!=e.toString().indexOf(",")&&(e=e.split(",").join(""));var t=parseFloat(e);return n.$setValidity("rpAmount",t==e),t?t:e};n.$formatters.push(s),n.$parsers.unshift(s)}}}}),e.directive("rpAmountPositive",function(){return{restrict:"A",require:"?ngModel",link:function(e,t,r,n){if(n){var s=function(e){return n.$setValidity("rpAmountPositive",e>0),e};n.$formatters.push(s),n.$parsers.unshift(s)}}}}),e.directive("rpAmountXrpLimit",function(){return{restrict:"A",require:"?ngModel",link:function(e,t,r,n){if(n){var s=function(e){var t=r.rpAmountXrpLimitCurrency;return t&&"xrp"===t.toLowerCase()?n.$setValidity("rpAmountXrpLimit",1e11>=e&&e>=1e-6):n.$setValidity("rpAmountXrpLimit",!0),e};n.$formatters.push(s),n.$parsers.unshift(s),r.$observe("rpAmountXrpLimitCurrency",function(){s(n.$viewValue)})}}}}),e.directive("rpPortNumber",function(){return{restrict:"A",require:"?ngModel",link:function(e,t,r,n){if(n){var s=function(e){return n.$setValidity("rpPortNumber",parseInt(e,10)==e&&e>=1&&65535>=e),e};n.$formatters.push(s),n.$parsers.unshift(s),r.$observe("rpPortNumber",function(){s(n.$viewValue)})}}}}),e.directive("rpHostname",function(){return{restrict:"A",require:"?ngModel",link:function(e,t,r,n){function s(e){var t=/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$|^(([a-zA-Z]|[a-zA-Z][a-zA-Z0-9\-_]*[a-zA-Z0-9])\.)*([A-Za-z]|[A-Za-z][A-Za-z0-9\-]*[A-Za-z0-9])$|^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/.test(e);return t}if(n){var a=function(e){return n.$setValidity("rpHostname",s(e)),e};n.$formatters.push(a),n.$parsers.unshift(a),r.$observe("rpHostname",function(){a(n.$viewValue)})}}}}),e.directive("rpNotXrp",function(){return{restrict:"A",require:"?ngModel",link:function(e,t,r,n){if(n){var s=function(e){return n.$setValidity("rpNotXrp",!e||"xrp"!==e.toLowerCase()),e};n.$formatters.push(s),n.$parsers.unshift(s),r.$observe("rpNotXrp",function(){s(n.$viewValue)})}}}}),e.directive("rpEmail",function(){return{restrict:"A",require:"?ngModel",link:function(e,t,r,n){if(n){var s=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,a=function(e){return n.$setValidity("rpEmail",s.test(e)),e};n.$formatters.push(a),n.$parsers.unshift(a),r.$observe("rpEmail",function(){a(n.$viewValue)})}}}})},8:function(e){var e=angular.module("events",[]);e.directive("ngEnter",function(){return function(e,t,r){t.bind("keypress",function(t){13===t.charCode&&e.$apply(r.ngEnter)})}})},9:function(e,t,r){var n=r(47),e=angular.module("formatters",["domainalias"]);e.directive("rpPrettyIssuer",["rpDomainAlias",function(e){return{restrict:"EA",scope:{issuer:"=rpPrettyIssuer",contacts:"=rpPrettyIssuerContacts"},template:"{{alias || name || issuer}}",compile:function(){return function(t,r,s){function a(){if(!t.issuer)return t.alias=s.rpPrettyIssuerDefault?s.rpPrettyIssuerDefault:"???",void 0;var r=e.getAliasForAddress(t.issuer);t.alias=null,r.then(function(e){t.alias=e}),t.name=null,t.contacts&&(t.name=n.isContact(t.contacts,t.issuer)),!t.name&&s.rpPrettyIssuerOrShort&&(t.name=""+t.issuer.substring(0,7)+"…")}t.$watch("issuer",a),t.$watch("contacts",a,!0),a()}}}}]),e.directive("rpBindColorAmount",function(){return{restrict:"A",compile:function(){return function(e,t,r){e.$watch(r.rpBindColorAmount,function(e){if(e){var r=e.split("."),n=r[1].replace(/0(0+)$/,'0<span class="insig">$1</span>');t[0].innerHTML=n.length>0?r[0]+"."+n:r[0]}})}}}})},10:function(e){var e=angular.module("directives",["popup"]);e.directive("inlineEdit",function(){var e='<span ng-hide="mode">{{model}}</span>',t='<input ng-show="mode" ng-model="model" />';return{restrict:"E",scope:{model:"=",mode:"="},template:e+t}});var t="rp-errors";e.directive("rpErrors",[function(){return{restrict:"EA",compile:function(e,r){var n=r.rpErrors||r.on,s={};return e.data(t,s),function(e,t){function a(){var a=l[n];if(a){var u=a&&a.$error;i&&(c.$destroy(),i.remove(),i=c=null),a.$pristine||(o=!1,$.each(s,function(e,t){return e.length<=1?void 0:u&&u[e.slice(1)]?(o=t,!1):void 0}),!o&&s["+"]&&a.$valid&&(o=s["+"]),!o&&s["?"]&&a.$invalid&&(o=s["?"]),o&&(e.$eval(r.change),c=e.$new(),o(c,function(e){i=e,t.append(e)})))}}var o,i,c,l=t.inheritedData("$formController"),u=l.$name;e.$watch(u+"."+n+".$error",a,!0),e.$watch(u+"."+n+".$pristine",a)}}}}]),e.directive("rpErrorOn",[function(){return{transclude:"element",priority:500,compile:function(e,r,n){var s=e.inheritedData(t);s&&(s["!"+r.rpErrorOn]=n)}}}]),e.directive("rpErrorUnknown",[function(){return{transclude:"element",priority:500,compile:function(e,r,n){var s=e.inheritedData(t);s&&(s["?"]=n)}}}]),e.directive("rpErrorValid",[function(){return{transclude:"element",priority:500,compile:function(e,r,n){var s=e.inheritedData(t);s&&(s["+"]=n)}}}]),e.directive("rpConfirm",["rpPopup",function(e){return{restrict:"E",link:function(t,r,n){var s={};r.find("a,button").click(function(r){r.preventDefault(),e.confirm(n.title,n.actionText,n.actionButtonText,n.actionFunction,n.actionButtonCss,n.cancelButtonText,n.cancelFunction,n.cancelButtonCss,t,s)})}}}]),e.directive("rpPopup",["rpPopup",function(e){return{restrict:"E",link:function(t,r){r.find("a[rp-popup-link]").click(function(n){n.preventDefault(),e.blank((new XMLSerializer).serializeToString(r.find("[rp-popup-content]")[0]),t)})}}}]),e.directive("rpDownload",[function(){return{restrict:"A",scope:{data:"=rpDownload",filename:"@rpDownloadFilename"},compile:function(){return function(e,t){var r=t.find("[rp-download-trigger]");r.length||(r=t),"download"in document.createElement("a")?(e.$watch("data",function(e){r.attr("href","data:text/plain,"+e)}),e.$watch("filename",function(e){r.attr("download",e)})):swfobject.hasFlashPlayerVersion("10.0.0")&&(t.css("position","relative"),setImmediate(function(){var n=r.innerWidth(),s=r.innerHeight(),a=r.offset(),o=t.offset(),i=a.top-o.top,c=a.left-o.left,l=Downloadify.create(t[0],{filename:function(){return e.filename},data:function(){return e.data},transparent:!0,swf:"swf/downloadify.swf",downloadImage:"img/transparent_l.gif",width:n,height:s,append:!0}),u=l.flashContainer.id;$("#"+u).css({position:"absolute",top:i+"px",left:c+"px"})}))}}}}]),e.directive("rpTooltip",[function(){return function(e,t,r){r.$observe("rpTooltip",function(e){var n={title:e};r.rpTooltipPlacement&&(n.placement=r.rpTooltipPlacement),$(t).tooltip("destroy"),$(t).tooltip(n)})}}]),e.directive("rpPopover",[function(){return function(e,t,r){r.rpPopoverTrigger||(r.rpPopoverTrigger="click"),$(t).popover({html:!0,placement:r.rpPopoverPlacement,title:r.rpPopoverTitle,trigger:r.rpPopoverTrigger}),$("html").click(function(){$(t).popover("hide")}),$(t).click(function(e){e.stopPropagation()})}}]),e.directive("rpAutofill",["$parse",function(){return{restrict:"A",require:"?ngModel",link:function(e,t,r,n){n&&e.$watch(r.rpAutofill,function(s){if(s){if(r.rpAutofillAmount||r.rpAutofillCurrency){s===""+parseInt(s,10)&&(s+=".0");var a=ripple.Amount.from_json(s);if(!a.is_valid())return;s=r.rpAutofillAmount?+a.to_human({group_sep:!1}):a.currency().to_json()}t.val(s),n.$setViewValue(s),e.$eval(r.rpAutofillOn)}},!0)}}}]),e.directive("rpSelectEl",[function(){return{restrict:"A",scope:{target:"@rpSelectEl"},link:function(e,t){t.click(function(){var t=document,r=t.getElementById(e.target);if(t.body.createTextRange){var n=t.body.createTextRange();n.moveToElementText(r),n.select()}else if(window.getSelection){var s=window.getSelection(),a=t.createRange();a.selectNodeContents(r),s.removeAllRanges(),s.addRange(a)}})}}}]),e.directive("rpNoPropagate",[function(){return{restrict:"A",link:function(e,t){t.click(function(e){e.stopPropagation()})}}}]),e.directive("rpSpinner",[function(){return{restrict:"A",link:function(e,t,r){var n=null;r.$observe("rpSpinner",function(e){t.removeClass("spinner"),n&&(n.stop(),n=null),e>0&&(t.addClass("spinner"),n=new Spinner({lines:9,length:3,width:2,radius:e,className:"spinnerInner"}).spin(t[0]))})}}}]),e.directive("ngUpload",function(){return{restrict:"A",link:function(e,t,r){var n={};if(n.enableControls=r.uploadOptionsEnableControls,r.ngUpload){t.attr("target","upload_iframe"),t.attr("method","post"),t.attr("action",t.attr("action")+"?_t="+(new Date).getTime()),t.attr("enctype","multipart/form-data"),t.attr("encoding","multipart/form-data");var s=r.ngUpload.split("(")[0],a=e.$eval(s);if(null===a||void 0===a||!angular.isFunction(a)){var o="The expression on the ngUpload directive does not point to a valid function.";throw o+"\n"}var i=function(r){var n=$("<iframe id='upload_iframe' name='upload_iframe' border='0' width='0' height='0' style='width: 0px; height: 0px; border: none; display: none' />");n.bind("load",function(){var t=n.contents().find("body").text();e.$apply(function(){a(t,""!==t)}),""!==t&&setTimeout(function(){n.remove()},250),r.attr("disabled",null),r.attr("title","Click to start upload.")}),t.parent().append(n)};$(".upload-submit",t).click(function(){i($(this)),e.$apply(function(){a("Please wait...",!1)});var r=!0;(null===n.enableControls||void 0===n.enableControls||n.enableControls.length>=0)&&($(this).attr("disabled","disabled"),r=!1),$(this).attr("title",(r?"[ENABLED]: ":"[DISABLED]: ")+"Uploading, please wait..."),$(t).submit()}).attr("title","Click to start upload.")}else console.log("No callback function found on the ngUpload directive.")}}}),e.directive("rpFocus",["$timeout",function(e){return function(t,r){e(function(){t.$watch(function(){return r.is(":visible")},function(e){e===!0&&r.focus()})})}}]),e.directive("rpOffCanvasMenu",function(){return{restrict:"A",link:function(e,t){t.find("h2").click(function(){t.parent().toggleClass("off-canvas-nav-expand")})}}}),e.directive("rpSnapper",["rpId",function(e){return function(t){var r=t.$watch(function(){return e.loginStatus},function(){var t;if(e.loginStatus){setImmediate(function(){t=new Snap({element:document.getElementById("wrapper"),disable:"right"}),n(),$(".snapper-toggle").click(function(){"closed"==t.state().state?t.open("left"):t.close()}),$(".mobile-nav").find("a").click(function(){t.close()})}),$(window).resize(function(){n()});var n=function(){"object"==typeof t&&($(window).width()>991?(t.close(),t.disable()):($(".mobile-nav").show(),t.enable()))};r()}})}}])},11:function(e){var e=angular.module("datalinks",[]);e.directive("rpLinkTx",["$location",function(e){return{restrict:"A",link:function(t,r,n){var s;t.$watch(n.rpLinkTx,function(e){s="/tx?id="+e}),r.click(function(){t.$apply(function(){s&&e.url(s)})})}}}])},12:function(e,t,r){var e=angular.module("jade",[]);e.directive("rpJadeReplace",["$rootScope","$compile",function(e,t){return{restrict:"A",scope:!1,link:function(n,s,a){n={parent:n.$parent,root:e}[a.scope]||n,template=r(45)("./"+a.rpJadeReplace)(),t(template)(n,function(e){s.replaceWith(e)})}}}])},13:function(e,t,r){var e=angular.module("errors",[]);e.directive("rpTransactionStatus",function(){return{restrict:"E",template:r(68),scope:{engine_result:"@rpEngineResult",engine_result_message:"@rpEngineResultMessage",accepted:"@rpAccepted"},link:function(){}}})},14:function(e,t,r){var e=angular.module("filters",[]),n=r(47),s=ripple.Amount,a=ripple.Base,o=r(69);e.filter("rpamount",function(){return function(e,t){if("number"==typeof t?t={rel_min_precision:t}:"object"!=typeof t&&(t={}),!e)return"n/a";t.xrp_human&&e===""+parseInt(e,10)&&(e+=".0");var r=s.from_json(e);if(!r.is_valid())return"n/a";var n=o[r.currency().to_json()],a="undefined"!=typeof n?n[1]:4;"number"==typeof t.rel_precision&&(t.precision=a+t.rel_precision),"number"==typeof t.rel_min_precision&&(t.min_precision=a+t.rel_min_precision),"number"!=typeof t.precision&&(t.precision=16),"number"!=typeof t.max_sig_digits&&(t.max_sig_digits=5);
var i=r.to_human(t);return i.length>1&&0===+i&&!t.hard_precision&&(t.precision=20,i=r.to_human(t)),i}}),e.filter("rpcurrency",function(){return function(e){if(!e)return"";var t=s.from_json(e);return t.currency().to_json()}}),e.filter("rpissuer",function(){return function(e){if(!e)return"";var t=s.from_json(e);return t.issuer().to_json()}}),e.filter("rpcurrencyfull",["$rootScope",function(e){return function(t){if(!t)return"";var r=s.from_json(t),n=$.grep(e.currencies_all,function(e){return e.value==r.currency().to_json()})[0];return n?n.name:r.currency().to_json()}}]),e.filter("rpamountratio",function(){return function(e,t){try{return s.from_json(e).ratio_human(t)}catch(r){return s.NaN()}}}),e.filter("rpamountadd",function(){return function(e,t){try{return t=s.from_json(t),t.is_zero()?e:s.from_json(e).add(t)}catch(r){return s.NaN()}}}),e.filter("rpamountsubtract",function(){return function(e,t){try{return s.from_json(e).subtract(t)}catch(r){return s.NaN()}}}),e.filter("rpfromnow",function(){return function(e){return moment(e).fromNow()}}),e.filter("rpcontactname",["$rootScope",function(e){return function(t){t=t?""+t:"";var r=n.getContact(e.userBlob.data.contacts,t);return r?r.name:""+t.substring(0,7)+"…"}}]),e.filter("rpcontactnamefull",["$rootScope",function(e){return function(t){t=t?""+t:"";var r=n.getContact(e.userBlob.data.contacts,t);return r?r.name:""+t}}]),e.filter("rponlycontactname",["$rootScope",function(e){return function(t){t=t?""+t:"";var r=n.getContact(e.userBlob.data.contacts,t);return r?r.name:void 0}}]),e.filter("rpmask",function(){return function(e){return e=""+e,Array(e.length+1).join("•")}}),e.filter("rptruncate",function(){return function(e,t){return e?e.slice(0,t):""}}),e.filter("rpfilesize",function(){function e(e,t,r,n){var s=e,a=isNaN(t=Math.abs(t))?2:t,o=void 0===r?",":r,i=void 0===n?".":n,c=0>s?"-":"",l=parseInt(s=Math.abs(+s||0).toFixed(a),10)+"",u=(u=l.length)>3?u%3:0;return c+(u?l.substr(0,u)+i:"")+l.substr(u).replace(/(\d{3})(?=\d)/g,"$1"+i)+(a?o+Math.abs(s-l).toFixed(a).slice(2):"")}var t=1e3,r="kMGTPE",n="B";return function(s){var a=+s;if(t>a)return a+" B";var o=Math.floor(Math.log(a)/Math.log(t)),i=" "+r[o-1]+n;return e(a/Math.pow(t,o),2,".","")+i}}),e.filter("rpucfirst",function(){return function(e){return e=""+e,e.charAt(0).toUpperCase()+e.slice(1)}}),e.filter("rprange",function(){return function(e){var t,r;switch(e.length){case 1:t=0,r=parseInt(e[0],10)-1;break;case 2:t=parseInt(e[0],10),r=parseInt(e[1],10);break;default:return e}for(var n=[],s=t;r>=s;s++)n.push(s);return n}}),e.filter("rpaddressorigin",function(){return function(e){return isNaN(a.decode_check([0,5],e,"bitcoin"))?"ripple":"bitcoin"}})},15:function(){var e=angular.module("app.globals",[]);e.constant("store",store),e.constant("Options",Options)},16:function(e,t,r){var n=(r(43),r(46)),s=r(1).RippleAddress,e=angular.module("id",["blob"]);e.factory("rpId",["$rootScope","$location","$route","$routeParams","rpOldBlob",function(e,t,r,a,o){var i=function(){this.account=null,this.loginStatus=!1,this.blobBackends=store.get("ripple_blobBackends")?store.get("ripple_blobBackends"):["vault","local"]};return i.minimumBlob={data:{contacts:[],preferred_issuer:{},preferred_second_issuer:{}},meta:[]},i.defaultBlob=i.minimumBlob,i.normalizeUsername=function(e){return e=""+e,e=e.trim()},i.normalizePassword=function(e){return e=""+e,e=e.trim()},i.prototype.init=function(){for(var t=this,r=0;8>r;r++)sjcl.random.addEntropy(Math.random(),32,"Math.random()");e.blobBackendCollections=[{name:"Payward",value:"vault"},{name:"Payward, Local Browser",value:"vault,local"},{name:"Local Browser",value:"local"}];var n=store.get("ripple_blobBackends")?$.grep(e.blobBackendCollections,function(e){return e.value==store.get("ripple_blobBackends")})[0]:e.blobBackendCollections[1];if(e.blobBackendCollection={something:n},e.userBlob=i.defaultBlob,e.userCredentials={},e.$watch("userBlob",function(){e.$broadcast("$blobUpdate"),t.username&&t.password&&o.set(t.blobBackends,t.username.toLowerCase(),t.password,e.userBlob,function(){e.$broadcast("$blobSave")})},!0),e.$on("$blobUpdate",function(){!e.address&&e.userBlob.data.account_id&&(e.address=e.userBlob.data.account_id)}),Options.persistent_auth&&store.get("ripple_auth")){var s=store.get("ripple_auth");t.loginStatus=!0,this.login(s.username,s.password,function(){})}},i.prototype.setUsername=function(t){this.username=t,e.userCredentials.username=t,e.$broadcast("$idUserChange",{username:t})},i.prototype.setPassword=function(t){this.password=t,e.userCredentials.password=t},i.prototype.setAccount=function(t,r){null!==this.account&&e.$broadcast("$idAccountUnload",{account:t}),this.account=t,e.userCredentials.account=t,e.userCredentials.master_seed=r,e.$broadcast("$idAccountLoad",{account:t,secret:r})},i.prototype.isReturning=function(){return!!store.get("ripple_known")},i.prototype.isLoggedIn=function(){return this.loginStatus},i.prototype.storeLogin=function(e,t){Options.persistent_auth&&!store.disabled&&store.set("ripple_auth",{username:e,password:t})},i.prototype.register=function(t,r,a,c){var l=this;c=c?c:n.encode_base_check(33,sjcl.codec.bytes.fromBits(sjcl.random.randomWords(4))),"function"!=typeof a&&(a=$.noop),t=i.normalizeUsername(t),r=i.normalizePassword(r);var u={data:{master_seed:c,account_id:new s(c).getAddress(),contacts:[]},meta:{created:(new Date).toJSON(),modified:(new Date).toJSON()}};o.set(l.blobBackends,t.toLowerCase(),r,u,function(){e.userBlob=u,l.setUsername(t),l.setPassword(r),l.setAccount(u.data.account_id,u.data.master_seed),l.storeLogin(t,r),l.loginStatus=!0,e.$broadcast("$blobUpdate"),store.set("ripple_known",!0),a(u.data.master_seed)})},i.prototype.exists=function(e,t,r){var n=this;e=i.normalizeUsername(e),t=i.normalizePassword(t),o.get(n.blobBackends,e.toLowerCase(),t,function(e,t){!e&&t?r(null,!0):r(null,!1)})},i.prototype.login=function(t,r,n){var s=this;"function"!=typeof n&&(n=$.noop),t=i.normalizeUsername(t),r=i.normalizePassword(r),o.get(s.blobBackends,t.toLowerCase(),r,function(a,c){if(a)return n(a),void 0;var l=o.decrypt(t.toLowerCase(),r,c);if(!l){var u="Unable to decrypt blob (Username / Password is wrong)";return n(new Error(u)),void 0}if(l.old&&!s.allowOldBlob){var d=new Error("Old blob format detected");return d.name="OldBlobError",n(d),void 0}$.extend(!0,l,i.minimumBlob),e.userBlob={data:l.data,meta:l.meta},s.setUsername(t),s.setPassword(r),s.setAccount(l.data.account_id,l.data.master_seed),s.storeLogin(t,r),s.loginStatus=!0,e.$broadcast("$blobUpdate"),store.set("ripple_known",!0),l.data.account_id?n(null):n(new Error("Blob format unrecognized!"))})},i.prototype.logout=function(){store.remove("ripple_auth");var e=location.port.length>0?":"+location.port:"";location.href=location.protocol+"//"+location.hostname+e+location.pathname},i.prototype.goId=function(){if(!this.isLoggedIn()){if(_.size(a)){var e=r.current.tabName;t.search("tab",e)}this.isReturning()?t.path("/login"):t.path("/register")}},new i}])},17:function(e){var e=angular.module("tracker",[]);e.factory("rpTracker",["$rootScope",function(){var e=function(e,t){Options.mixpanel&&Options.mixpanel.track&&mixpanel.track(e,t)};return{track:e}}])},18:function(e,t,r){var n=r(47);r(48);var e=angular.module("blob",[]);e.factory("rpOldBlob",["$rootScope",function(e){function t(e){return Array.isArray(e)||(e=[e]),e=e.map(function(e){return"string"==typeof e?s.backends[e]:e})}function r(e,t){this.name="BlobError",this.message=e||"",this.backend=t||"generic"}var s=function(){this.data={},this.meta={}};s.get=function(n,a,o,i){function c(t,n){console.warn("Backend failed:",n.name,t.toString()),"string"==typeof t?t=new r(t,n.name):t instanceof r||(t=new r(t.message,n.name)),e.$broadcast("$blobError",t),l(t)}function l(e){n.length?s.get(n,a,o,i):i(e)}n=t(n);var u=n.shift(),d=sjcl.codec.hex.fromBits(sjcl.hash.sha256.hash(a+o));try{u.get(d,function(t,r){setImmediate(function(){e.$apply(function(){return t?(c(t,u),void 0):(r?i(null,r):c("Wallet not found (Username / Password is wrong)",u),void 0)})})})}catch(p){c(p,u)}},s.enc=function(e,t,r){"object"==typeof r.data.contacts&&(r.data.contacts=angular.fromJson(angular.toJson(r.data.contacts)));var n=""+e.length+"|"+e+t;return btoa(sjcl.encrypt(n,JSON.stringify(r.data),{iter:1e3,adata:JSON.stringify(r.meta),ks:256}))},s.set=function(e,r,n,a,o){"function"!=typeof o&&(o=$.noop),e=t(e);var i=sjcl.codec.hex.fromBits(sjcl.hash.sha256.hash(r+n)),c=s.enc(r,n,a);e.forEach(function(e){e.set(i,c,o)})},s.decrypt=function(e,t,r){function n(e,t){var r=new s;return r.data=JSON.parse(sjcl.decrypt(e,t)),r.meta=JSON.parse(unescape(JSON.parse(t).adata)),r}var a;try{return a=""+e.length+"|"+e+t,n(a,atob(r))}catch(o){console.log("Blob decryption failed with new-style key:",o.toString());try{a=e+t;var i=n(a,atob(r));return i.old=!0,i}catch(c){return console.log("Blob decryption failed with old-style key:",c.toString()),!1}}};var a={name:"Payward",get:function(e,t){var r=Options.blobvault;-1===r.indexOf("://")&&(r="http://"+r),$.ajax({url:r+"/"+e,timeout:8e3}).success(function(e){t(null,e)}).error(n.getAjaxErrorHandler(t,"BlobVault GET"))},set:function(e,t,r){var s=Options.blobvault;-1===s.indexOf("://")&&(s="http://"+s),$.post(s+"/"+e,{blob:t}).success(function(e){r(null,e)}).error(n.getAjaxErrorHandler(r,"BlobVault SET"))}},o={name:"Local browser",get:function(e,t){console.log("local get","ripple_blob_"+e);var r=store.get("ripple_blob_"+e);t(null,r)},set:function(e,t,r){store.disabled||store.set("ripple_blob_"+e,t),r()}};return s.backends={vault:a,local:o},r.prototype=Error.prototype,s.BlobError=r,s}])},19:function(e){var e=angular.module("network",[]);e.factory("rpNetwork",["$rootScope",function(e){var t=function(){this.remote=new ripple.Remote(Options.server,!0),this.remote.on("connected",this.handleConnect.bind(this)),this.remote.on("disconnected",this.handleDisconnect.bind(this)),this.connected=!1};return t.prototype.init=function(){this.remote.connect()},t.prototype.listenId=function(){},t.prototype.handleConnect=function(){var t=this;e.$apply(function(){t.connected=!0,e.connected=!0,e.$broadcast("$netConnected")})},t.prototype.handleDisconnect=function(){var t=this;e.$apply(function(){t.connected=!1,e.connected=!1,e.$broadcast("$netDisconnected")})},new t}])},20:function(e){var e=angular.module("books",["network"]),t=ripple.Amount;e.factory("rpBooks",["rpNetwork","$q","$rootScope","$filter",function(e,r,n,s){function a(t,r,n){return e.remote.book(t.currency,t.issuer,r.currency,r.issuer,n)}function o(e,r,n){var a,o,i=Options.orderbook_max_rows||100,c=s("rpamount"),l=jQuery.extend(!0,{},e),u=0;l=_.values(_.compact(_.map(l,function(e,s){if(u>i)return!1;e.hasOwnProperty("taker_gets_funded")&&(e.TakerGets=e.taker_gets_funded,e.TakerPays=e.taker_pays_funded),e.TakerGets=t.from_json(e.TakerGets),e.TakerPays=t.from_json(e.TakerPays),e.price=t.from_quality(e.BookDirectory,"1","1"),"asks"!==r&&(e.price=t.from_json("1/1/1").divide(e.price)),e["asks"===r?"TakerPays":"TakerGets"].is_native()&&(e.price=e.price.divide(t.from_json("1000000"))),e["asks"===r?"TakerGets":"TakerPays"].is_native()&&(e.price=e.price.multiply(t.from_json("1000000")));var d=c(e.price,{rel_precision:4,rel_min_precision:2});return a===d?(n&&(l[o].TakerPays=t.from_json(l[o].TakerPays).add(e.TakerPays),l[o].TakerGets=t.from_json(l[o].TakerGets).add(e.TakerGets)),e=!1):o=s,a=d,e&&u++,u>i?!1:e})));var d,p="asks"===r?"TakerGets":"TakerPays";return _.each(l,function(e){d=e.sum=d?d.add(e[p]):e[p]}),l}return{get:function(e,t,r){function s(e){n.$apply(function(){p.asks=o(e,"asks",!0)})}function i(e,t){n.$apply(function(){p.last_price=e.ratio_human(t)})}function c(e){n.$apply(function(){p.bids=o(e,"bids",!0)})}function l(e,t){n.$apply(function(){p.last_price=t.ratio_human(e)})}var u=a(e,t,r),d=a(t,e,r),p={asks:o(u.offersSync(),"asks",!0),bids:o(d.offersSync(),"bids",!0)};return u.on("model",s),u.on("trade",i),d.on("model",c),d.on("trade",l),p.unsubscribe=function(){u.removeListener("model",s),u.removeListener("trade",i),d.removeListener("model",c),d.removeListener("trade",l)},p}}}])},21:function(e){var e=angular.module("transactions",["network"]);e.factory("rpTransactions",["$rootScope","rpNetwork",function(e,t){function r(){a||(t.remote.request_subscribe("transactions").request(),a=!0)}function n(t){e.$apply(function(){s.forEach(function(e){e(t)})})}var s=[],a=!1;return t.remote.on("net_transaction",n),{addListener:function(e){s.push(e),r()},removeListener:function(e){for(var t=-1,r=0,n=s.length;n>r;r++)s[r]===e&&(t=r);0>t||s.splice(t,1)}}}])},22:function(e){var e=angular.module("ledger",["network","transactions"]);e.factory("rpLedger",["$q","$rootScope","rpNetwork","rpTransactions",function(e,t,r,n){function s(e,t,r,n,s,a){return e!==a.currency||t!==s.currency?!1:"XRP"!==e&&r&&a.issuer!==r?!1:"XRP"!==t&&n&&s.issuer!==n?!1:!0}function a(e,t,r,n){var a={asks:[],bids:[]};return Array.isArray(m.offers)?(m.offers.forEach(function(i){var c=o(i.TakerGets),l=o(i.TakerPays);return s(e,t,r,n,l,c)?(a.asks.push({i:c,o:l}),void 0):(s(e,t,r,n,c,l)&&a.bids.push({i:l,o:c}),void 0)}),a.asks.sort(function(e,t){var r=e.o.amount.ratio_human(e.i.amount),n=t.o.amount.ratio_human(t.i.amount);return r.compareTo(n)}),a.bids.sort(function(e,t){var r=e.o.amount.ratio_human(e.i.amount),n=t.o.amount.ratio_human(t.i.amount);return n.compareTo(r)}),i(a.asks,"i"),i(a.bids,"i"),a):a}function o(e){var t=ripple.Amount.from_json(e);return{amount:t,num:+t.to_human({group_sep:!1}),currency:t.currency().to_json(),issuer:t.issuer().to_json()}}function i(e,t){for(var r=null,n=0,s=e.length;s>n;n++)r=null===r?e[n][t].amount:r.add(e[n][t].amount),e[n].sum=r}function c(){f||(r.remote.request_ledger("ledger_closed","full").on("success",u).request(),n.addListener(l),f=!0)}function l(){}function u(e){t.$apply(function(){var t=e.ledger.accountState.filter(function(e){return"Offer"===e.LedgerEntryType});d.resolve(t),m.offers=t})}var d=e.defer(),p=e.defer(),f=!1,m={offers:d.promise,tickers:p.promise,getOrders:a};return r.connected&&c(),r.on("connected",function(){c()}),m}])},23:function(e){var e=angular.module("popup",[]);e.factory("rpPopup",["$http","$compile",function(e,t){var r={};return r.getPopup=function(e){return!r.popupElement&&e&&(r.popupElement=$('<div class="modal fade"></div>'),r.popupElement.appendTo("BODY")),r.popupElement},r.compileAndRunPopup=function(e,r,n){t(e)(r),e.modal(n)},r.blank=function(e,t){var n=r.getPopup(!0),s='<div class="modal-dialog"><div class="modal-content">';s+=e,s+="</div></div>",n.html(s),r.compileAndRunPopup(n,t)},r.confirm=function(e,t,n,s,a,o,i,c,l,u){t=t?t:"Are you sure?",n=n?n:"Ok",a=a?a:"btn btn-info",o=o?o:"Cancel",c=c?c:"";var d=r.getPopup(!0),p='<div class="modal-dialog"><div class="modal-content">';e&&(p+='<div class="modal-header"><h1>'+e+"</h1></div>"),p+='<div class="modal-body"><p class="question">'+t+"</p>"+'<p class="actions">',p+=i?'<a class="'+c+' btn-cancel" ng-click="'+i+'">'+o+"</a>":'<a class="'+c+' btn-cancel">'+o+"</a>",p+=s?'<button class="'+a+' btn-cancel" ng-click="'+s+'">'+n+"</button>":'<button class="'+a+' btn-cancel">'+n+"</button>",p+="</p></div></div></div>",d.html(p),s||d.find(".btn-primary").click(function(){r.close()}),i||d.find(".btn-cancel").click(function(){r.close()}),r.compileAndRunPopup(d,l,u)},r.close=function(){var e=r.getPopup();e&&e.modal("hide")},r}])},24:function(e){var e=angular.module("rippletxt",[]);e.factory("rpRippleTxt",["$q","$rootScope",function(e,t){function r(r){if(s[r])return s[r];var a=e.defer();s[r]=a;var o=["https://ripple."+r+"/ripple.txt","https://www."+r+"/ripple.txt","https://"+r+"/ripple.txt"].reverse(),i=function(){if(!o.length)return s[r]={},a.reject(new Error("No ripple.txt found")),void 0;var e=o.pop();$.ajax({url:e,dataType:"text",success:function(e){t.$apply(function(){var t=n(e);s[r]=t,a.resolve(t)})},error:function(e,r){setImmediate(function(){t.$apply(function(){i(e,r)})})}})};return i(),a.promise}function n(e){e=e.replace("\r\n","\n"),e=e.replace("\r","\n"),e=e.split("\n");for(var t="",r={},n=0,s=e.length;s>n;n++){var a=e[n];a.length&&"#"!==a[0]&&("["===a[0]&&"]"===a[a.length-1]?(t=a.slice(1,a.length-1),r[t]=[]):(a=a.replace(/^\s+|\s+$/g,""),r[t]&&r[t].push(a)))}return r}var s={};return{get:r,parse:n}}])},25:function(e){var e=angular.module("federation",[]);e.factory("rpFederation",["$q","$rootScope","rpRippleTxt",function(e,t,r){function n(n){function s(){o.reject({result:"error",error:"noRippleTxt",error_message:"Ripple.txt not available for the requested domain."})}function a(e){e.federation_url?$.ajax({url:e.federation_url[0],dataType:"json",data:{type:"federation",domain:c,destination:l,user:l},error:function(){t.$apply(function(){o.reject({result:"error",error:"unavailable",error_message:"Federation gateway did not respond."})})},success:function(e){t.$apply(function(){"object"!=typeof e||"object"!=typeof e.federation_json||"federation_record"!==e.federation_json.type||e.federation_json.user!==l&&e.federation_json.destination!==l||e.federation_json.domain!==c?"string"==typeof e.error?o.reject({result:"error",error:"remote",error_remote:e.error,error_message:e.error_message?"Service error: "+e.error_message:"Unknown remote service error."}):o.reject({result:"error",error:"unavailable",error_message:"Federation gateway's response was invalid."}):o.resolve(e.federation_json)})}}):o.reject({result:"error",error:"noFederation",error_message:"Federation is not available on the requested domain."})}var o=e.defer(),i=n.split("@"),c=i.pop(),l=i.join("@"),u=r.get(c);return u?"function"==typeof u.then?u.then(a,s):a(u):s(),o.promise}return{check_email:n}}])},26:function(e){var e=angular.module("domainalias",["network","rippletxt"]);e.factory("rpDomainAlias",["$q","$rootScope","rpNetwork","rpRippleTxt",function(e,t,r,n){function s(e,t,r){if(!r.domain||1!==r.domain.length||r.domain[0]!==e)return!1;if(!r.accounts)return!1;for(var n=0,s=r.accounts.length;s>n;n++)if(r.accounts[n]===t)return!0;return!1}function a(a){if(o[a])return o[a];var i=e.defer();return r.remote.request_account_info(a).on("success",function(e){e.account_data.Domain&&t.$apply(function(){var t=sjcl.codec.utf8String.fromBits(sjcl.codec.hex.toBits(e.account_data.Domain)),r=n.get(t);r.then(function(e){var r=s(t,a,e);i.resolve(r?t:!1)},function(){})})}).on("error",function(){}).request(),o[a]=i.promise,i.promise}var o={};return{getAliasForAddress:a}}])},27:function(e){var e=angular.module("zipzap",[]);e.factory("rpZipzap",["$rootScope",function(){var e=function(){this.baseUrl=Options.zipzap.requester,this.params={data:{}}};return e.prototype.register=function(e,t){this.params.action="signup",this.params.type="POST",this.params.data={MerchantCustomerID:e,FirstName:t.firstname,LastName:t.lastname,Address:t.address,City:t.city,State:t.state,PostalCode:t.zipcode,CountryCode:t.countrycode?t.countrycode.toUpperCase():"",Phone:t.phone,DateOfBirth:t.dob,Email:t.email,AcctType:"Multi",ComplianceAnswers:[{QuestionID:"80a06fff-284d-e311-8fba-0653b901631c",Answer:t.ssn}]}},e.prototype.locate=function(e){this.params.action="locate",this.params.type="GET",this.params.q=encodeURIComponent(encodeURIComponent(e))},e.prototype.request=function(e){console.log("request called");var t=this.baseUrl+"?action="+this.params.action;this.params.q&&(t=t+"&q="+this.params.q),$.ajax({type:this.params.type,url:t,data:this.params.data,dataType:"json",success:function(t){t=t?t:{},e(t),console.log("request response",t)},error:function(e){console.log("error",e)}})},new e}])},28:function(e,t,r){var n=r(43),s=r(53).Tab,a=function(){s.call(this)};n.inherits(a,s),a.prototype.tabName="register",a.prototype.pageMode="single",a.prototype.parent="main",a.prototype.generateHtml=function(){return r(54)()},a.prototype.angular=function(e){e.controller("RegisterCtrl",["$scope","$location","$element","rpId","rpTracker",function(e,t,r,n,s){if(n.loginStatus)return t.path("/balance"),void 0;e.backendChange=function(){n.blobBackends=e.blobBackendCollection.something.value.split(","),store.disabled||store.set("ripple_blobBackends",n.blobBackends)},e.reset=function(){e.username="",e.password="",e.passwordSet={},e.password1="",e.password2="",e.master="",e.key="",e.mode="form",e.showMasterKeyInput=!1,e.submitLoading=!1,e.track=!0,e.registerForm&&e.registerForm.$setPristine(!0)},e.register=function(){n.register(e.username,e.password1,function(t){e.password=new Array(e.password1.length+1).join("*"),e.keyOpen=t,e.key=e.keyOpen[0]+new Array(e.keyOpen.length).join("*"),e.mode="welcome"},e.masterkey)};var a=function(){var t,n,s;t=r.find('input[name="register_username"]').eq(0).val(),n=r.find('input[name="register_password1"]').eq(0).val(),s=r.find('input[name="register_password2"]').eq(0).val(),"string"==typeof t&&e.registerForm.register_username.$setViewValue(t),"string"==typeof n&&e.registerForm.register_password1.$setViewValue(n),"string"==typeof s&&e.registerForm.register_password2.$setViewValue(s)};e.submitForm=function(){e.submitLoading=!0,a();var r;n.exists(e.username,e.password1,function(s,a){r||(a?n.login(e.username,e.password1,function(r){e.submitLoading=!1,r?e.mode="loginerror":e.masterkey&&e.masterkey!=e.userCredentials.master_seed?e.mode="masterkeyerror":t.path("/balance")}):(r=!0,Options.mixpanel&&(Options.mixpanel.track=e.track),store.disabled||store.set("ripple_settings",JSON.stringify(Options)),e.register()))})},e.goToBalance=function(){e.mode="form",e.reset(),s.track("Sign Up",{"Used key":!!e.masterkey,"Password strength":e.strength,Blob:e.blobBackendCollection.something.name,"Showed secret key":!!e.showSecret,"Showed password":!!e.showPassword}),t.path("/balance")},e.reset()}])},e.exports=a},29:function(e,t,r){var n=r(43),s=r(53).Tab,a=function(){s.call(this)};n.inherits(a,s),a.prototype.tabName="login",a.prototype.pageMode="single",a.prototype.parent="main",a.prototype.generateHtml=function(){return r(55)()},a.prototype.angular=function(e){e.controller("LoginCtrl",["$scope","$element","$routeParams","$location","rpId","$rootScope","rpPopup","$timeout","rpTracker",function(e,t,r,n,s,a,o,i,c){if(s.loginStatus)return n.path("/balance"),void 0;e.backendChange=function(){s.blobBackends=e.blobBackendCollection.something.value.split(","),store.disabled||store.set("ripple_blobBackends",s.blobBackends)},e.error="",e.username="",e.password="",e.loginForm&&e.loginForm.$setPristine(!0),e.backendMessages=[],i(function(){e.$apply(function(){e.username=t.find('input[name="login_username"]').val(),e.password=t.find('input[name="login_password"]').val()})},1e3),a.$on("$blobError",function(t,r){console.log("BLOB ERROR",arguments),e.backendMessages.push({backend:r.backend,message:r.message})});var l=function(){var r,n;r=t.find('input[name="login_username"]:visible').eq(0).val(),n=t.find('input[name="login_password"]:visible').eq(0).val(),"string"==typeof r&&e.loginForm.login_username.$setViewValue(r),"string"==typeof n&&e.loginForm.login_password.$setViewValue(n)};e.$watch("username",function(){i(function(){e.$apply(function(){l()})},50)}),e.$watch("password"),e.submitForm=function(){e.ajax_loading||(e.backendMessages=[],l(),setImmediate(function(){s.login(e.username,e.password,function(t){return e.ajax_loading=!1,t?(e.status="Login failed:","OldBlobError"===t.name&&(o.confirm("Wallet Upgrade","Ripple is upgrading the wallet encryption format. After the upgrade, only Ripple clients 0.2.24 or higher can access your wallet.<br><br>If you use other clients, please make sure they are upgraded to the current version.","OK","migrateConfirm()",null,"Abort login",null,null,e,{}),e.migrateConfirm=function(){s.allowOldBlob=!0,e.submitForm()}),"BlobError"!==t.name&&e.backendMessages.push({backend:"ID",message:t.message}),c.track("Login",{Status:"error",Message:t.message,Blob:e.blobBackendCollection.something.name}),void 0):(c.track("Login",{Status:"success",Blob:e.blobBackendCollection.something.name}),e.status="",r.tab?n.path("/"+r.tab):n.path("/balance"),void 0)})}),e.ajax_loading=!0,e.error="",e.status="Fetching wallet...")}}]),e.directive("rpFocusOnEmpty",["$timeout",function(e){return function(t,r){e(function(){t.$watch(function(){return r.is(":visible")},function(e){e!==!0||r.val()||r.focus()})},200)}}])},e.exports=a},30:function(e,t,r){var n=r(43),s=r(53).Tab,a=r(49),o=function(){s.call(this)};n.inherits(o,s),o.prototype.tabName="balance",o.prototype.mainMenu="wallet",o.prototype.generateHtml=function(){return r(56)()},o.prototype.angular=function(e){e.controller("BalanceCtrl",["$scope","rpId","rpNetwork","rpTracker",function(e,t,r){if(!t.loginStatus)return t.goId();e.transactions=[],e.current_page=1;var n=function(e){if(!e)return null;var t=jQuery.extend(!0,{},e),r=[];return t.effects&&($.each(t.effects,function(){var e=this;if("offer_funded"==e.type||"offer_partially_funded"==e.type||"offer_bought"==e.type||"trust_change_no_ripple"==e.type||"offer_cancelled"===e.type){if("offer_cancelled"===e.type&&t.transaction&&"offercancel"===t.transaction.type)return;r.push(e)}}),t.showEffects=r),r.length||t.transaction?t:null};e.reset=function(){e.transactions=[],e.has_more=!0};var s;e.loadMore=function(){var o=t.account;if(t.account&&!e.is_loading_more&&e.has_more){e.tx_load_status="loading";var i={account:o,ledger_index_min:-1,limit:Options.transactions_per_page};s&&(i.marker=s),r.remote.request_account_tx(i).on("success",function(t){e.$apply(function(){t.transactions&&(t.marker?s&&"undefined"!=typeof t.marker.ledger&&t.marker.ledger===s.ledger&&"undefined"!=typeof t.marker.seq&&t.marker.seq===s.seq?e.has_more=!1:s=t.marker:e.has_more=!1,t.transactions.forEach(function(t){var r=a.processTxn(t.tx,t.meta,o);r=n(r),r&&e.transactions.push(r)}),e.tx_load_status=!1)})}).on("error",function(t){e.tx_load_status="error",console.log(t)}).request()}},e.reset(),e.loadMore(),e.$on("$idAccountLoad",function(){e.reset(),e.loadMore()})}])},e.exports=o},31:function(e,t,r){var n=r(43),s=r(53).Tab,a=r(49),o=function(){s.call(this)};n.inherits(o,s),o.prototype.tabName="history",o.prototype.mainMenu="wallet",o.prototype.generateHtml=function(){return r(57)()},o.prototype.angular=function(e){e.controller("HistoryCtrl",["$scope","rpId","rpNetwork","rpTracker",function(e,t,r){if(!t.loginStatus)return t.goId();var n;e.historyShow=[],e.$watch("loadState.transactions",function(){e.historyState=e.loadState.transactions?"ready":"loading"}),e.details=[];var s=[];e.types={sent:{types:["sent"],checked:!0},received:{types:["received"],checked:!0},trusts:{types:["trusting","trusted"],checked:!0},offers:{types:["offernew","offercancel","convert"],checked:!0},other:{types:["accountset","failed","rippling"],checked:!0}},e.orderedTypes=["sent","received","trusts","offers","other"],store.get("ripple_history_type_selections")&&(e.types=$.extend(!0,e.types,store.get("ripple_history_type_selections"))),e.filters=store.get("ripple_history_filters")?store.get("ripple_history_filters"):{currencies_is_active:!1,currencies:{},types:["sent","received","convert","trusting","trusted","offernew","offercancel","rippling"],minimumAmount:1e-6};var o=function(n,s,o){var i=!1,c=[],l={account:t.account,ledger_index_min:-1,limit:200},u=function(){r.remote.request_account_tx(l).on("success",function(r){if(r.transactions.length){for(var d=0;d<r.transactions.length;d++){var p=1e3*(r.transactions[d].tx.date+946684800);if(p<n.getTime()){i=!0;break}if(!(p>s.getTime())){var f=a.processTxn(r.transactions[d].tx,r.transactions[d].meta,t.account);f&&c.push(f)}}l.marker={ledger:r.transactions[d-1].tx.inLedger,seq:0},e.tx_marker=l.marker,i?o(c):u()}else o(c)}).request()};u(0)};e.submitDateRangeForm=function(){e.dateMaxView.setDate(e.dateMaxView.getDate()+1),i(e.dateMinView,e.dateMaxView)},e.submitMinimumAmountForm=function(){c()};var i=function(t,r){e.history=[],e.historyState="loading",o(t,r,function(t){e.$apply(function(){e.history=t,e.historyState="ready"})})};e.$watch("balances",function(){l()}),e.$watch("types",function(){var t=[],r={};_.each(e.types,function(e,n){e.checked&&(t=t.concat(e.types)),r[n]={checked:!!e.checked}}),e.filters.types=t,store.disabled||store.set("ripple_history_type_selections",r)},!0),store.disabled||e.$watch("filters",function(){store.set("ripple_history_filters",e.filters)},!0),e.$watch("filters.types",function(){c()},!0),e.$watch("filters.currencies",function(){l(),c()},!0),e.$watchCollection("history",function(){n&&e.history[e.history.length-1]&&n.hash===e.history[e.history.length-1].hash||(c(),e.history.length&&l(),n=$.extend(!0,{},e.history[e.history.length-1]))},!0);var c=function(){if(e.historyShow=[],e.history.length){var t,r;e.minLedger=0;var n=_.map(e.filters.currencies,function(e,t){return e.checked?t:!1});e.history.forEach(function(a){if(e.dateMinView||((!t||t>a.date)&&(t=a.date),(!r||r<a.date)&&(r=a.date)),s=_.union(s,a.affected_currencies),(!e.minLedger||e.minLedger>a.ledger_index)&&(e.minLedger=a.ledger_index),!(a.transaction&&!_.contains(e.filters.types,a.transaction.type)||!a.transaction&&!_.contains(e.filters.types,"offernew")||e.filters.currencies_is_active&&_.intersection(n,a.affected_currencies).length<=0)){var o=[];if(a.effects){$.each(a.effects,function(){var e=this;switch(e.type){case"offer_funded":case"offer_partially_funded":case"offer_bought":case"offer_cancelled":if("offer_cancelled"===e.type&&a.transaction&&"offercancel"===a.transaction.type)return;o.push(e)}}),a.showEffects=o,o=[];var i,c,l=e.filters.minimumAmount;if($.each(a.effects,function(){var e=this;switch(e.type){case"fee":case"balance_change":case"trust_change_balance":o.push(e),("balance_change"===e.type||"trust_change_balance"===e.type)&&(i=e.amount.abs().is_native()?e.amount.abs().to_number()/1e6:e.amount.abs().to_number(),(!c||i>c)&&(c=i))}}),c&&l>c)return;a.balanceEffects=o}a.effects&&1===a.effects.length&&"fee"==a.effects[0].type||e.historyShow.push(a)}}),e.historyShow.length&&!e.dateMinView&&(u("dateMinView",t),u("dateMaxView",r))}},l=function(){if(!$.isEmptyObject(e.balances)){var t=_.union(["XRP"],_.map(e.balances,function(e,t){return t.toUpperCase()}),s),r={},n=$.isEmptyObject(e.filters.currencies);e.filters.currencies_is_active=!1,_.each(t,function(t){var s=e.filters.currencies[t]&&e.filters.currencies[t].checked||n;r[t]={checked:s},s||(e.filters.currencies_is_active=!0)}),e.filters.currencies=r}},u=function(t,r){e[t]=isNaN(r)||null==r?null:new Date(r)};e.loadMore=function(){var n;e.historyState="loading";var s=100,o={account:t.account,ledger_index_min:-1,limit:s,marker:e.tx_marker};r.remote.request_account_tx(o).on("success",function(r){e.$apply(function(){if(r.transactions.length<s,e.tx_marker=r.marker,r.transactions){var o=[];r.transactions.forEach(function(e){var r=a.processTxn(e.tx,e.meta,t.account);r&&(o.push(r),(!n||r.date<n)&&(n=r.date))});var i=_.uniq(e.history.concat(o),!1,function(e){return e.hash});e.historyState=e.history.length===i.length?"full":"ready",e.history=i,u("dateMinView",n)}})}).request()}}])},e.exports=o},32:function(e,t,r){var n=r(43);r(47);var s=r(53).Tab,a=function(){s.call(this)};n.inherits(a,s),a.prototype.tabName="contacts",a.prototype.mainMenu="wallet",a.prototype.aliases=["contact"],a.prototype.generateHtml=function(){return r(58)()},a.prototype.angular=function(e){e.controller("ContactsCtrl",["$scope","rpId","rpTracker",function(e,t){return t.loginStatus?(e.reset_form=function(){e.contact={name:"",address:""},e.addForm&&e.addForm.$setPristine()},e.reset_form(),e.toggle_form=function(){e.addform_visible=!e.addform_visible,e.reset_form()},e.create=function(){var t={name:e.contact.name,address:e.contact.address};e.contact.dt&&(t.dt=e.contact.dt),e.enable_highlight=!0,e.userBlob.data.contacts.unshift(t),e.toggle_form(),e.reset_form()},void 0):t.goId()}]),e.controller("ContactRowCtrl",["$scope","$location",function(e,t){e.editing=!1,e.edit=function(){e.editing=!0,e.editname=e.entry.name,e.editaddress=e.entry.address,e.editdt=e.entry.dt},e.update=function(){e.inlineAddress.editaddress.$error.rpUnique||e.inlineAddress.editaddress.$error.rpDest||e.inlineName.editname.$error.rpUnique||(e.entry.name=e.editname,e.entry.address=e.editaddress,e.editdt&&(e.entry.dt=e.editdt),e.editing=!1)
},e.remove=function(t){e.userBlob.data.contacts.splice(t,1)},e.cancel=function(){e.editing=!1},e.send=function(){var r={to:e.entry.name};t.path("/send"),t.search(r)}}])},e.exports=a},33:function(e,t,r){var n=r(43),s=r(47),a=r(53).Tab,o=ripple.Amount;ripple.Base;var i=function(){a.call(this)};n.inherits(i,a),i.prototype.tabName="convert",i.prototype.mainMenu="wallet",i.prototype.generateHtml=function(){return r(59)()},i.prototype.angular=function(e){e.controller("ConvertCtrl",["$scope","$timeout","$routeParams","rpId","rpNetwork","rpTracker",function(e,t,r,n,a){function i(t,r){switch(e.engine_result=t.engine_result,e.engine_result_message=t.engine_result_message,t.engine_result.slice(0,3)){case"tes":e.tx_result=r?"cleared":"pending";break;case"tem":e.tx_result="malformed";break;case"ter":e.tx_result="failed";break;case"tep":e.tx_result="partial";break;case"tec":e.tx_result="claim";break;case"tef":e.tx_result="failure";break;case"tel":e.tx_result="local";break;default:console.warn("Unhandled engine status encountered!")}}if(!n.loginStatus)return n.goId();var c;e.xrp=_.where(e.currencies_all,{value:"XRP"})[0],e.$watch("convert.amount",function(){e.update_convert()},!0),e.$watch("convert.currency",function(){e.convert.currency_code=e.convert.currency?e.convert.currency.slice(0,3).toUpperCase():"XRP",e.update_convert()},!0);var l;e.update_convert=function(){var r=e.convert,s=r.currency_code,a=""+r.amount+" "+s.slice(0,3);return 0===parseFloat(a)?(e.error_type="required",!1):(r.amount_feedback=o.from_human(a),r.amount_feedback.set_issuer(n.account),r.amount_feedback.is_valid()?(r.path_status="pending",r.alt=null,l&&clearTimeout(l),l=t(e.update_paths,500)):r.path_status="waiting",void 0)},e.update_paths=function(){e.$apply(function(){e.convert.path_status="pending";var t=e.convert.amount_feedback;if(!t.is_zero()){var r,s=a.remote.path_find(n.account,n.account,t);s.on("update",function(t){e.$apply(function(){r=new Date,clearInterval(c),c=setInterval(function(){e.$apply(function(){var t=Math.round((new Date-r)/1e3);e.lastUpdate=t?t:0})},1e3),t.alternatives&&t.alternatives.length?(e.convert.path_status="done",e.convert.alternatives=_.map(t.alternatives,function(e){var t={};return t.amount=o.from_json(e.source_amount),t.send_max=t.amount.product_human(o.from_json("1.01")),t.paths=e.paths_computed?e.paths_computed:e.paths_canonical,t})):e.convert.path_status="no-path"})})}})},e.currency_query=s.queryFromOptions(e.currencies_all),e.$watch("lines",function(t){var r=_.uniq(_.map(_.keys(t),function(e){return e.slice(-3)}));r=_.map(r,function(t){return _.each(e.currencies_all,function(e){return t===e.value?(t=e.name,!1):void 0}),t}),e.source_currency_query=s.queryFromArray(r)},!0),e.reset=function(){e.mode="form",e.convert={amount:"",currency:e.xrp.name,currency_code:"XRP",path_status:"waiting",fund_status:"none"},e.nickname="",e.error_type="",e.convertForm&&e.convertForm.$setPristine(!0)},e.cancelConfirm=function(){e.mode="form",e.convert.alt=null},e.reset_goto=function(t){e.reset(),document.location="#"+t},e.convert_prepared=function(){e.confirm_wait=!0,t(function(){e.confirm_wait=!1},1e3,!0),e.mode="confirm"},e.convert_confirmed=function(){var t=e.convert.currency.slice(0,3).toUpperCase(),r=o.from_human(""+e.convert.amount+" "+t);r.set_issuer(n.account);var c=a.remote.transaction();c.destination_tag(s.getDestTagFromAddress(n.account)),c.payment(n.account,n.account,r.to_json()),c.send_max(e.convert.alt.send_max),c.paths(e.convert.alt.paths),c.on("proposed",function(t){e.$apply(function(){i(t,!1),e.converted(c.hash);for(var r,n=0;n<e.currencies_all.length;n++)if(e.currencies_all[n].value.toLowerCase()===e.convert.amount_feedback.currency().to_human().toLowerCase()){e.currencies_all[n].order++,r=!0;break}r||e.currencies_all.push({name:e.convert.amount_feedback.currency().to_human().toUpperCase(),value:e.convert.amount_feedback.currency().to_human().toUpperCase(),order:1})})}),c.on("success",function(e){i(e,!0)}),c.on("error",function(t){setImmediate(function(){e.$apply(function(){e.mode="error","remoteError"===t.error&&"noPath"===t.remote.error&&(e.mode="status",e.tx_result="noPath")})})}),c.submit(),e.mode="sending"},e.converted=function(t){function r(n){e.$apply(function(){n.transaction.hash===t&&(i(n,!0),a.remote.removeListener("transaction",r))})}e.mode="status",a.remote.on("transaction",r)},e.reset()}]),e.directive("unique",function(){return{restrict:"A",require:"?ngModel",link:function(e,t,r,n){if(n){var a=function(t){var r=!s.getContact(e.userBlob.data.contacts,t);return n.$setValidity("unique",r),r?t:void 0};n.$formatters.push(a),n.$parsers.unshift(a),r.$observe("unique",function(){a(n.$viewValue)})}}}})},e.exports=i},34:function(e,t,r){var n=r(43),s=r(53).Tab;r(49);var a=function(){s.call(this)};n.inherits(a,s),a.prototype.tabName="cashin",a.prototype.mainMenu="wallet",a.prototype.generateHtml=function(){return r(60)()},a.prototype.angular=function(e){e.controller("CashinCtrl",["$scope","$rootScope","rpId","rpNetwork","rpZipzap","rpTracker",function(e,t,r,n,s,a){return r.loginStatus?(e.form={countrycode:"US"},e.$watch("address",function(r){if(!t.zipzap&&r){var s=n.remote.account(r);e.loading=!0,e.userBlob.data.zipzap&&!$.isEmptyObject(e.userBlob.data.zipzap)?s.line("USD","rMwjYedjc7qqtKYVLiAccJSmCwih4LnE2q",function(t,r){e.$apply(function(){e.mode=r&&r.limit>0?"details":"step2",e.zipzap=e.userBlob.data.zipzap,e.loading=!1})}):(e.mode="step1",e.loading=!1)}}),e.signup=function(){e.signupProgress="loading",s.register(r.account,e.form),s.request(function(t){var r=n.remote.account(e.address);e.signupProgress=!1,t.ZipZapAcctNum?(e.userBlob.data.zipzap=t,r.line("USD","rMwjYedjc7qqtKYVLiAccJSmCwih4LnE2q",function(r,n){e.$apply(function(){e.displaySignupForm=!1,e.mode=n&&n.limit>0?"details":"step2",e.zipzap=t,e.loading=!1})}),a.track("ZipZap register",{Status:"success"})):e.$apply(function(){t&&t.Message?(e.error={code:t.Code,message:t.Message,verboseMessage:t.VerboseMessage},a.track("ZipZap register",{Status:"error",Message:t.VerboseMessage})):(e.error={code:null,message:"Invalid form",verboseMessage:"Form is invalid, please make sure entered information is correct"},a.track("ZipZap register",{Status:"error",Message:"Form is invalid"}))})})},e.locate=function(){e.locateStatus="loading",s.locate(e.query),s.request(function(t){e.$apply(function(){e.locations=t,e.locateStatus=!1,!t.PayCenters||t.PayCenters&&!t.PayCenters.length?(e.locateStatus="notfound",a.track("ZipZap locate payment center",{Status:"success"})):a.track("ZipZap locate payment center",{Status:"notfound"})})})},void 0):r.goId()}]),e.directive("rpDob",function(){return{restrict:"A",require:"?ngModel",link:function(e,t,r,n){if(n){var s=/^([0-9]{4})-([0-9]{2})-([0-9]{2})$/,a=function(e){return n.$setValidity("rpDob",s.test(e)),e};n.$formatters.push(a),n.$parsers.unshift(a),r.$observe("rpDob",function(){a(n.$viewValue)})}}}})},e.exports=a},35:function(e,t,r){var n=r(43),s=r(47),a=r(53).Tab;ripple.Amount;var o=function(){a.call(this)};n.inherits(o,a),o.prototype.tabName="trust",o.prototype.mainMenu="advanced",o.prototype.generateHtml=function(){return r(61)()},o.prototype.angular=function(e){e.controller("TrustCtrl",["$scope","$timeout","$routeParams","rpId","$filter","rpNetwork","rpTracker",function(e,t,r,n,a,o){function i(t,r){switch(e.engine_result=t.engine_result,e.engine_result_message=t.engine_result_message,t.engine_result.slice(0,3)){case"tes":e.tx_result=r?"cleared":"pending";break;case"tem":e.tx_result="malformed";break;case"ter":e.tx_result="failed";break;case"tec":e.tx_result="failed";break;case"tel":e.tx_result="local";break;case"tep":console.warn("Unhandled engine status encountered!")}}return n.loginStatus?(e.sorting={predicate:"balance",reverse:!0,sort:function(t){return"currency"===e.sorting.predicate?t.currency:t.balance.to_number()}},e.$watch("lines",function(t){e.linesArray=_.toArray(t)},!0),e.validation_pattern=/^0*(([1-9][0-9]*.?[0-9]*)|(.0*[1-9][0-9]*))$/,e.reset=function(){if(e.mode="main",e.currency="USD",e.addform_visible=!1,e.editform_visible=!1,e.edituser="",e.amount="",e.allowrippling=!1,e.counterparty="",e.saveAddressName="",e.error_account_reserve=!1,r.to&&r.amount)var t=e.$watch("counterparty_address",function(r){r&&(e.grant(),t())})},e.toggle_form=function(){e.addform_visible||e.editform_visible?e.reset():e.addform_visible=!0},e.$watch("account",function(){e.can_add_trust=!1,e.account.Balance&&e.account.reserve_to_add_trust&&(!e.account.reserve_to_add_trust.subtract(e.account.Balance).is_positive()||$.isEmptyObject(e.lines))&&(e.can_add_trust=!0)},!0),e.$watch("counterparty",function(){e.error_account_reserve=!1,e.contact=s.getContact(e.userBlob.data.contacts,e.counterparty),e.contact?(e.counterparty_name=e.contact.name,e.counterparty_address=e.contact.address):(e.counterparty_name="",e.counterparty_address=e.counterparty)},!0),e.grant=function(){e.verifying=!0,e.error_account_reserve=!1,o.remote.request_account_info(e.counterparty_address).on("success",function(){e.$apply(function(){e.verifying=!1;var r=ripple.Amount.from_human(""+e.amount+" "+e.currency.slice(0,3).toUpperCase());e.amount_feedback=r.to_human(),e.currency_feedback=r.currency().to_json(),e.confirm_wait=!0,t(function(){e.confirm_wait=!1},1e3,!0),e.mode="confirm";var n=r.currency().to_json(),s=e.balances[n];if(e.currencyWarning=!1,s){for(var a in s.components)a===e.counterparty_address&&(e.currencyWarning="sameIssuer");e.currencyWarning||(e.currencyWarning="multipleIssuers")}else e.currencyWarning="firstIssuer"})}).on("error",function(){setImmediate(function(){e.$apply(function(){e.verifying=!1,e.error_account_reserve=!0})})}).request()},e.grant_confirmed=function(){var t=e.currency.slice(0,3).toUpperCase(),r=e.amount+"/"+t+"/"+e.counterparty_address,s=o.remote.transaction();s.rippleLineSet(n.account,r).setFlags(e.allowrippling?"ClearNoRipple":"NoRipple").on("proposed",function(r){e.$apply(function(){i(r,!1),e.granted(s.hash);for(var n,a=0;a<e.currencies_all.length;a++)if(e.currencies_all[a].value.toLowerCase()===t.toLowerCase()){e.currencies_all[a].order++,n=!0;break}n||e.currencies_all.push({name:t,value:t,order:1})})}).on("success",function(t){e.$apply(function(){i(t,!0)})}).on("error",function(){setImmediate(function(){e.$apply(function(){e.mode="error"})})}).submit(),e.mode="granting"},e.granted=function(t){function r(n){e.$apply(function(){n.transaction.hash===t&&(i(n,!0),o.remote.removeListener("transaction",r))})}e.mode="granted",o.remote.on("transaction",r)},e.saveAddress=function(){e.addressSaving=!0;var t={name:e.saveAddressName,address:e.counterparty_address},r=e.$on("$blobSave",function(){r(),e.contact=t,e.addressSaved=!0});e.userBlob.data.contacts.unshift(t)},e.edit_line=function(){var r=this.line,n=a("rpcontactnamefull"),s=n(r.account);e.edituser=s?s:"User",e.validation_pattern=s?/^[0-9.]+$/:/^0*(([1-9][0-9]*.?[0-9]*)|(.0*[1-9][0-9]*))$/,e.currency=r.currency,e.counterparty=r.account,e.amount=+r.limit.to_text(),console.log("line",r),e.allowrippling=!r.no_ripple,e.addform_visible=!1,e.editform_visible=!1,t(function(){e.editform_visible=!0})},e.counterparty_query=function(t,r){var n=e.userBlob.data.contacts.map(function(e){return e.name});return r instanceof RegExp?n.filter(function(e){return e.toLowerCase().match(t.toLowerCase())}):n},e.currency_query=s.queryFromOptions(e.currencies_all),e.reset(),void 0):n.goId()}])},e.exports=o},36:function(e,t,r){var n=r(43),s=r(47),a=r(53).Tab,o=ripple.Amount,i=ripple.Base;ripple.RippleError;var c=function(){a.call(this)};n.inherits(c,a),c.prototype.tabName="send",c.prototype.mainMenu="send",c.prototype.angularDeps=a.prototype.angularDeps.concat(["federation"]),c.prototype.generateHtml=function(){return r(62)()},c.prototype.angular=function(e){e.controller("SendCtrl",["$scope","$timeout","$routeParams","rpId","rpNetwork","rpFederation","rpTracker",function(e,t,r,n,a,c,l){if(!n.loginStatus)return n.goId();var u;e.xrp=_.where(e.currencies_all,{value:"XRP"})[0],e.$watch("send.recipient",function(){var t=s.stripRippleAddress(e.send.recipient);e.contact=s.getContact(e.userBlob.data.contacts,t),e.contact?(e.send.recipient===e.contact.address&&(e.send.recipient=e.contact.name),e.send.recipient_name=e.contact.name,e.send.recipient_address=e.contact.address,e.contact.dt&&(e.send.dt=e.contact.dt)):(e.send.recipient_name="",e.send.recipient_address=t),e.update_destination()},!0),e.$watch("send.currency",function(){e.send.currency_code=e.send.currency?e.send.currency.slice(0,3).toUpperCase():"XRP",e.update_currency()},!0),e.$watch("send.amount",function(){e.update_amount()},!0),e.$watch("send.extra_fields",function(){e.update_amount()},!0),e.$watch("sendForm.$valid",function(){e.update_amount()});var d;e.reset_destination_deps=function(){var t=e.send;t.self=!1,t.bitcoin=!1,t.quote_url=!1,t.federation=!1,t.fund_status="none",t.extra_fields=[],e.sendForm.send_destination.$setValidity("federation",!0),t.recipient_resolved=!1,e.reset_currency_deps()},e.check_dt_visibility=function(){var t=e.send;t.show_dt_field=(r.dt||t.dt||t.recipient_info.dest_tag_required)&&!t.bitcoin&&!t.federation},e.update_destination=function(){var r=e.send,n=r.recipient_address;n!==r.last_recipient&&(r.last_recipient=n,e.reset_destination_deps(),r.self=n===e.address,r.bitcoin=!isNaN(i.decode_check([0,5],n,"bitcoin")),r.federation="string"==typeof n&&~n.indexOf("@"),e.check_dt_visibility(),d&&t.cancel(d),d=t(e.update_destination_remote,500))},e.update_destination_remote=function(){var t=e.send,r=t.recipient_address;e.sendForm&&e.sendForm.send_destination&&e.sendForm.send_destination.$setValidity("federation",!0),t.bitcoin?(t.quote_url=Options.bridge.out.bitcoin,t.quote_destination=r,e.update_currency_constraints()):t.federation?(t.path_status="fed-check",c.check_email(r).then(function(n){var s=t.recipient_actual||t.recipient_address;r===s&&(t.federation_record=n,n.extra_fields&&(t.extra_fields=n.extra_fields),t.dt="number"==typeof n.dt?n.dt:void 0,n.destination_address?(t.recipient_name=r,t.recipient_address=n.destination_address,e.check_destination()):n.quote_url?(t.quote_url=n.quote_url,t.quote_destination=n.destination,t.path_status="waiting",e.update_currency_constraints()):(t.path_status="waiting",e.sendForm.send_destination.$setValidity("federation",!1)))},function(){var n=t.recipient_actual||t.recipient_address;r===n&&(t.path_status="waiting",e.sendForm.send_destination.$setValidity("federation",!1))})):e.check_destination()},e.check_destination=function(){var t=e.send,r=t.recipient_actual||t.recipient_address;if(ripple.UInt160.is_valid(r)){var n=a.remote.account(r);t.path_status="checking",n.entry(function(n,s){e.$apply(function(){var a=t.recipient_actual||t.recipient_address;if(r===a)if(t.recipient_resolved=!0,n)"actNotFound"===n.remote.error&&(t.recipient_info={loaded:!0,exists:!1,Balance:"0"},e.update_currency_constraints());else{if(t.recipient_info={loaded:!0,exists:!0,Balance:s.account_data.Balance,disallow_xrp:s.account_data.Flags&ripple.Remote.flags.account_root.DisallowXRP,dest_tag_required:s.account_data.Flags&ripple.Remote.flags.account_root.RequireDestTag},e.check_dt_visibility(),!e.account||!e.account.reserve_base)return;var o=e.account.reserve_base;t.xrp_deficiency=o.subtract(s.account_data.Balance),t.recipient_lines=!1,e.update_currency_constraints()}})})}},e.update_currency_constraints=function(){var t=e.send;if(t.currency_choices=e.currencies_all,t.currency_force=!1,t.bitcoin)return t.currency_choices=["BTC"],t.currency_force="BTC",t.currency="BTC",void 0;if(t.federation_record&&"undefined"!=typeof t.federation_record.amount&&(t.force_amount=o.from_json(t.federation_record.amount),t.amount=t.force_amount.to_text(),t.currency_choices=[t.force_amount.currency().to_json()],t.currency_force=t.force_amount.currency().to_json(),t.currency=t.currency_force),t.federation_record&&$.isArray(t.federation_record.currencies)&&t.federation_record.currencies.length>=1&&"object"==typeof t.federation_record.currencies[0]&&"string"==typeof t.federation_record.currencies[0].currency&&(t.currency_choices=[],$.each(t.federation_record.currencies,function(){t.currency_choices.push(this.currency)}),t.currency_force=t.currency_choices[0],t.currency=t.currency_choices[0]),t.recipient_info.loaded){if(t.recipient_info.exists&&t.recipient_lines){var r=t.recipient_lines;t.currency_choices=_.uniq(_.compact(_.map(r,function(e){return e.currency}))),t.recipient_info.disallow_xrp||t.currency_choices.unshift("XRP")}else t.recipient_info.exists||(t.currency_choices=["XRP"],t.currency_force="XRP",t.currency="XRP");e.update_currency()}},e.reset_currency_deps=function(){e.reset_amount_deps()},e.update_currency=function(){var t=e.send,r=t.recipient_actual||t.recipient_address;t.currency,e.reset_currency_deps(),ripple.UInt160.is_valid(r)&&e.update_amount()};var p;e.reset_amount_deps=function(){var t=e.send;t.sender_insufficient_xrp=!1,t.quote=!1,e.reset_paths()},e.update_amount=function(){var r=e.send,n=r.recipient_actual||r.recipient_address,s=r.currency,a=""+r.amount+" "+s.slice(0,3),i=r.amount_feedback=o.from_human(a);if(e.reset_amount_deps(),r.path_status="waiting",p&&t.cancel(p),!e.sendForm.$invalid)if(r.quote_url){if(!r.amount_feedback.is_valid())return;r.amount_feedback.set_issuer(1),p=t(e.update_quote,500)}else{if(!ripple.UInt160.is_valid(n)||!ripple.Amount.is_valid(i))return;if(r.amount_feedback.is_native()||r.amount_feedback.set_issuer(n),!r.recipient_info)return;r.sender_insufficient_xrp=r.amount_feedback.is_native()&&e.account.max_spend&&e.account.max_spend.to_number()>1&&e.account.max_spend.compareTo(r.amount_feedback)<0;var c=r.amount_feedback.add(r.recipient_info.Balance),l=e.account.reserve_base;if(c.compareTo(l)<0&&(r.fund_status="insufficient-xrp",r.xrp_deficiency=l.subtract(r.recipient_info.Balance)),!r.recipient_info.exists)return r.path_status="none",void 0;r.path_status="pending",p=t(e.update_paths,500)}},e.update_quote=function(){var t=e.send,r=t.recipient_actual||t.recipient_address;e.reset_paths();try{t.path_status="bridge-quote";var n={type:"quote",amount:t.amount_feedback.to_text()+"/"+t.amount_feedback.currency().to_json(),destination:t.quote_destination};$.isArray(t.extra_fields)&&$.each(t.extra_fields,function(){n[this.name]=this.value}),$.ajax({url:t.quote_url,dataType:"json",data:n,error:function(){setImmediate(function(){e.$apply(function(){e.send.path_status="error-quote"})})},success:function(n){e.$apply(function(){var s=t.recipient_actual||t.recipient_address;if(r===s){var a=t.amount_feedback;if(a.equals(t.amount_feedback)){if(!n||!n.quote||"success"!==n.result&&"success"!==n.status||!Array.isArray(n.quote.send)||!n.quote.send.length||!n.quote.address)return e.send.path_status="error-quote",void 0;var i=o.from_json(n.quote.send[0]);t.quote=n.quote,t.recipient_actual=n.quote.address,t.amount_actual=i,e.update_paths()}}})}})}catch(s){console.error(s.stack?s.stack:s),e.send.path_status="error-quote"}},e.reset_paths=function(){var t=e.send;t.alternatives=[]},e.update_paths=function(){var t,r=e.send,s=r.recipient_actual||r.recipient_address,i=r.amount_actual||r.amount_feedback;if(e.reset_paths(),r.last_am_recipient=s,r.last_amount=r.amount_feedback,r.path_status="pending",!r.pathfind||r.pathfind.src_account!==n.account||r.pathfind.dst_account!==s||!r.pathfind.dst_amount.equals(i)){var c=a.remote.path_find(n.account,s,i);r.pathfind=c;var d;c.on("update",function(n){e.$apply(function(){d=new Date,clearInterval(u),u=setInterval(function(){e.$apply(function(){var t=Math.round((new Date-d)/1e3);e.lastUpdate=t?t:0})},1e3);var a=r.recipient_actual||r.recipient_address;if(s===a){var c=r.amount_actual||r.amount_feedback;if(c.equals(i)){if(n.alternatives&&n.alternatives.length){var p;e.send.path_status="done",e.send.alternatives=_.map(n.alternatives,function(t,r){var n={};return n.amount=o.from_json(t.source_amount),n.send_max=n.amount.product_human(o.from_json("1.01")),n.paths=t.paths_computed?t.paths_computed:t.paths_canonical,t.source_amount.currency?t.source_amount.currency===e.send.currency_code&&(p=r):"XRP"===e.send.currency_code&&(p=r),n}),p&&e.send.alternatives.splice(0,0,e.send.alternatives.splice(p,1)[0])}else e.send.path_status="no-path";t||(l.track("Send pathfind",{Status:"success",Currency:e.send.currency_code,"Address Type":e.send.bitcoin?"bitcoin":e.send.federation?"federation":"ripple","Destination Tag":!!e.send.dt,Paths:n.alternatives.length}),t=!0)}}})}),c.on("error",function(t){setImmediate(function(){e.$apply(function(){r.path_status="error"})}),l.track("Send pathfind",{Status:"error",Message:t.engine_result,Currency:e.send.currency_code,"Address Type":e.send.bitcoin?"bitcoin":e.send.federation?"federation":"ripple","Destination Tag":!!e.send.dt})})}},e.handle_paths=function(t){t.alternatives&&t.alternatives.length?(e.send.path_status="done",e.send.alternatives=_.map(t.alternatives,function(e){var t={};return t.amount=o.from_json(e.source_amount),t.send_max=t.amount.product_human(o.from_json("1.01")),t.paths=e.paths_computed?e.paths_computed:e.paths_canonical,t})):e.send.path_status="no-path"},e.$watch("userBlob.data.contacts",function(t){e.recipient_query=s.queryFromOptions(t)},!0),e.$watch("lines",function(t){var r=_.uniq(_.map(_.keys(t),function(e){return e.slice(-3)}));r=_.map(r,function(t){return _.each(e.currencies_all,function(e){return t===e.value?(t=e.name,!1):void 0}),t}),e.source_currency_query=s.queryFromArray(r)},!0),e.$watch("account.max_spend",function(){e.update_amount()},!0),e.reset=function(){e.mode="form",e.send={recipient:"",recipient_name:"",recipient_address:"",recipient_prev:"",recipient_info:{},amount:"",amount_prev:new o,currency:e.xrp.name,currency_choices:e.currencies_all,currency_code:"XRP",path_status:"waiting",fund_status:"none",sender_insufficient_xrp:!1},e.nickname="",e.error_type="",e.resetAddressForm(),e.sendForm&&e.sendForm.$setPristine(!0)},e.cancelConfirm=function(){e.mode="form",e.send.alt=null,e.send.last_am_recipient=null,e.update_paths()},e.resetAddressForm=function(){e.show_save_address_form=!1,e.addressSaved=!1,e.saveAddressName="",e.addressSaving=!1,e.saveAddressForm&&e.saveAddressForm.$setPristine(!0)},e.reset_goto=function(t){e.reset(),document.location="#"+t},e.send_prepared=function(){e.send.indirect=e.send.alt?e.send.alt.paths.length:!1,e.confirm_wait=!0,t(function(){e.confirm_wait=!1},1e3,!0),e.send.pathfind&&(e.send.pathfind.close(),delete e.send.pathfind),e.mode="confirm",l.track("Send confirmation page",{Currency:e.send.currency_code,"Address Type":e.send.bitcoin?"bitcoin":e.send.federation?"federation":"ripple","Destination Tag":!!e.send.dt})},e.onTransactionProposed=function(t,r){e.$apply(function(){e.setEngineStatus(t,!1),e.sent(r.hash);for(var n,s=0;s<e.currencies_all.length;s++)if(e.currencies_all[s].value.toLowerCase()===e.send.amount_feedback.currency().to_human().toLowerCase()){e.currencies_all[s].order++,n=!0;break}n||e.currencies_all.push({name:e.send.amount_feedback.currency().to_human().toUpperCase(),value:e.send.amount_feedback.currency().to_human().toUpperCase(),order:1})})},e.onTransactionSuccess=function(t){e.$apply(function(){e.setEngineStatus(t,!0)})},e.onTransactionError=function(t){setImmediate(function(){e.$apply(function(){t.engine_result?e.setEngineStatus(t):"remoteError"===t.error?(e.mode="error",e.error_type=t.remote.error):(e.mode="error",e.error_type="unknown")})})},e.send_confirmed=function(){e.send;var t=e.send.currency.slice(0,3).toUpperCase(),r=o.from_human(""+e.send.amount+" "+t),c=e.send.recipient_address;r.set_issuer(c);var u=a.remote.transaction();if(e.send.st&&u.source_tag(e.send.st),e.send.quote){if("number"==typeof e.send.quote.destination_tag&&u.destination_tag(e.send.quote.destination_tag),"string"==typeof e.send.quote.invoice_id&&(u.tx_json.InvoiceID=e.send.quote.invoice_id.toUpperCase()),e.send.bitcoin){var d=i.decode(c,"bitcoin");for(d=sjcl.codec.bytes.toBits(d),d=sjcl.codec.hex.fromBits(d).toUpperCase();d.length<64;)d+="0";u.tx_json.InvoiceID=d}u.payment(n.account,e.send.quote.address,e.send.quote.send[0])}else{var p;p=e.send.dt?e.send.dt:s.getDestTagFromAddress(e.send.recipient),u.destination_tag(p?+p:void 0),u.payment(n.account,c,r.to_json())}e.send.alt?(u.send_max(e.send.alt.send_max),u.paths(e.send.alt.paths)):r.is_native()||u.build_path(!0),u.on("success",function(t){e.onTransactionSuccess(t,u),l.track("Send result",{Status:"success",Currency:e.send.currency_code,"Address Type":e.send.bitcoin?"bitcoin":e.send.federation?"federation":"ripple","Destination Tag":!!e.send.dt,Time:(+new Date-+e.confirmedTime)/1e3})}),u.on("proposed",function(t){e.onTransactionProposed(t,u)}),u.on("error",function(t){e.onTransactionError(t,u),l.track("Send result",{Status:"error",Message:t.engine_result,Currency:e.send.currency_code,"Address Type":e.send.bitcoin?"bitcoin":e.send.federation?"federation":"ripple","Destination Tag":!!e.send.dt,Time:(+new Date-+e.confirmedTime)/1e3})}),u.submit(),e.mode="sending",e.confirmedTime=new Date},e.sent=function(t){function r(n){e.$apply(function(){n.transaction.hash===t&&(e.setEngineStatus(n,!0),a.remote.removeListener("transaction",r))})}e.mode="status",a.remote.on("transaction",r)},e.setEngineStatus=function(t,r){switch(e.engine_result=t.engine_result,e.engine_result_message=t.engine_result_message,e.engine_status_accepted=!!r,e.mode="status",e.tx_result="partial",t.engine_result.slice(0,3)){case"tes":e.mode="status",e.tx_result=r?"cleared":"pending";break;case"tep":e.mode="status",e.tx_result="partial";break;default:e.mode="rippleerror"}},e.saveAddress=function(){e.addressSaving=!0;var t={name:e.saveAddressName,address:e.send.recipient_address},r=e.$on("$blobSave",function(){r(),e.contact=t,e.addressSaved=!0});e.userBlob.data.contacts.unshift(t)},e.$on("$destroy",function(){e.send.pathfind&&(e.send.pathfind.close(),delete e.send.pathfind)}),e.reset()}]),e.directive("unique",function(){return{restrict:"A",require:"?ngModel",link:function(e,t,r,n){if(n){var a=function(t){var r=!s.getContact(e.userBlob.data.contacts,t);return n.$setValidity("unique",r),r?t:void 0};n.$formatters.push(a),n.$parsers.unshift(a),r.$observe("unique",function(){a(n.$viewValue)})}}}})},e.exports=c},37:function(e,t,r){var n=r(43),s=r(53).Tab,a=function(){s.call(this)};n.inherits(a,s),a.prototype.tabName="receive",a.prototype.mainMenu="receive",a.prototype.angular=function(e){e.controller("ReceiveCtrl",["$scope","rpId","rpTracker",function(e,t){return t.loginStatus?(e.$watch("address",function(){void 0!==e.address&&$("#qr-code").qrcode("https://ripple.com//contact?to="+e.address)},!0),void 0):t.goId()}])},a.prototype.generateHtml=function(){return r(63)()},e.exports=a},38:function(e,t,r){var n=r(43),s=r(47),a=r(53).Tab;ripple.Amount;var o=function(){a.call(this)};n.inherits(o,a),o.prototype.tabName="trade",o.prototype.mainMenu="trade",o.prototype.generateHtml=function(){return r(64)()},o.prototype.angularDeps=a.prototype.angularDeps.concat(["books"]),o.prototype.extraRoutes=[{name:"/trade/:first/:second"}],o.prototype.angular=function(e){e.controller("TradeCtrl",["rpBooks","$scope","rpId","rpNetwork","$routeParams","$location","$filter","rpTracker",function(e,t,r,n,a,o,i,c){function l(e,r,n){var s=t.order[n];switch(s.engine_result=e.engine_result,s.engine_result_message=e.engine_result_message,e.engine_result.slice(0,3)){case"tes":s.tx_result=r?"cleared":"pending";break;case"tem":s.tx_result="malformed";break;case"ter":s.tx_result="failed";break;case"tec":s.tx_result="claim";break;case"tel":s.tx_result="local";break;default:s.tx_result="unknown",console.warn("Unhandled engine status encountered:"+e.engine_result)}}function u(){var e=t.order,r=e.currency_pair;if("string"!=typeof r||!r.match(/^[a-z]{3}\/[a-z]{3}$/i))return e.first_currency="XRP",e.second_currency="XRP",e.valid_settings=!1,void 0;var n=e.first_currency=r.slice(0,3),s=e.second_currency=r.slice(4,7),a=ripple.UInt160.from_json(e.first_issuer),o=ripple.UInt160.from_json(e.second_issuer);if("XRP"!==n&&!a.is_valid()||"XRP"!==s&&!o.is_valid()||"XRP"===n&&"XRP"===s)return e.valid_settings=!1,void 0;e.valid_settings=!0;var i=""+e.first_currency+("XRP"===e.first_currency?"":"/"+e.first_issuer)+":"+e.second_currency+("XRP"===e.second_currency?"":"/"+e.second_issuer);e.prev_settings!==i&&(f(),e.prev_settings=i),["buy","sell"].forEach(function(e){t.update_first(e),t.update_price(e),t.update_second(e)}),v()}function d(e,r){var n;try{if(n=t.userBlob.data.preferred_issuer[e],n&&n===r&&(n=t.userBlob.data.preferred_second_issuer[e]),n)return n}catch(s){}try{var a=t.balances[e].components;for(var o in a)if(o!=r)return o}catch(s){}return null}function p(e){var r,n=t.order;e&&(n.first_issuer=null,n.second_issuer=null),["first","second"].forEach(function(e){!n[e+"_issuer"]&&n[e+"_currency"]&&"XRP"!==n[e+"_currency"]&&(r=d(n[e+"_currency"]))&&(n[e+"_issuer"]=r)}),n.first_currency===n.second_currency&&n.first_issuer===n.second_issuer&&(r=d(n.first_currency,n.first_issuer))&&(n.second_issuer=r)}function f(){t.book&&"function"==typeof t.book.unsubscribe&&t.book.unsubscribe(),t.book=e.get({currency:t.order.first_currency,issuer:t.order.first_issuer},{currency:t.order.second_currency,issuer:t.order.second_issuer},t.address)}if(!r.loginStatus)return r.goId();t.pairs_query=s.queryFromOptions(t.pairs_all);var m={first:"",price:"",second:"",mode:"trade"},g={precision:5,min_precision:5,max_sig_digits:20};t.reset=function(e){var n,s=e?t.order.currency_pair:store.get("ripple_trade_currency_pair")||t.pairs_all[0].name,a=e?t.order.first_issuer:r.account,o=e?t.order.second_issuer:r.account;n=t.order?t.order.listing:store.get("ripple_trade_listing")?store.get("ripple_trade_listing"):"orderbook",t.order={currency_pair:s,first_currency:s.slice(0,3),second_currency:s.slice(4,7),first_issuer:a,second_issuer:o,listing:n,buy:jQuery.extend(!0,{},m),sell:jQuery.extend(!0,{},m),valid_settings:!1},u()},t.reset_widget=function(e){t.order[e]=jQuery.extend(!0,{},m),u()},t.setListing=function(e){t.order.listing=e,store.disabled||store.set("ripple_trade_listing",e)},t.fill_widget=function(e,r,n){t.reset_widget(e),t.order[e].price=r.price.to_human().replace(",",""),n&&(t.order[e].first=r.sum.to_human().replace(",",""),t.calc_second(e))},t.place_order=function(e){t.order[e].mode="confirm","buy"===e?(t.order.buy.sell_amount=t.order.buy.second_amount,t.order.buy.buy_amount=t.order.buy.first_amount):(t.order.sell.sell_amount=t.order.sell.first_amount,t.order.sell.buy_amount=t.order.sell.second_amount),c.track("Trade order confirmation page",{"Currency pair":t.order.currency_pair})},t.cancel_order=function(){var e=n.remote.transaction();e.offer_cancel(r.account,this.entry.seq),e.on("success",function(){c.track("Trade order cancellation",{Status:"success"})}),e.on("error",function(e){c.track("Trade order cancellation",{Status:"error",Message:e.engine_result})}),e.submit(),this.cancelling=!0},t.order_confirmed=function(e){var s=t.order[e],a=n.remote.transaction();a.offer_create(r.account,s.buy_amount,s.sell_amount),"sell"===e&&a.set_flags("Sell"),a.on("proposed",function(r){t.$apply(function(){l(r,!1,e);for(var n,s=0;s<t.pairs_all.length;s++)if(t.pairs_all[s].name===t.order.currency_pair){t.pairs_all[s].order++,n=!0;break}n||t.pairs_all.push({name:t.order.currency_pair,order:1})})}),a.on("success",function(r){t.$apply(function(){l(r,!0,e),s.mode="done",c.track("Trade order result",{Status:"success","Currency pair":t.order.currency_pair})})}),a.on("error",function(r){t.$apply(function(){l(r,!1,e),s.mode="done"}),c.track("Trade order result",{Status:"error",Message:r.engine_result,"Currency pair":t.order.currency_pair})}),a.submit(),s.mode="sending"},t.update_first=function(e){var r=t.order[e],n=t.order.first_currency||"XRP",s=""+r.first+" "+n;r.first_amount=ripple.Amount.from_human(s),"XRP"!==n&&r.first_amount.set_issuer(t.order.first_issuer)},t.update_price=function(e){var r=t.order[e],n=t.order.second_currency||"XRP",s=""+r.price+" "+n;r.price_amount=ripple.Amount.from_human(s),"XRP"!==n&&r.price_amount.set_issuer(t.order.second_issuer)
},t.update_second=function(e){var r=t.order[e],n=t.order.second_currency||"XRP",s=""+r.second+" "+n;r.second_amount=ripple.Amount.from_human(s),"XRP"!==n&&r.second_amount.set_issuer(t.order.second_issuer)},t.calc_second=function(e){var r=t.order[e];t.update_first(e),t.update_price(e),r.price_amount&&r.price_amount.is_valid()&&r.first_amount&&r.first_amount.is_valid()&&(r.second_amount=r.price_amount.product_human(r.first_amount),r.second=+r.second_amount.to_human({group_sep:!1}))},t.calc_first=function(e){var r=t.order[e];t.update_second(e),t.update_price(e),r.price_amount&&r.price_amount.is_valid()&&r.second_amount&&r.second_amount.is_valid()&&(r.first_amount=r.second_amount.ratio_human(r.price_amount),r.first=+r.first_amount.to_human({group_sep:!1}))},["first","second"].forEach(function(e){t["edit_"+e+"_issuer"]=function(){t.show_issuer_form=e,t.order[e+"_issuer_edit"]=s.unresolveContact(t.userBlob.data.contacts,t.order[e+"_issuer"]),setImmediate(function(){$("#"+e+"_issuer").select()})},t["save_"+e+"_issuer"]=function(){t.order[e+"_issuer"]=s.resolveContact(t.userBlob.data.contacts,t.order[e+"_issuer_edit"]),t.show_issuer_form=!1,u(),t.order.valid_settings&&"XRP"!==t.order[e+"_currency"]&&("first"===e?t.userBlob.data.preferred_issuer[t.order.first_currency]=t.order.first_issuer:t.order.first_currency===t.order.second_currency?t.userBlob.data.preferred_second_issuer[t.order.second_currency]=t.order.second_issuer:t.userBlob.data.preferred_issuer[t.order.second_currency]=t.order.second_issuer)}});var v=function(){var e=t.order.first_currency,r=t.order.first_issuer,n=t.order.second_currency,s=t.order.second_issuer,a="XRP"===n.toUpperCase()||s==t.address||t.lines[s+n]&&t.lines[s+n].balance.is_positive(),o="XRP"===e.toUpperCase()||r==t.address||t.lines[r+e]&&t.lines[r+e].balance.is_positive();t.order.buy.showWidget=a,t.order.sell.showWidget=o},h=i("rpamount");if(t.$watchCollection("book",function(){jQuery.isEmptyObject(t.book)||["asks","bids"].forEach(function(e){t.book[e]&&t.book[e].forEach(function(t){t.showSum=h(t.sum,g),t.showPrice=h(t.price,g);var r="bids"===e?"TakerPays":"TakerGets";t["show"+r]=h(t[r],g)})})}),["buy","sell"].forEach(function(e){t.$watch("order."+e+".first",function(){t.update_first(e)},!0),t.$watch("order."+e+".price",function(){t.update_price(e)},!0),t.$watch("order."+e+".second",function(){t.update_second(e)},!0)}),t.$watch("order.currency_pair",function(e){store.disabled||store.set("ripple_trade_currency_pair",e),u(),p(!0)},!0),t.$watch("userBlob",function(){p(!1)},!0),t.$watch("order.type",function(){v()}),t.$watch("order.first_issuer",function(){u()}),t.$watch("order.second_issuer",function(){u()}),t.$watch("balances",function(){v(),p(!1)},!0),t.$watch("userBlob.data.contacts",function(e){t.issuer_query=s.queryFromOptions(e)},!0),t.$watch("offers",function(e){t.offersCount=_.size(e)},!0),t.reset(),a.first&&a.second){var y={},b={};["first","second"].forEach(function(e){y[e]=a[e].match(/:(.+)$/),b[e]=a[e].match(/^(\w{3})/),y[e]&&(ripple.UInt160.is_valid(y[e][1])?t.order[e+"_issuer"]=y[e][1]:o.path("/trade"))}),b.first&&b.second&&(b.first[1]!==b.second[1]?t.order.currency_pair=b.first[1]+"/"+b.second[1]:o.path("/trade")),u()}}])},e.exports=o},39:function(e,t,r){var n=r(43);r(47);var s=r(53).Tab,a=function(){s.call(this)};n.inherits(a,s),a.prototype.tabName="options",a.prototype.mainMenu="advanced",a.prototype.generateHtml=function(){return r(65)()},a.prototype.angular=function(e){e.controller("OptionsCtrl",["$scope","$rootScope","rpId","rpTracker",function(e){e.options=Options,e.save=function(){store.disabled||store.set("ripple_settings",JSON.stringify(e.options)),location.reload()}}])},e.exports=a},40:function(e,t,r){var n=r(43),s=r(53).Tab,a=function(){s.call(this)};n.inherits(a,s),a.prototype.tabName="security",a.prototype.mainMenu="wallet",a.prototype.generateHtml=function(){return r(66)()},a.prototype.angular=function(e){e.controller("SecurityCtrl",["$scope","rpId","rpOldBlob","rpTracker",function(e,t,r){function n(){"string"==typeof t.username&&"string"==typeof t.password&&e.userBlob&&(e.enc=r.enc(t.username.toLowerCase(),t.password,e.userBlob))}return t.loginStatus?(e.$watch("userBlob",n,!0),void 0):t.goId()}])},e.exports=a},41:function(e,t,r){var n=r(43),s=r(53).Tab,a=function(){s.call(this)};n.inherits(a,s),a.prototype.tabName="tx",a.prototype.generateHtml=function(){return r(67)()},a.prototype.angular=function(e){e.controller("TxCtrl",["$scope","rpNetwork","$routeParams",function(e,t,r){function n(){var n=t.remote.request_ledger_hash();n.message.command="tx",n.message.transaction=r.id,n.on("success",function(t){e.$apply(function(){e.state="loaded";var r=t.tx?t.tx:t;if(_.extend(e.transaction,t),"Payment"===r.TransactionType){var n,s,a,o,i=r.Account;if(r.Amount.currency){if(r.meta.AffectedNodes)for(o=0;o<r.meta.AffectedNodes.length&&(n=r.meta.AffectedNodes[o],!n.ModifiedNode||"RippleState"!==n.ModifiedNode.LedgerEntryType||n.ModifiedNode.FinalFields.HighLimit.issuer!==i&&n.ModifiedNode.FinalFields.LowLimit.issuer!==i||n.ModifiedNode.FinalFields.Balance.currency!==r.SendMax.currency);o++)n=null;n&&(s=n.ModifiedNode.PreviousFields.Balance.value-n.ModifiedNode.FinalFields.Balance.value,n.ModifiedNode.FinalFields.HighLimit.issuer===i&&(s*=-1),a=n.ModifiedNode.FinalFields.Balance.currency)}else{if(r.meta.AffectedNodes)for(o=0;o<r.meta.AffectedNodes.length&&(n=r.meta.AffectedNodes[o],!n.ModifiedNode||"AccountRoot"!==n.ModifiedNode.LedgerEntryType||n.ModifiedNode.FinalFields.Account!==i);o++)n=null;n&&(s=n.ModifiedNode.PreviousFields.Balance-n.ModifiedNode.FinalFields.Balance-r.Fee)}var c;c=a?{value:String(s),currency:a}:s,e.amountSent=c}})}),n.on("error",function(t){e.$apply(function(){e.state="error",console.log(t)})}),n.request()}if(e.state="loading",e.transaction={hash:r.id},t.connected)n();else var s=e.$on("$netConnected",function(){s(),n()})}])},e.exports=a},42:function(module,exports,require){var jade=require(70);module.exports=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<div rp-snapper="rp-snapper" class="mobile-nav"><div class="logo"></div><a href="#/balance" ng-class="{active: $route.current.mainMenu == \'wallet\'}" class="wallet"><span class="nav-icon nav-icon-wallet"></span><span>钱包</span></a><a href="#/balance" ng-class="{active: $route.current.mainMenu == \'balance\'}" class="sub">余额</a><a href="#/history" ng-class="{active: $route.current.mainMenu == \'history\'}" class="sub">历史</a><a href="#/contacts" ng-class="{active: $route.current.mainMenu == \'contacts\'}" class="sub">联系人</a><a href="#/convert" ng-class="{active: $route.current.mainMenu == \'convert\'}" class="sub">兑换</a><a href="#/cashin" ng-class="{active: $route.current.mainMenu == \'cashin\'}" class="sub">存入现金</a><a href="#/security" ng-class="{active: $route.current.mainMenu == \'security\'}" class="sub">安全</a><a href="#/send" ng-class="{active: $route.current.mainMenu == \'send\'}" class="send"><span class="nav-icon nav-icon-send"></span><span>发送</span></a><a href="#/receive" ng-class="{active: $route.current.mainMenu == \'receive\'}" class="receive"><span class="nav-icon nav-icon-receive"></span><span>接收</span></a><a href="#/trade" ng-class="{active: $route.current.mainMenu == \'trade\'}" class="send"><span class="nav-icon nav-icon-trade"></span><span>交易</span></a><a href="#/trust" ng-class="{active: $route.current.mainMenu == \'advanced\'}" class="advanced"><span class="nav-icon nav-icon-advanced"></span><span>高级</span></a><a href="#/trust" ng-class="{active: $route.current.mainMenu == \'trust\'}" class="sub">信任额度</a><a href="#/options" ng-class="{active: $route.current.mainMenu == \'options\'}" class="sub">选项</a></div><!-- Wrapper--><div id="wrapper"><div class="container"><!-- Header--><header><!-- Logo--><div id="logo"><a href="#/" title="Ripple"></a></div><!-- Nav--><nav class="row top-nav"><ul class="col-xs-12"><li id="nav-wallet" ng-class="{active: $route.current.mainMenu == \'wallet\'}" class="col-xs-2 col-md-1"><a href="#/balance" class="nav-icon nav-icon-wallet"><span>钱包</span></a></li><li id="nav-send" ng-class="{active: $route.current.mainMenu == \'send\'}" class="col-xs-2 col-md-1"><a href="#/send" class="nav-icon nav-icon-send"><span>发送</span></a></li><li id="nav-receive" ng-class="{active: $route.current.mainMenu == \'receive\'}" class="col-xs-2 col-md-1"><a href="#/receive" class="nav-icon nav-icon-receive"><span>接收</span></a></li><li id="nav-trade" ng-class="{active: $route.current.mainMenu == \'trade\'}" class="col-xs-2 col-md-1"><a href="#/trade" class="nav-icon nav-icon-trade"><span>交易</span></a></li><li id="nav-advanced" ng-class="{active: $route.current.mainMenu == \'advanced\'}" class="col-xs-2 col-md-1"><a href="#/trust" class="nav-icon nav-icon-advanced"><span>高级</span></a></li></ul></nav><div scope="root" rp-jade-replace="client/status.jade"></div></header><!-- Main--><div role="main" id="{{$route.current.tabClass}}" ng-view="ng-view" class="row main"></div><!-- Footer--><footer class="row"><div class="col-xs-12 col-sm-5"><a href="https://ripple.com/wiki/index.php?title=Ripple_Client_Release_Notes">Version: {{version}}</a></div><div class="col-xs-12 col-sm-7 right-links"><a href="http://ripple.com/terms" target="_blank">使用条款</a><a href="https://support.ripplelabs.com" target="_blank">帮助中心</a><a href="https://ripplelabs.atlassian.net/browse/WC" target="_blank">报告问题</a><a href="#/lang/en">English</a><a href="#/lang/cn">中文</a><a href="#/lang/it">Italiano</a><!-- Language selector--><rp-popup><a href="" rp-popup-link="rp-popup-link" class="last">更多...</a><div rp-popup-content="rp-popup-content" class="languageSelector"><div class="modal-header"><button type="button" data-dismiss="modal" aria-hidden="true" class="close">&times;</button><div class="modal-title">Select a language</div></div><div class="modal-body row list"><div class="col-sm-6"><a href="#/lang/en">English</a></div><div class="col-sm-6"><a href="#/lang/cn">中文</a></div><div class="col-sm-6"><a href="#/lang/nl">Nederlands</a></div><div class="col-sm-6"><a href="#/lang/it">Italiano</a></div><div class="col-sm-6"><a href="#/lang/pl">Polski</a></div><div class="col-sm-6"><a href="#/lang/es">Español</a></div><div class="col-sm-6"><a href="#/lang/pt">Português</a></div><div class="col-sm-6"><a href="#/lang/de">Deutsch</a></div><div class="col-sm-6"><a href="#/lang/nb">Norsk</a></div><div class="col-sm-6"><a href="#/lang/sk">Slovenská</a></div><div class="col-sm-6"><a href="#/lang/ca">Català</a></div><div class="col-sm-6"><a href="#/lang/he">עברית</a></div><div class="col-sm-6"><a href="#/lang/ru">Русский</a></div><div class="col-sm-6"><a href="#/lang/ro">Român</a></div><div class="col-sm-6"><a href="#/lang/ja">日本の</a></div></div></div></rp-popup></div></footer></div></div>');return buf.join("")}},43:function(e,t,r){function n(e){if(e instanceof Date)return!0;if("object"!=typeof e)return!1;var t=Date.prototype&&o(Date.prototype),r=e.__proto__&&o(e.__proto__);return JSON.stringify(r)===JSON.stringify(t)}r(44);var s=r(71),a=r(72),o=r(73),i=r(74),c=r(75);t.isArray=s,t.isDate=n,t.isRegExp=c,t.print=function(){},t.puts=function(){},t.debug=function(){},t.inspect=function(e,r,i,l){function u(e,i){if(e&&"function"==typeof e.inspect&&e!==t&&(!e.constructor||e.constructor.prototype!==e))return e.inspect(i);switch(typeof e){case"undefined":return p("undefined","undefined");case"string":var l="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return p(l,"string");case"number":return p(""+e,"number");case"boolean":return p(""+e,"boolean")}if(null===e)return p("null","null");var f=a(e),m=r?o(e):f;if("function"==typeof e&&0===m.length){if(c(e))return p(""+e,"regexp");var g=e.name?": "+e.name:"";return p("[Function"+g+"]","special")}if(n(e)&&0===m.length)return p(e.toUTCString(),"date");var v,h,y;if(s(e)?(h="Array",y=["[","]"]):(h="Object",y=["{","}"]),"function"==typeof e){var _=e.name?": "+e.name:"";v=c(e)?" "+e:" [Function"+_+"]"}else v="";if(n(e)&&(v=" "+e.toUTCString()),0===m.length)return y[0]+v+y[1];if(0>i)return c(e)?p(""+e,"regexp"):p("[Object]","special");d.push(e);var b=m.map(function(t){var r,n;if(e.__lookupGetter__&&(e.__lookupGetter__(t)?n=e.__lookupSetter__(t)?p("[Getter/Setter]","special"):p("[Getter]","special"):e.__lookupSetter__(t)&&(n=p("[Setter]","special"))),f.indexOf(t)<0&&(r="["+t+"]"),n||(d.indexOf(e[t])<0?(n=null===i?u(e[t]):u(e[t],i-1),n.indexOf("\n")>-1&&(n=s(e)?n.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+n.split("\n").map(function(e){return"   "+e}).join("\n"))):n=p("[Circular]","special")),"undefined"==typeof r){if("Array"===h&&t.match(/^\d+$/))return n;r=JSON.stringify(""+t),r.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(r=r.substr(1,r.length-2),r=p(r,"name")):(r=r.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),r=p(r,"string"))}return r+": "+n});d.pop();var w=0,k=b.reduce(function(e,t){return w++,t.indexOf("\n")>=0&&w++,e+t.length+1},0);return b=k>50?y[0]+(""===v?"":v+"\n ")+" "+b.join(",\n  ")+" "+y[1]:y[0]+v+" "+b.join(", ")+" "+y[1]}var d=[],p=function(e,t){var r={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},n={special:"cyan",number:"blue","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"}[t];return n?"["+r[n][0]+"m"+e+"["+r[n][1]+"m":e};return l||(p=function(e){return e}),u(e,"undefined"==typeof i?2:i)},t.log=function(){},t.pump=null,t.inherits=function(e,t){e.super_=t,e.prototype=i(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})};var l=/%[sdj%]/g;t.format=function(e){if("string"!=typeof e){for(var r=[],n=0;n<arguments.length;n++)r.push(t.inspect(arguments[n]));return r.join(" ")}for(var n=1,s=arguments,a=s.length,o=String(e).replace(l,function(e){if("%%"===e)return"%";if(n>=a)return e;switch(e){case"%s":return String(s[n++]);case"%d":return Number(s[n++]);case"%j":return JSON.stringify(s[n++]);default:return e}}),i=s[n];a>n;i=s[++n])o+=null===i||"object"!=typeof i?" "+i:" "+t.inspect(i);return o}},44:function(e,t,r){var n=t.EventEmitter=function(){},s=r(71);r(76);var a=10;n.prototype.setMaxListeners=function(e){this._events||(this._events={}),this._maxListeners=e},n.prototype.emit=function(e){if("error"===e&&(!this._events||!this._events.error||s(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var t=this._events[e];if(!t)return!1;if("function"==typeof t){switch(arguments.length){case 1:t.call(this);break;case 2:t.call(this,arguments[1]);break;case 3:t.call(this,arguments[1],arguments[2]);break;default:var r=Array.prototype.slice.call(arguments,1);t.apply(this,r)}return!0}if(s(t)){for(var r=Array.prototype.slice.call(arguments,1),n=t.slice(),a=0,o=n.length;o>a;a++)n[a].apply(this,r);return!0}return!1},n.prototype.addListener=function(e,t){if("function"!=typeof t)throw new Error("addListener only takes instances of Function");if(this._events||(this._events={}),this.emit("newListener",e,t),this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,s(this._events[e])&&!this._events[e].warned){var r;r=void 0!==this._maxListeners?this._maxListeners:a,r&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(events) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),console.trace())}return this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function r(){n.removeListener(e,r),t.apply(this,arguments)}if("function"!=typeof t)throw new Error(".once only takes instances of Function");var n=this;return r.listener=t,n.on(e,r),this},n.prototype.removeListener=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[e])return this;var r=this._events[e];if(s(r)){for(var n=-1,a=0,o=r.length;o>a;a++)if(r[a]===t||r[a].listener&&r[a].listener===t){n=a;break}if(0>n)return this;r.splice(n,1),0==r.length&&delete this._events[e]}else(r===t||r.listener&&r.listener===t)&&delete this._events[e];return this},n.prototype.removeAllListeners=function(e){return 0===arguments.length?(this._events={},this):(e&&this._events&&this._events[e]&&(this._events[e]=null),this)},n.prototype.listeners=function(e){return this._events||(this._events={}),this._events[e]||(this._events[e]=[]),s(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]}},45:function(e,t,r){function n(e){return r(s(e))}function s(e){return a[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var a={"./client/index.jade":42,"./client/status.jade":78,"./directives/transactionerror.jade":68,"./menu/advanced.jade":79,"./menu/wallet.jade":80,"./notification/account.jade":52,"./tabs/balance.jade":56,"./tabs/cashin.jade":60,"./tabs/contacts.jade":58,"./tabs/convert.jade":59,"./tabs/history.jade":57,"./tabs/history/effects.jade":77,"./tabs/login.jade":55,"./tabs/login/form.jade":81,"./tabs/options.jade":65,"./tabs/receive.jade":63,"./tabs/register.jade":54,"./tabs/security.jade":66,"./tabs/send.jade":62,"./tabs/trade.jade":64,"./tabs/trust.jade":61,"./tabs/tx.jade":67};n.keys=function(){return Object.keys(a)},n.resolve=s,e.exports=n},46:function(e){var t=function(){var e={ripple:"rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz",bitcoin:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"},r=function(e){return sjcl.codec.bytes.fromBits(sjcl.hash.sha256.hash(sjcl.codec.bytes.toBits(e)))};return{encode_base:function(t,r){for(var n=e[r||"ripple"],s=new sjcl.bn(n.length),a=sjcl.bn.fromBits(sjcl.codec.bytes.toBits(t)),o=[];a.greaterEquals(s);){var i=a.mod(s);o.push(n[i.limbs[0]]),a=a.div(s)}o.push(n[a.limbs[0]]);for(var c=0;c!=t.length&&!t[c];c+=1)o.push(n[0]);return o.reverse().join("")},decode_base:function(t,r){for(var n,s=e[r||"ripple"],a=new sjcl.bn(s.length),o=new sjcl.bn(0);n!=t.length&&t[n]===s[0];)n+=1;for(n=0;n!=t.length;n+=1){var i=s.indexOf(t[n]);if(0>i)return null;o=o.mul(a).addM(i)}for(var c=sjcl.codec.bytes.fromBits(o.toBits()).reverse();0===c[c.length-1];)c.pop();for(n=0;t[n]===s[0];n++)c.push(0);return c.reverse(),c},encode_base_check:function(e,n,s){var a=[].concat(e,n),o=r(r(a)).slice(0,4);return t.encode_base([].concat(a,o),s)},decode_base_check:function(e,n,s){var a=t.decode_base(n,s);if(!a||a[0]!==e||a.length<5)return 0/0;var o,i=r(r(a.slice(0,-4))).slice(0,4),c=a.slice(-4);for(o=0;4!=o;o+=1)if(i[o]!==c[o])return 0/0;return a.slice(1,-4)}}}();e.exports=t},47:function(e,t){t.stripRippleAddress=function(e){if("string"==typeof e){var t=e.indexOf("?");if(t>=0)return e.slice(0,t)}return e},t.getDestTagFromAddress=function(e){var t=e.indexOf("?");if(t>=0){if(e=e.slice(t,e.length),t=e.indexOf("dt="),t>=0)return e=e.slice(t+3,e.length),t=e.indexOf("&"),t>0?e.slice(0,t):e;if(t=e.indexOf("d="),t>=0)return e=e.slice(t+2,e.length),t=e.indexOf("&"),t>0?e.slice(0,t):e}return void 0},t.removeClassPrefix=function(e,t){var r=$(e),n=r.attr("class");n&&n.length&&(n=n.split(" ").map(function(e){return 0===e.indexOf(t)?"":e}),r.attr("class",n.join(" ")))},t.getAjaxErrorHandler=function(e){return function(t,r){switch(r){case"timeout":message="The request timed out.";break;case"notmodified":message="The request was not modified but was not retrieved from the cache.";break;case"parsererror":message="XML/Json format is bad.";break;default:message="HTTP Error ("+t.status+" "+t.statusText+")."}e(new Error(message))}},t.scrollToTop=function(){$("html, body").animate({scrollTop:0},"fast")},t.findIssuer=function(e,t){var r=null,n=0;for(var s in e)if(e.hasOwnProperty(s)&&e[s].currency===t){var a=+e[s].limit.to_text();a>n&&(n=a,r=e[s].account)}return r},t.getContact=function(e,t){for(var r=0;r<e.length;r++)if(e[r].name===t||e[r].address===t)return e[r];return!1},t.isContact=function(e,t){try{for(var r=0,n=e.length;n>r;r++)if(e[r].address===t)return e[r].name}catch(s){}},t.resolveContact=function(e,t){for(var r=0,n=e.length;n>r;r++)if(e[r].name===t)return e[r].address;return ripple.UInt160.is_valid(t)?ripple.UInt160.json_rewrite(t):""},t.unresolveContact=function(e,r){var n;return(n=t.isContact(e,r))?n:r},t.queryFromOptions=function(e){var r=_.map(e,function(e){return"string"==typeof e?e:"object"==typeof e?e.name:null});return t.queryFromArray(r)},t.queryFromArray=function(e){return function(t,r){return r instanceof RegExp?e.filter(function(e){return"string"==typeof e?e.match(r):!1}):e}},t.escapeRegExp=function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}},48:function(e,t){t.exception=function(e){console.log("function"==typeof e.getStack?e.getStack():e.stack)}},49:function(e,t,r){var n=r(51),s=function(e){var t,r=e.got?e.got:e.gets,s=e.paid?e.paid:e.pays;return _.find(n,function(e){e.name==r.currency().to_human()+"/"+s.currency().to_human()&&(t=s.ratio_human(r))}),t||(t=r.ratio_human(s)),t},a=function(e){return e&&e.length&&2===e.length&&"trust_change_balance"==e[0].type&&"trust_change_balance"==e[1].type&&e[0].currency==e[1].currency&&!e[0].amount.compareTo(e[1].amount.negate())?!0:void 0},o=e.exports={filterAnodes:function(e,t){return e?e.filter(function(e){return e=e.CreatedNode?e.CreatedNode:e.ModifiedNode?e.ModifiedNode:{},e.LedgerEntryType===t}):[]},getAnodeResult:function(e){e=e.CreatedNode?e.CreatedNode:e.ModifiedNode?e.ModifiedNode:{};var t=$.extend({},e.NewFields,e.FinalFields);return t},processAnode:function(e){var t={};return["CreatedNode","ModifiedNode","DeletedNode"].forEach(function(r){e[r]&&(t.diffType=r)}),t.diffType?(e=e[t.diffType],t.entryType=e.LedgerEntryType,t.ledgerIndex=e.LedgerIndex,t.fields=$.extend({},e.PreviousFields,e.NewFields,e.FinalFields),t.fieldsPrev=e.PreviousFields||{},t.fieldsNew=e.NewFields||{},t.fieldsFinal=e.FinalFields||{},t):null},processTxn:function(e,t,r){var n={},i=[];if(e.Account===r||e.Destination&&e.Destination===r||e.LimitAmount&&e.LimitAmount.issuer===r){var c={};if("tesSUCCESS"===t.TransactionResult){switch(e.TransactionType){case"Payment":var l=ripple.Amount.from_json(e.Amount);e.Account===r?e.Destination===r?(c.type="convert",c.spent=ripple.Amount.from_json(e.SendMax)):(c.type="sent",c.counterparty=e.Destination):(c.type="received",c.counterparty=e.Account),c.amount=l,c.currency=l.currency().to_json();break;case"TrustSet":c.type=e.Account===r?"trusting":"trusted",c.counterparty=e.Account===r?e.LimitAmount.issuer:e.Account,c.amount=ripple.Amount.from_json(e.LimitAmount),c.currency=e.LimitAmount.currency;break;case"OfferCreate":c.type="offernew",c.pays=ripple.Amount.from_json(e.TakerPays),c.gets=ripple.Amount.from_json(e.TakerGets),c.sell=e.Flags&ripple.Transaction.flags.OfferCreate.Sell;break;case"OfferCancel":c.type="offercancel";break;case"AccountSet":if(1===t.AffectedNodes.length&&2===_.size(t.AffectedNodes[0].ModifiedNode.PreviousFields))break;c.type="accountset";break;default:console.log('Unknown transaction type: "'+e.TransactionType+'"',e)}e.Flags&&(c.flags=e.Flags)}else c.type="failed";$.isEmptyObject(c)||(n.transaction=c)}return"tesSUCCESS"===t.TransactionResult&&t.AffectedNodes.forEach(function(t){var a,c=o.processAnode(t),l={};if("AccountRoot"===c.entryType&&c.fields.Account===r&&(n.accountRoot=c.fields,c.fieldsPrev.Balance)){var u=ripple.Amount.from_json(c.fields.Balance);e.Account===r&&e.Fee&&(a={type:"fee",amount:ripple.Amount.from_json(e.Fee).negate(),balance:u}),e.Fee!=c.fieldsPrev.Balance-c.fields.Balance&&(a&&(u=u.subtract(a.amount)),l.type="balance_change",l.amount=u.subtract(c.fieldsPrev.Balance),l.balance=u,n.balance_changer=l.balance_changer=!0,i.push("XRP"))}if("RippleState"!==c.entryType||c.fields.HighLimit.issuer!==r&&c.fields.LowLimit.issuer!==r){if("Offer"===c.entryType){var d=c.fields;c.fields.Account===r?("ModifiedNode"===c.diffType||"DeletedNode"===c.diffType&&c.fieldsPrev.TakerGets&&!ripple.Amount.from_json(c.fieldsFinal.TakerGets).is_zero()?(l.type="offer_partially_funded","DeletedNode"!==c.diffType?l.remaining=ripple.Amount.from_json(c.fields.TakerGets):l.cancelled=!0):(l.type="CreatedNode"===c.diffType?"offer_created":c.fieldsPrev.TakerPays?"offer_funded":"offer_cancelled","offer_funded"===l.type&&(d=c.fieldsPrev),"offer_cancelled"===l.type&&n.transaction&&"offercancel"===n.transaction.type&&(n.transaction.gets=d.TakerGets,n.transaction.pays=d.TakerPays)),l.seq=+c.fields.Sequence):e.Account!==r||$.isEmptyObject(c.fieldsPrev)||(l.type="offer_bought"),l.type&&(l.gets=ripple.Amount.from_json(d.TakerGets),l.pays=ripple.Amount.from_json(d.TakerPays),("offer_partially_funded"===l.type||"offer_bought"===l.type)&&(l.got=ripple.Amount.from_json(c.fieldsPrev.TakerGets).subtract(c.fields.TakerGets),l.paid=ripple.Amount.from_json(c.fieldsPrev.TakerPays).subtract(c.fields.TakerPays))),l.gets&&l.pays&&(l.price=s(l)),c.fields.Flags&&(l.flags=c.fields.Flags,l.sell=c.fields.Flags&ripple.Remote.flags.offer.Sell)}}else{var p=c.fields.HighLimit,f=c.fields.LowLimit;if("CreatedNode"===c.diffType)l.limit=ripple.Amount.from_json(p.value>0?p:f),l.limit_peer=ripple.Amount.from_json(p.value>0?f:p),l.type=p.value>0&&p.issuer===r||f.value>0&&f.issuer===r?"trust_create_local":"trust_create_remote";else if("ModifiedNode"===c.diffType||"DeletedNode"===c.diffType){var m=c.fieldsPrev.HighLimit,g=c.fieldsPrev.LowLimit;if(c.fieldsPrev.Balance){l.type="trust_change_balance";var v=c.fields.Balance.value>0||c.fieldsPrev.Balance.value>0?p.issuer:f.issuer;l.amount=l.amount=p.issuer===r?ripple.Amount.from_json(c.fieldsPrev.Balance.value+"/"+c.fieldsPrev.Balance.currency+"/"+v).subtract(c.fields.Balance):ripple.Amount.from_json(c.fields.Balance.value+"/"+c.fields.Balance.currency+"/"+v).subtract(c.fieldsPrev.Balance),n.balance_changer=l.balance_changer=!0,i.push(p.currency.toUpperCase())}else if(m||g)p.issuer===r?(l.limit=ripple.Amount.from_json(p),l.limit_peer=ripple.Amount.from_json(f)):(l.limit=ripple.Amount.from_json(f),l.limit_peer=ripple.Amount.from_json(p)),m?(l.prevLimit=ripple.Amount.from_json(m),l.type=p.issuer===r?"trust_change_local":"trust_change_remote"):g&&(l.prevLimit=ripple.Amount.from_json(g),l.type=p.issuer===r?"trust_change_remote":"trust_change_local");else if(c.fieldsPrev.Flags){var h=p.issuer===r?"HighNoRipple":"LowNoRipple";c.fields.Flags&ripple.Remote.flags.state[h]&&!(c.fieldsPrev.Flags&ripple.Remote.flags.state[h])?(l.noRipple=!0,l.type="trust_change_no_ripple"):c.fieldsPrev.Flags&ripple.Remote.flags.state[h]&&!(c.fields.Flags&ripple.Remote.flags.state[h])&&(l.noRipple=!1,l.type="trust_change_no_ripple"),l.type&&(l.flags=c.fields.Flags)}}$.isEmptyObject(l)||(l.counterparty=p.issuer===r?f.issuer:p.issuer,l.currency=p.currency,l.balance=p.issuer===r?ripple.Amount.from_json(c.fields.Balance).negate(!0):ripple.Amount.from_json(c.fields.Balance),n.transaction&&"trust_change_balance"===n.transaction.type&&(n.transaction.balance=l.balance))}$.isEmptyObject(l)||("DeletedNode"===c.diffType&&(l.deleted=!0),n.effects||(n.effects=[]),n.effects.push(l)),a&&(n.effects||(n.effects=[]),n.effects.push(a))}),n.accountRoot&&n.transaction&&"undefined"==typeof n.transaction.balance&&(n.transaction.balance=ripple.Amount.from_json(n.accountRoot.Balance)),!$.isEmptyObject(n)&&("OfferCancel"!==e.TransactionType||!n.transaction||n.transaction.gets&&n.transaction.pays)?(a(n.effects)&&(n.transaction||(n.transaction={}),n.transaction.type="rippling"),n.tx_type=e.TransactionType,n.tx_result=t.TransactionResult,n.fee=e.Fee,n.date=1e3*(e.date+946684800),n.hash=e.hash,n.affected_currencies=i?i:[],n.ledger_index=e.ledger_index,n):void 0}}},50:function(e){e.exports=[{value:"XRP",name:"XRP - Ripples",order:5},{value:"USD",name:"USD - US Dollar",order:4},{value:"EUR",name:"EUR - Euro",order:3},{value:"BTC",name:"BTC - Bitcoin",order:2},{value:"LTC",name:"LTC - Litecoin",order:1},{value:"JPY",name:"JPY - Japanese Yen",order:0},{value:"CNY",name:"CNY - Chinese Yuan",order:0},{value:"INR",name:"INR - Indian Rupee",order:0},{value:"RUB",name:"RUB - Russian Ruble",order:0},{value:"GBP",name:"GBP - British Pound",order:0},{value:"CAD",name:"CAD - Canadian Dollar",order:0},{value:"BRL",name:"BRL - Brazilian Real",order:0},{value:"CHF",name:"CHF - Swiss Franc",order:0},{value:"DKK",name:"DKK - Danish Krone",order:0},{value:"NOK",name:"NOK - Norwegian Krone",order:0},{value:"SEK",name:"SEK - Swedish Krona",order:0},{value:"CZK",name:"CZK - Czech Koruna",order:0},{value:"PLN",name:"PLN - Polish Zloty",order:0},{value:"AUD",name:"AUD - Australian Dollar",order:0},{value:"MXN",name:"MXN - Mexican Peso",order:0},{value:"KRW",name:"KRW - South Korean Won",order:0},{value:"TWD",name:"TWD - New Taiwan Dollar",order:0},{value:"HKD",name:"HKD - Hong Kong Dollar",order:0},{value:"KES",name:"KES - Kenyan Shilling",order:0},{value:"AMD",name:"AMD - Armenian Drams",order:0},{value:"RUR",name:"RUR - Russian Rubles",order:0}]},51:function(e){e.exports=[{name:"BTC/XRP",order:1},{name:"XRP/USD",order:1},{name:"XRP/EUR",order:1},{name:"XRP/JPY",order:0},{name:"XRP/GBP",order:0},{name:"XRP/AUD",order:0},{name:"XRP/CHF",order:0},{name:"XRP/CAD",order:0},{name:"XRP/CNY",order:0},{name:"BTC/USD",order:0},{name:"BTC/EUR",order:0},{name:"EUR/USD",order:0},{name:"USD/JPY",order:0},{name:"GBP/USD",order:0},{name:"AUD/USD",order:0},{name:"USD/CHF",order:0}]},52:function(module,exports,require){var jade=require(70);module.exports=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})switch(tx.type){case"sent":buf.push('<div class="type-info">You sent&#32;<span class="number">{{tx.amount | rpamount}}</span>&#32;<span class="currency">{{tx.currency}}</span> to&#32;<span title="{{tx.counterparty}}">{{tx.counterparty | rpcontactname}}</span></div>');break;case"received":buf.push('<div class="type-success"><span title="{{tx.counterparty}}">{{tx.counterparty | rpcontactname}} 发给你</span>&#32;<span class="number">{{tx.amount | rpamount}}</span>&#32;<span class="currency">{{tx.currency}}</span></div>');break;case"trusted":buf.push('<div class="type-success"><span title="{{tx.counterparty}}">{{tx.counterparty | rpcontactname}} 对你设置了信任，额度为</span>&#32;<span class="number">{{tx.amount | rpamount}}</span>&#32;<span class="currency">{{tx.currency}}</span></div>');break;case"trusting":buf.push('<div class="type-success"><span title="{{tx.counterparty}}">你信任了{{tx.counterparty | rpcontactname}} ，额度为</span>&#32;<span class="number">{{tx.amount | rpamount}}</span>&#32;<span class="currency">{{tx.currency}}</span></div>')}return buf.join("")}},53:function(e,t,r){r(43),r(47),r(48);var n=function(){};n.prototype.pageMode="default",n.prototype.mainMenu="none",n.prototype.angularDeps=["charts","effects","events","fields","formatters","directives","validators","datalinks","filters"],n.prototype.aliases=[],t.Tab=n},54:function(module,exports,require){var jade=require(70);module.exports=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<section ng-controller="RegisterCtrl" class="col-xs-12 content"><div ng-show="mode==&quot;form&quot;" class="row mode-form"><div class="col-xs-12 col-md-10 col-md-offset-1"><h1>创建一个 Ripple 钱包</h1><p class="literal">Ripple是一个全球性开放支付系统——简单、快速地将任意类型的货币支付到世界上任意角落。</p><p class="literal hint">您的钱包的安全性完全取决于您的账户名和密码，这两者用于加密您的钱包数据。请选择一个别人猜不到而你能记住的密码。建议使用字母、数字和符号的混合体。</p><p class="literal hint important">只有你掌握你的用户名和密码，并且对其安全负责。如果你忘记了他们，Ripple无法为您恢复！<a href="https://ripple.com/blog/how-to-protect-your-account/" target="_blank">Read more</a></p><form name="registerForm" ng-submit="submitForm()"><div class="row"><div class="col-sm-5 col-lg-4"><div class="form-group"><label for="register_username">创建钱包名</label><input id="register_username" name="register_username" type="text" ng-model="username" required="required" rp-focus="rp-focus" class="form-control"/></div></div></div><div class="row"><div class="col-sm-5 col-lg-4 form-group"><label for="register_password">输入钱包密码</label><input id="register_password" name="register_password1" type="password" ng-model="password1" rp-strong-password="rp-strong-password" required="required" rp-same-in-set="passwordSet" class="form-control"/></div><div class="col-sm-5 col-lg-4 form-group"><label for="register_password2">再次输入密码</label><input id="register_password2" name="register_password2" type="password" ng-model="password2" required="required" rp-same-in-set="passwordSet" class="form-control"/></div><div class="col-sm-2 col-lg-4 strength {{strength}}">{{strength}}</div></div><div class="row"><div class="col-xs-12"><p ng-show="registerForm.register_password1.$error.rpSameInSet &amp;&amp; registerForm.register_password2.$dirty" class="text-error">两次输入的密码不一致</p><p ng-show="strength==\'weak\'" class="text-error">您的密码安全性太低。请在密码中混入字母、数字和符号。</p></div></div><div ng-show="showMasterKeyInput" class="row"><div class="col-sm-5 col-lg-4 form-group"><label for="register_masterkey">账号密钥 <a href="" ng-click="showMasterKeyInput=false;">隐藏</a></label><input id="register_masterkey" name="register_masterkey" type="text" autocomplete="off" ng-model="masterkey" rp-master-key="rp-master-key" rp-focus="rp-focus" class="form-control"/><div ng-show="registerForm.register_masterkey.$error.rpMasterKey" class="errorBox"><p class="text-error">无效的密钥</p></div></div></div><label for="track"><input id="track" name="track" type="checkbox" ng-model="track" class="track"/>&#32;<span>发送匿名使用数据，以帮助 Ripple Labs 改进产品。</span></label><div class="row"><div class="col-sm-5 col-lg-4"><button type="submit" ng-disabled="registerForm.$invalid || submitLoading" class="btn btn-block btn-success"><span ng-show="submitLoading">载入中...</span><span ng-hide="submitLoading">创建钱包</span></button></div><div class="col-sm-5 col-lg-4 storeinfo">用 <br/> <span ng-hide="storeChange"><strong>{{blobBackendCollection.something.name}}&#32;</strong><a href="" ng-click="storeChange=true">更改</a></span> <span ng-show="storeChange" class="storeChange"><select ng-model="blobBackendCollection.something" ng-options="b.name for b in blobBackendCollections" ng-change="backendChange()"></select></span> 保存钱包</div></div><div class="row"><div class="col-xs-12 literal throw"><span>已有钱包了吗？</span><a href="#/login">打开钱包</a><br/><span ng-hide="showMasterKeyInput">需要用密钥吗？<a href="" ng-click="showMasterKeyInput=true">使用密钥</a></span></div></div></form></div></div><div ng-show="mode==&quot;masterkeyerror&quot;" class="row mode-masterkeyerror"><div class="col-xs-12 col-md-10 col-md-offset-1"><h1>账号密钥错误</h1><p class="literal">系统中已存在您输入的账号和密码，但并未与您输入的密钥相关联。如果您决定继续注册，那么您的用户名和密码将关联此新输入的密钥。</p><p><button ng-click="mode=&quot;form&quot;" class="btn btn-primary">返回</button>&#32;<button ng-click="register()" class="btn btn-default">覆盖现有密钥</button></p></div></div><div ng-show="mode==&quot;loginerror&quot;" class="row mode-masterkeyerror"><div class="col-xs-12 col-md-10 col-md-offset-1"><h1>错误：账户已存在</h1><p class="literal">已存在一个钱包名和密码类似的钱包，但这一钱包无法被解密。请至少更换钱包名密码中的一个。</p><p><button ng-click="mode=&quot;form&quot;" class="btn btn-primary">返回</button></p></div></div><div ng-show="mode==&quot;welcome&quot;" class="row mode-welcome"><div class="col-xs-12 col-md-10 col-md-offset-1"><h1>欢迎来到 Ripple</h1><p class="important">重要信息：</p><p class="hint">在丢失了钱包的用户名和密码这种小概率事件下，账户密钥还是让你能拿到你账户里的钱。在那种情况下钱包里的联系人列表将丢失。但任何人仅凭账户密钥就可以拿到你的钱，所以一定要保存在安全和私密的地方。在 <a href="#">安全</a> 阅读更多关于密钥和钱包安全的话题。</p><div class="credentials"><span class="username">钱包名：<span class="value">{{username}}</span></span><span class="password">密码：<span ng-show="showPassword==true" class="value">{{password1}}&#32;</span> <span ng-hide="showPassword==true" class="value">{{password}}</span> <rp-confirm action-text="Are you in a safe place where no person or camera can see your screen?" action-button-text="Yes, show me" action-function="showPassword=true" cancel-button-text="no" ng-hide="showPassword==true"><a href="">显示</a></rp-confirm> <a href="" ng-click="showPassword=false" ng-show="showPassword==true">隐藏</a></span></div><div class="secret"><p class="important">Ripple 钱包地址</p><p class="key">{{address}}</p><p class="important">账户密钥:</p><p ng-show="showSecret==true" class="key">{{keyOpen}}</p><p ng-hide="showSecret==true" class="key">{{key}}</p><p ng-hide="showSecret==true"><rp-confirm action-text="Are you in a safe place where no person or camera can see your screen?" action-button-text="Yes, show me" action-function="showSecret=true" cancel-button-text="no"><button class="btn btn-info btn-sm">显示账户密钥</button></rp-confirm></p><p ng-show="showSecret==true"><button ng-click="showSecret=false" class="btn btn-info btn-sm">隐藏账户密钥</button></p></div><p class="important">你把账户密钥保存在安全的地方了吗？</p><div class="row"><div class="col-xs-12 col-sm-5 col-lg-4"><a href="#balance" ng-click="goToBalance()" class="btn btn-info btn-block btn-big">嗯，我把密钥保存好了</a></div></div></div></div></section>');
return buf.join("")}},55:function(module,exports,require){var jade=require(70);module.exports=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<section ng-controller="LoginCtrl" class="col-xs-12 content"><div ng-hide="$routeParams.tab" class="row normal-login"><h1>打开钱包</h1><div class="col-sm-10 col-sm-offset-1"><div class="row"><div class="col-xs-12"><p class="literal">请在下方输入用于加密钱包的用户名和密码。</p></div></div><form name="loginForm" ng-submit="submitForm()"><div class="row"><div class="col-xs-12 col-sm-6 col-md-5"><div class="form-group"><label for="login_username">钱包名</label><input id="login_username" name="login_username" type="text" ng-model="username" required="required" rp-focus-on-empty="rp-focus-on-empty" rp-autofill="$routeParams.username" class="form-control"/></div><div class="form-group"><label for="login_password">密码</label><input id="login_password" name="login_password" type="password" ng-model="password" required="required" rp-focus="rp-focus" class="form-control"/></div></div></div><div class="row"><div class="col-xs-12"><div ng-show="status" class="text-status"><span>{{status}}</span><br/><div ng-repeat="message in backendMessages" class="backend"><b>{{message.backend}} &#32;</b><span>{{message.message}}</span></div></div></div><div class="col-xs-12"><div class="row"><div class="col-xs-12 col-sm-6 col-md-5"><button type="submit" ng-disabled="loginForm.$invalid || ajax_loading" rp-spinner="{{ajax_loading ? 4 : null}}" class="btn btn-lg btn-submit btn-block btn-primary"><span>打开钱包</span></button></div><div class="col-xs-12 col-sm-5 col-md-4"><div class="storageinfo"><span class="fetch">从这里提取钱包: </span><span ng-hide="storeChange"><strong>{{blobBackendCollection.something.name}}&#32;</strong><a href="" ng-click="storeChange=true">更改</a></span><span ng-show="storeChange"><select ng-model="blobBackendCollection.something" ng-options="b.name for b in blobBackendCollections" ng-change="backendChange()"></select><a href="" ng-click="storeChange=false">OK</a></span></div></div></div></div></div><div class="row"><div class="col-xs-12"><p class="literal"><span>新参与 ripple 吗？</span><a href="#register">创建钱包</a></p></div></div></form></div></div><div ng-show="$routeParams.tab" class="row action-login"><h1 ng-show="\'send\' == $routeParams.tab">交易概要</h1><h1 ng-show="\'trust\' == $routeParams.tab">设置信任额度</h1><h1 ng-show="\'contacts\' == $routeParams.tab">添加联系人</h1><div class="col-xs-12 col-sm-6 col-md-6"><div ng-show="\'send\' == $routeParams.tab" class="info"><p class="literal">{{$routeParams.label}}</p><p ng-show="$routeParams.amount">你将发送</p><p ng-hide="$routeParams.amount">您将转账到这个ripple地址</p><div ng-show="$routeParams.amount" class="amount"><span class="number">{{$routeParams.amount | rpamount:{xrp_human: true} }}</span><span class="currency">{{$routeParams.amount | rpcurrency}}</span></div><p ng-show="$routeParams.amount">到 ripple 地址</p><div class="address">{{$routeParams.to}}</div></div><div ng-show="\'trust\' == $routeParams.tab" class="info"><p class="literal">{{$routeParams.label}}</p><p>你将会信任</p><div ng-show="$routeParams.amount" class="amount"><span class="number">{{$routeParams.amount | rpamount:{xrp_human: true} }}</span><span class="currency">{{$routeParams.amount | rpcurrency}}</span></div><p ng-hide="$routeParams.name">到 ripple 地址</p><p ng-show="$routeParams.name">转给 <b>{{$routeParams.name}}</b> 的ripple地址</p><div class="address">{{$routeParams.to}}</div></div><div ng-show="\'contacts\' == $routeParams.tab" class="info"><p class="literal">{{$routeParams.label}}</p><span><p>您将会添加用户</p><div class="address">{{$routeParams.to}}</div><p>到您的ripple通讯录</p></span></div></div><div class="col-xs-12 col-sm-6 col-md-5 col-lg-4 col-lg-offset-1"><form name="loginForm" ng-submit="submitForm()"><div class="form-group"><label for="login_username">钱包名</label><input id="login_username" name="login_username" type="text" ng-model="username" required="required" rp-focus-on-empty="rp-focus-on-empty" rp-autofill="$routeParams.username" class="form-control"/></div><div class="form-group"><label for="login_password">密码</label><input id="login_password" name="login_password" type="password" ng-model="password" required="required" rp-focus="rp-focus" class="form-control"/></div><label class="storageinfo"><span ng-hide="storeChange"><strong>{{blobBackendCollection.something.name}}&#32;</strong><a href="" ng-click="storeChange=true">更改</a></span><span ng-show="storeChange"><select ng-model="blobBackendCollection.something" ng-options="b.name for b in blobBackendCollections" ng-change="backendChange()"></select><a href="" ng-click="storeChange=false">OK</a></span></label><div class="row"><div ng-show="status" class="col-xs-12 text-status"><span>{{status}}</span><br/><div ng-repeat="message in backendMessages" class="backend"><b>{{message.backend}} &#32;</b><span>{{message.message}}</span></div></div></div><div class="row"><div class="col-xs-12"><button type="submit" ng-disabled="loginForm.$invalid || ajax_loading" rp-spinner="{{ajax_loading ? 4 : null}}" class="btn btn-lg btn-submit btn-block btn-primary">Open Wallet</button></div></div><p class="literal hint">你可以在下一界面确认这个交易</p><p class="literal">新参与 ripple 吗？<a href="#/register" l10n-inc="l10n-inc"> 创建钱包</a></p></form></div></div></section>');return buf.join("")}},56:function(module,exports,require){var jade=require(70);module.exports=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{}){buf.push('<nav class="col-xs-12 col-md-2"><h2 ng-bind="$route.current.tabName | rpucfirst"></h2><ul><li ng-class="{active: $route.current.tabName == \'balance\'}"><a href="#/balance">余额</a></li><li ng-class="{active: $route.current.tabName == \'history\'}"><a href="#/history">历史</a></li><li ng-class="{active: $route.current.tabName == \'contacts\'}"><a href="#/contacts">联系人</a></li><li ng-class="{active: $route.current.tabName == \'convert\'}"><a href="#/convert">兑换</a></li><li ng-class="{active: $route.current.tabName == \'cashin\'}"><a href="#/cashin">存入现金</a></li><li ng-class="{active: $route.current.tabName == \'security\'}"><a href="#/security">安全</a></li></ul></nav><section ng-controller="BalanceCtrl" class="col-xs-12 col-md-10 content"><group ng-hide="connected" class="disconnected"><p class="literal">要看到这一界面，你必须在线</p></group><group ng-hide="!connected || loadState.account" class="disconnected"><p class="literal">载入中...</p></group><group ng-show="connected &amp;&amp; loadState.account"><div id="welcome" ng-hide="account.Balance" class="div"><p class="title">欢迎来到 Ripple.</p><p>目前你没有任何 XRP. 要开始使用你可以：</p><div class="actions"><a href="#receive" class="receive"></a><a href="https://support.ripplelabs.com/hc/en-us/articles/201209016" class="buy"></a><a href="https://support.ripplelabs.com/hc/en-us/articles/201082577-Current-Ripple-Labs-giveaways" class="giveaway"></a></div></div><div ng-show="account.Balance" class="row row-padding-small currency-summary positive"><div class="col-xs-6 col-md-4 col-lg-3 balancebox"><div class="lbl">XRP - Ripple</div><div class="balance xrp"><span rp-tooltip="{{account.Balance | rpamount:{rel_precision: 2, max_sig_digits: 20} }}">{{account.Balance | rpamount:{rel_precision: 2} }}</span><span class="secondary">(reserve: {{ account.reserve | rpamount }} XRP)</span></div></div><div ng-repeat="entry in balances" ng-hide="entry.total.is_zero()" class="col-xs-6 col-md-4 col-lg-3 balancebox"><div class="lbl">{{entry.total | rpcurrencyfull}}</div><div class="balance"><span rp-tooltip="{{entry.total | rpamount}}">{{entry.total | rpamount:{rel_precision: 0} }}</span></div></div></div><div class="row"><table ng-show="account.Balance" class="table events"><caption>动态</caption><thead><tr><th class="date">日期</th><th class="desc">事件</th></tr></thead><tbody ng-class="{passive: loading}"><tr ng-repeat="entry in transactions" ng-class="entry.transaction.type" rp-link-tx="entry.hash"><td class="date">{{entry.date | rpfromnow}}</td><td ng-switch on="entry.transaction.type" class="desc"><div ng-switch-when="sent" class="transaction"><span>You sent<strong class="nowrap"> {{entry.transaction.amount | rpamount}} {{entry.transaction.amount | rpcurrency}}</strong> to&#32;<span title="{{entry.transaction.counterparty}}" class="address">{{entry.transaction.counterparty | rpcontactname}}</span></span><a ng-hide="entry.transaction.counterparty | rponlycontactname" href="#/contact?to={{entry.transaction.counterparty}}" rp-no-propagate="rp-no-propagate" title="Add to contacts" class="add btn btn-default btn-sm">+&#32;<span class="hidden-xs">添加到联系人列表</span><span class="visible-xs"><i class="fa fa-user"></i></span></a>');var __val__=require(77)();buf.push(null==__val__?"":__val__),buf.push('</div><div ng-switch-when="received" class="transaction"><span title="{{entry.transaction.counterparty}}" class="address">{{entry.transaction.counterparty | rpcontactname}} 给你发了</span><strong class="nowrap"> {{entry.transaction.amount | rpamount}} {{entry.transaction.amount | rpcurrency}}</strong><a ng-hide="entry.transaction.counterparty | rponlycontactname" href="#/contact?to={{entry.transaction.counterparty}}" rp-no-propagate="rp-no-propagate" title="Add to contacts" class="add btn btn-default btn-sm">+&#32;<span class="hidden-xs">添加到联系人列表</span><span class="visible-xs"><i class="fa fa-user"></i></span></a>');var __val__=require(77)();buf.push(null==__val__?"":__val__),buf.push('</div><div ng-switch-when="convert" class="transaction"><span>你请求把 <strong class="nowrap"> {{entry.transaction.spent | rpamount}}\n{{entry.transaction.spent | rpcurrency}}</strong> 兑换成 <strong class="nowrap"> {{entry.transaction.amount | rpamount}}\n{{entry.transaction.amount | rpcurrency}}</strong></span>');var __val__=require(77)();buf.push(null==__val__?"":__val__),buf.push('</div><div ng-switch-when="trusted" class="transaction"><span title="{{entry.transaction.counterparty}}" class="address">{{entry.transaction.counterparty | rpcontactname}} 对你设置了</span><strong class="nowrap"> {{entry.transaction.amount | rpamount}}\n{{entry.transaction.amount | rpcurrency}}</strong><a ng-hide="entry.transaction.counterparty | rponlycontactname" href="#/contact?to={{entry.transaction.counterparty}}" rp-no-propagate="rp-no-propagate" title="Add to contacts" class="add btn btn-default btn-sm">+&#32;<span class="hidden-xs">添加到联系人列表</span><span class="visible-xs"><i class="fa fa-user"></i></span></a>');var __val__=require(77)();buf.push(null==__val__?"":__val__),buf.push('</div><div ng-switch-when="trusting" class="transaction"><span>你现在对 <span title="{{entry.transaction.counterparty}}" class="address">{{entry.transaction.counterparty | rpcontactname}}</span> 设置了 <strong class="nowrap"> {{entry.transaction.amount | rpamount}}\n{{entry.transaction.amount | rpcurrency}}</strong> 的信任额度。</span><a ng-hide="entry.transaction.counterparty | rponlycontactname" href="#/contact?to={{entry.transaction.counterparty}}" rp-no-propagate="rp-no-propagate" title="Add to contacts" class="add btn btn-default btn-sm">+&#32;<span class="hidden-xs">添加到联系人列表</span><span class="visible-xs"><i class="fa fa-user"></i></span></a>');var __val__=require(77)();buf.push(null==__val__?"":__val__),buf.push('</div><div ng-switch-when="offernew" class="transaction"><span ng-show="entry.transaction.sell">你建立了卖出 <strong>{{entry.transaction.gets | rpamount}} {{entry.transaction.gets | rpcurrency}}</strong> 得到 <strong>{{entry.transaction.pays | rpamount}} {{entry.transaction.pays | rpcurrency}}</strong> 的挂单 </span><span ng-hide="entry.transaction.sell">你建立了用 <strong>{{entry.transaction.gets | rpamount}} {{entry.transaction.gets | rpcurrency}}</strong> 买入 <strong>{{entry.transaction.pays | rpamount}} {{entry.transaction.pays | rpcurrency}}</strong> 的挂单 </span>');var __val__=require(77)();buf.push(null==__val__?"":__val__),buf.push('</div><div ng-switch-when="offercancel" class="transaction"><span>您取消了以 <strong class="nowrap">{{entry.transaction.gets | rpamount}}\n{{entry.transaction.gets | rpcurrency}}</strong> 的价格购入 <strong class="nowrap">{{entry.transaction.pays | rpamount}}\n{{entry.transaction.pays | rpcurrency}}</strong> 的挂单</span>');var __val__=require(77)();buf.push(null==__val__?"":__val__),buf.push('</div><div ng-switch-when="accountset" class="transaction">账户细节发生了变化</div><div ng-switch-when="rippling" class="transaction"><span>允许同种货币互相置换</span>');var __val__=require(77)();buf.push(null==__val__?"":__val__),buf.push('</div><div ng-switch-when="failed" class="transaction">交易失败</div><div ng-switch-default="ng-switch-default" class="transaction">');var __val__=require(77)();buf.push(null==__val__?"":__val__),buf.push('</div></td></tr></tbody><tfoot><tr><td colspan="2"><a href="" ng-click="loadMore()" ng-show="!tx_load_status &amp;&amp; has_more">载入更多</a><span ng-show="tx_load_status == \'loading\'">载入中...</span><span ng-show="tx_load_status == \'error\'">错误</span><span ng-show="!transactions.length &amp;&amp; !tx_load_status">没有找到历史转账和交易记录</span></td></tr></tfoot></table></div></group></section>')}return buf.join("")}},57:function(module,exports,require){var jade=require(70);module.exports=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{}){buf.push('<nav class="col-xs-12 col-md-2"><h2 ng-bind="$route.current.tabName | rpucfirst"></h2><ul><li ng-class="{active: $route.current.tabName == \'balance\'}"><a href="#/balance">余额</a></li><li ng-class="{active: $route.current.tabName == \'history\'}"><a href="#/history">历史</a></li><li ng-class="{active: $route.current.tabName == \'contacts\'}"><a href="#/contacts">联系人</a></li><li ng-class="{active: $route.current.tabName == \'convert\'}"><a href="#/convert">兑换</a></li><li ng-class="{active: $route.current.tabName == \'cashin\'}"><a href="#/cashin">存入现金</a></li><li ng-class="{active: $route.current.tabName == \'security\'}"><a href="#/security">安全</a></li></ul></nav><section ng-controller="HistoryCtrl" class="col-xs-12 col-md-10 content"><group ng-hide="connected" class="disconnected"><p class="literal">要看到这一界面，你必须在线</p></group><group ng-hide="!connected || loadState.transactions" class="disconnected"><p class="literal">正在加载历史记录...</p></group><div ng-show="loadState.account &amp;&amp; !account.Balance" class="unfunded"><p class="literal">您的账户暂无历史记录</p><p><a href="#/balance" class="btn btn-default">Back to balance</a></p></div><group ng-show="connected &amp;&amp; loadState.transactions &amp;&amp; account.Balance"><div class="filters row-padding-small"><ul class="row"><li class="col-xs-12 col-sm-6 col-md-3">交易种类：<strong>&#32;</strong> <a href="" ng-click="filter=\'type\'" ng-hide="filter==\'type\'">变更</a> <a href="" ng-click="filter=false" ng-show="filter==\'type\'">隐藏</a></li><li class="col-xs-12 col-sm-6 col-md-3">币种：<strong>&#32;</strong> <a href="" ng-click="filter=\'currency\'" ng-hide="filter==\'currency\'">变更</a> <a href="" ng-click="filter=false" ng-show="filter==\'currency\'">隐藏</a></li><li class="col-xs-12 col-sm-6 col-md-2">日期: <strong>&#32;</strong> <a href="" ng-click="filter=\'date\'" ng-hide="filter==\'date\'">变更</a> <a href="" ng-click="filter=false" ng-show="filter==\'date\'">隐藏</a></li><li class="col-xs-12 col-sm-6 col-md-4">最低金额：<strong> {{filters.minimumAmount}}&#32;</strong> <a href="" ng-click="filter=\'minimum-amount\'" ng-hide="filter==\'minimum-amount\'">变更</a> <a href="" ng-click="filter=false" ng-show="filter==\'minimum-amount\'">隐藏</a></li></ul><div ng-show="filter==\'type\'" class="row filter type-filter"><div ng-repeat="name in orderedTypes" class="col-xs-12 col-sm-3 col-lg-2"><label ng-class="{active: types[name].checked}"><i ng-show="types[name].checked" class="fa fa-plus"></i><i ng-hide="types[name].checked" class="fa fa-minus"></i><span class="name">{{name}}</span><!--span.count {{typeUsage[name] || 0}}--><input type="checkbox" name="type-filter" ng-model="types[name].checked"/></label></div></div><div ng-show="filter==\'currency\'" class="row filter type-filter"><div ng-repeat="(currency,obj) in filters.currencies" class="col-xs-12 col-sm-3 col-lg-2"><label ng-class="{active: obj.checked}"><i ng-show="obj.checked" class="fa fa-plus"></i><i ng-hide="obj.checked" class="fa fa-minus"></i><span class="name">{{currency}}</span><!--span.count {{currencyUsage[currency] || 0}}--><input type="checkbox" name="currency-filter" ng-model="obj.checked"/></label></div></div><div ng-show="filter==\'date\'" class="row filter date-filter"><div class="col-xs-12">读取指定时间段的历史记录</div><form ng-submit="submitDateRangeForm()" class="form-inline"><label class="form-group date col-xs-12 col-sm-5"><div class="input-group"><div class="input-group-addon"><i class="fa fa-calendar">从</i></div><input type="text" rp-datepicker="rp-datepicker" ng-model="dateMinView" readonly="readonly" class="form-control"/></div></label><label class="form-group date col-xs-12 col-sm-5"><div class="input-group"><div class="input-group-addon"><i class="fa fa-calendar">到</i></div><input type="text" rp-datepicker="rp-datepicker" ng-model="dateMaxView" readonly="readonly" class="form-control"/></div></label><label class="form-group date col-xs-12 col-sm-2"><button type="submit" class="btn btn-block btn-success submit">筛选</button></label></form></div><div ng-show="filter==\'minimum-amount\'" class="row filter amount-filter"><div class="col-xs-12">最小数额过滤</div><form ng-submit="submitMinimumAmountForm()" class="form-group"><div class="col-xs-8"><input type="text" ng-model="filters.minimumAmount" class="form-control"/></div><div class="col-xs-4"><button type="submit" class="btn btn-block btn-success submit">筛选</button></div></form></div></div><div class="transactions"><div class="head"><div class="type"></div><div class="i"></div><div class="dt">日期</div><div class="desc">描述</div></div><div ng-hide="historyState==\'loading\' || historyShow" class="message">对不起，没有匹配的交易记录。</div><ul><li ng-repeat="entry in historyShow" ng-click="details[entry.hash] = !details[entry.hash]" ng-class="{open: details[entry.hash]}" ng-class-odd="\'odd\'" class="{{entry.transaction.type}}"><div class="info"><span class="type">&nbsp;</span><span class="i"><i ng-show="entry.transaction.type==\'received\'" class="fa fa-arrow-down"></i><i ng-show="entry.transaction.type==\'sent\'" class="fa fa-arrow-up"></i><i ng-show="entry.transaction.type==\'trusted\'" class="fa fa-download fa-rotate-90"></i><i ng-show="entry.transaction.type==\'trusting\'" class="fa fa-download fa-rotate-270"></i><i ng-show="!entry.transaction.type || entry.transaction.type==\'offernew\' || entry.transaction.type==\'offercancel\' || entry.transaction.type==\'convert\' || entry.transaction.type==\'rippling\'" class="fa fa-exchange"></i><i ng-show="entry.transaction.type==\'accountset\'" class="fa fa-cogs"></i><i ng-show="entry.transaction.type==\'failed\'" class="fa fa-exclamation-triangle"></i></span><span class="dt">{{entry.date | date:\'EEE, MMM d, h:mm a\'}}</span><span ng-switch on="entry.transaction.type" class="desc"><span ng-switch-when="sent"><span>You sent<strong> {{entry.transaction.amount | rpamount}} {{entry.transaction.amount | rpcurrency}}</strong> to&#32;<span title="{{entry.transaction.counterparty}}" class="address">{{entry.transaction.counterparty | rpcontactname}}</span></span>');var __val__=require(77)();buf.push(null==__val__?"":__val__),buf.push('</span><span ng-switch-when="received"><span><span title="{{entry.transaction.counterparty}}" class="address">{{entry.transaction.counterparty | rpcontactname}}</span> sent you<strong> {{entry.transaction.amount | rpamount}} {{entry.transaction.amount | rpcurrency}}</strong></span>');var __val__=require(77)();buf.push(null==__val__?"":__val__),buf.push('</span><span ng-switch-when="convert"><span>你请求把 <strong> {{entry.transaction.spent | rpamount}} {{entry.transaction.spent | rpcurrency}}</strong> 兑换成 <strong> {{entry.transaction.amount | rpamount}} {{entry.transaction.amount | rpcurrency}}</strong></span>');var __val__=require(77)();buf.push(null==__val__?"":__val__),buf.push('</span><span ng-switch-when="trusted"><span><span title="{{entry.transaction.counterparty}}" class="address">{{entry.transaction.counterparty | rpcontactname}}</span> now trusts you for<strong> {{entry.transaction.amount | rpamount}} {{entry.transaction.amount | rpcurrency}}</strong></span>');var __val__=require(77)();buf.push(null==__val__?"":__val__),buf.push('</span><span ng-switch-when="trusting"><span>你现在对 <span title="{{entry.transaction.counterparty}}" class="address">{{entry.transaction.counterparty | rpcontactname}}</span> 设置了 <strong>{{entry.transaction.amount | rpamount}} {{entry.transaction.amount | rpcurrency}}</strong> 的信任额度。</span>');var __val__=require(77)();buf.push(null==__val__?"":__val__),buf.push('</span><span ng-switch-when="offernew"><span ng-show="entry.transaction.sell">你建立了卖出 <strong>{{entry.transaction.gets | rpamount}} {{entry.transaction.gets | rpcurrency}}</strong> 得到 <strong>{{entry.transaction.pays | rpamount}} {{entry.transaction.pays | rpcurrency}}</strong> 的挂单 </span><span ng-hide="entry.transaction.sell">你建立了用 <strong>{{entry.transaction.gets | rpamount}} {{entry.transaction.gets | rpcurrency}}</strong> 买入 <strong>{{entry.transaction.pays | rpamount}} {{entry.transaction.pays | rpcurrency}}</strong> 的挂单 </span>');var __val__=require(77)();buf.push(null==__val__?"":__val__),buf.push('</span><span ng-switch-when="offercancel"><span>您取消了以 <strong>{{entry.transaction.gets | rpamount}} {{entry.transaction.gets | rpcurrency}}</strong> 的价格购入 <strong>{{entry.transaction.pays | rpamount}} {{entry.transaction.pays | rpcurrency}}</strong> 的挂单</span>');var __val__=require(77)();buf.push(null==__val__?"":__val__),buf.push('</span><span ng-switch-when="accountset"><span>账户资料修改完成</span>');var __val__=require(77)();buf.push(null==__val__?"":__val__),buf.push('</span><span ng-switch-when="rippling"><span>允许同种货币互相置换</span>');var __val__=require(77)();buf.push(null==__val__?"":__val__),buf.push('</span><span ng-switch-when="failed">交易失败</span><span ng-switch-default="ng-switch-default">');var __val__=require(77)();buf.push(null==__val__?"":__val__),buf.push('</span></span></div><div ng-if="details[entry.hash]" class="details"><div ng-show="entry.balanceEffects" class="effects"><div class="title">余额变化</div><div class="effect header"><span class="description">描述</span><span class="issuer">发行人</span><span class="amount">金额</span><span class="balance">最终余额</span></div><div ng-repeat="effect in entry.balanceEffects" class="effect"><span class="description"><span ng-show="effect.type == \'balance_Change\'" data-label="Description">XRP 余额变化</span><span ng-show="effect.type == \'trust_Change_balance\'" data-label="Description">{{effect.currency}} 余额变化</span><span ng-show="effect.type == \'fee\'" data-label="Description">费用</span></span><span rp-pretty-issuer="effect.amount.issuer().to_json()" rp-pretty-issuer-contacts="userBlob.data.contacts" rp-pretty-issuer-default="-" data-label="Issuer" class="issuer"></span><span data-label="Amount" class="amount">{{effect.amount | rpamount }} {{effect.amount | rpcurrency}}</span><span data-label="Final balance" class="balance">{{effect.balance | rpamount }} {{effect.balance | rpcurrency}}</span></div></div><div class="links"><a rp-link-tx="entry.hash" class="txLink">交易详情</a><a href="#/contact?to={{entry.transaction.counterparty}}" rp-no-propagate="rp-no-propagate" ng-show="entry.transaction.counterparty &amp;&amp; !(entry.transaction.counterparty | rponlycontactname)" class="addLink">把 <strong> {{entry.transaction.counterparty | rpcontactname}}</strong> 加为联系人</a></div></div></li></ul><div class="foot"><div ng-show="historyState==\'loading\'">载入中...</div><a ng-show="historyState==\'ready\'" href="" ng-click="loadMore()" class="loadmore">载入更多</a><div ng-show="historyState==\'full\'">没有余下的交易了</div></div></div></group></section><!-- TODO filter calendar: High/low limits.--><!-- TODO filter calendar: High limit calculation after the low limit--><!-- TODO we loose history after tab Change--><!-- TODO problem when manually editing date filter input field--><!-- TODO currency filter to work with also trust type--><!-- TODO optimization.. double (triple on load more) update history-->')}return buf.join("")}},58:function(module,exports,require){var jade=require(70);module.exports=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<nav class="col-xs-12 col-md-2"><h2 ng-bind="$route.current.tabName | rpucfirst"></h2><ul><li ng-class="{active: $route.current.tabName == \'balance\'}"><a href="#/balance">余额</a></li><li ng-class="{active: $route.current.tabName == \'history\'}"><a href="#/history">历史</a></li><li ng-class="{active: $route.current.tabName == \'contacts\'}"><a href="#/contacts">联系人</a></li><li ng-class="{active: $route.current.tabName == \'convert\'}"><a href="#/convert">兑换</a></li><li ng-class="{active: $route.current.tabName == \'cashin\'}"><a href="#/cashin">存入现金</a></li><li ng-class="{active: $route.current.tabName == \'security\'}"><a href="#/security">安全</a></li></ul></nav><section ng-controller="ContactsCtrl" class="col-xs-12 col-md-10 content"><div class="row row-padding-small head hidden-xs"><div class="col-xs-3">姓名</div><div class="col-xs-6">钱包地址</div><div class="col-xs-3 text-right"><a ng-click="toggle_form()" ng-disabled="addform_visible" class="btn btn-success btn-sm sign">添加联系人</a></div></div><div class="row head visible-xs"><div class="col-xs-12"><a ng-click="toggle_form()" ng-disabled="addform_visible" class="btn btn-success btn-block btn-sm sign">添加联系人</a></div></div><div ng-show="addform_visible" class="row row-padding-small addForm"><div class="col-xs-12 col-sm-5"><form name="addForm" id="addForm" ng-submit="create()"><div class="form-group"><label for="Name">姓名</label><input id="name" name="name" type="text" step="any" maxlength="70" ng-model="contact.name" rp-unique="userBlob.data.contacts" rp-unique-field="name" rp-autofill="$routeParams.name" rp-autofill-on="addform_visible = true" required="required" rp-focus="rp-focus" class="form-control input-lg name"/><div rp-errors="name" class="errorGroup"><div rp-error-on="required" class="error">请输入姓名</div><div rp-error-on="rpUnique" class="error">已有同名联系人。</div></div></div><div class="form-group"><label for="Address">钱包地址</label><input id="address" name="address" type="text" step="any" ng-model="contact.address" rp-dest="rp-dest" rp-dest-address="rp-dest-address" rp-dest-bitcoin="rp-dest-bitcoin" rp-unique="userBlob.data.contacts" rp-unique-field="address" rp-autofill="$routeParams.to" rp-autofill-on="addform_visible = true" required="required" class="form-control input-lg address"/><div rp-errors="address" class="errorGroup"><div rp-error-on="required" class="error">请输入钱包地址。</div><div rp-error-on="rpUnique" class="error">已有相同地址的联系人。</div><div rp-error-on="rpDest" class="error">地址无效。</div></div></div><div class="form-group"><label for="dt">终端标签</label><input id="dt" name="dt" type="text" step="any" placeholder="Leave blank if not applicable" ng-model="contact.dt" rp-stdt="rp-stdt" rp-autofill="$routeParams.dt" class="form-control input-lg dt"/><div rp-errors="dt" class="errorGroup"><div rp-error-on="rpStdt" class="error">无效的终端标签</div></div></div><div class="row row-padding-small"><div class="col-xs-6 col-sm-4"><button type="button" ng-click="addform_visible = false" class="btn btn-default btn-block">取消</button></div><div class="col-xs-6 col-sm-8"><button type="submit" ng-disabled="addForm.$invalid" class="btn btn-success btn-block submit">添加联系人</button></div></div></form></div></div><div ng-repeat="entry in userBlob.data.contacts" ng-class="{editing: editing}" ng-controller="ContactRowCtrl" class="row row-padding-small contact"><div class="col-xs-12 col-sm-3"><div ng-show="editing"><ng-form name="inlineName"><input name="editname" type="text" maxlength="70" ng-model="editname" rp-unique="userBlob.data.contacts" rp-unique-field="name" rp-unique-orig="entry.name" ng-enter="update($index)" class="form-control inline"/><div rp-errors="editname" class="errorGroup"><div rp-error-on="rpUnique" class="error">已有同名联系人。</div></div></ng-form></div><span ng-hide="editing" class="name">{{entry.name}}</span></div><div class="col-xs-12 col-sm-6"><div ng-show="editing"><ng-form name="inlineAddress"><input name="editaddress" type="text" ng-model="editaddress" rp-unique="userBlob.data.contacts" rp-unique-field="address" rp-unique-orig="entry.address" rp-dest="rp-dest" rp-dest-address="rp-dest-address" rp-dest-bitcoin="rp-dest-bitcoin" ng-enter="update($index)" class="form-control inline"/><div rp-errors="editaddress" class="errorGroup"><div rp-error-on="rpUnique" class="error">您已经保存了该地址。</div><div rp-error-on="rpDest" class="error">地址无效。</div></div><div class="form-group"><label for="contact_dt">终端标签</label><input id="contact_dt" name="dt" type="text" step="any" placeholder="Leave blank if not applicable" ng-model="editdt" rp-stdt="rp-stdt" rp-autofill="$routeParams.dt" ng-enter="update($index)" class="form-control dt inline"/><div rp-errors="dt" class="errorGroup"><div rp-error-on="rpStdt" class="error">无效的终端标签</div></div></div><div class="row"><div class="col-xs-6 col-sm-6 col-md-8 col-lg-9"><rp-confirm action-text="Are you sure you want to delete this contact?" action-button-text="Delete" action-button-css="btn btn-default btn-danger" action-function="remove($index)" cancel-button-css="btn btn-default" cancel-button-text="Cancel" ng-hide="showPassword==true"><a href="" class="danger">删除</a></rp-confirm></div><div class="col-xs-6 col-sm-6 col-md-4 col-lg-3"><button ng-disabled="inlineAddress.editaddress.$error.rpDest" ng-click="update($index)" class="save btn btn-block btn-success">保存</button></div></div></ng-form></div><div ng-hide="editing"><b class="hidden-xs">{{entry.address | rpaddressorigin}}: {{entry.address}}</b></div></div><div class="col-xs-12 col-sm-3 text-right"><div class="row padding-vertical-xs"><div ng-hide="editing" class="col-xs-6"><button ng-click="edit($index)" class="edit btn btn-block btn-default btn-sm">编辑</button></div><div ng-show="editing" class="col-xs-6"><button ng-click="cancel($index)" class="editing btn-block btn btn-default btn-sm">取消</button></div><div class="col-xs-6"><button ng-click="send($index)" class="send btn btn-block btn-primary btn-sm">发送</button></div></div></div></div><div ng-hide="userBlob.data.contacts.length">You don\'t have any contacts yet.\nClick on "Add contact" button in the top right corner to add a new contact.</div></section>');return buf.join("")}},59:function(module,exports,require){var jade=require(70);module.exports=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<nav class="col-xs-12 col-md-2"><h2 ng-bind="$route.current.tabName | rpucfirst"></h2><ul><li ng-class="{active: $route.current.tabName == \'balance\'}"><a href="#/balance">余额</a></li><li ng-class="{active: $route.current.tabName == \'history\'}"><a href="#/history">历史</a></li><li ng-class="{active: $route.current.tabName == \'contacts\'}"><a href="#/contacts">联系人</a></li><li ng-class="{active: $route.current.tabName == \'convert\'}"><a href="#/convert">兑换</a></li><li ng-class="{active: $route.current.tabName == \'cashin\'}"><a href="#/cashin">存入现金</a></li><li ng-class="{active: $route.current.tabName == \'security\'}"><a href="#/security">安全</a></li></ul></nav><section ng-controller="ConvertCtrl" class="col-xs-12 col-md-10 content"><group ng-hide="connected" class="disconnected"><p class="literal">要看到这一界面，你必须在线</p></group><group ng-hide="!connected || loadState.account" class="disconnected"><p class="literal">载入中...</p></group><div ng-hide="account.Balance || !connected" class="unfunded"><p class="literal">在兑换之前必须先激活钱包</p><p><a href="#/balance" class="btn btn-default">返回到余额界面</a></p></div><form name="convertForm" id="convertForm" ng-show="mode==&quot;form&quot; &amp;&amp; account.Balance" ng-submit="convert_prepared()" class="mode-form"><p class="literal">把一种货币转换成另一种。</p><hr/><div class="form-group"><label for="amount">接收</label><div class="row row-padding-small amount"><div class="col-md-4"><input id="amount" name="amount" type="text" ng-model="convert.amount" required="required" rp-autofill="$routeParams.amount" rp-autofill-amount="rp-autofill-amount" rp-amount="rp-amount" rp-amount-positive="rp-amount-positive" class="value form-control"/></div><div class="col-md-3"><input id="amount_currency" name="amount_currency" type="text" rp-combobox="currency_query" rp-combobox-select="rp-combobox-select" ng-model="convert.currency" rp-autofill="$routeParams.amount" rp-autofill-currency="rp-autofill-currency" class="currency form-control"/></div></div><div rp-errors="amount" class="errorGroup"><div rp-error-on="required" class="error">请输入金额。</div><div rp-error-on="rpAmount" class="error">金额无效。</div><div rp-error-on="rpAmountPositive" class="error">请输入一个大于零的金额。</div></div><p ng-show="convert.path_status == \'waiting\'" class="literal">请输入兑换的具体内容。</p><p ng-show="convert.path_status == \'pending\'" class="literal throbber">计算中... </p><p ng-show="convert.path_status == \'no-path\' &amp;&amp; convert.currency_code != \'XRP\'" class="literal">不好意思，不能把 {{convert.amount}}兑换成 {{convert.currency}}。请确保你账户内有足够的余额且有一个到 {{convert.currency}} 网关的 <a href="https://ripplelabs.zendesk.com/hc/en-us/articles/200916587-how-to-set-a-trust-line-ripple" target="_blank">trust line</a> 。</p><p ng-show="convert.path_status == \'error\'" class="literal">计算路径时遇到了错误</p></div><div class="currency_sets"><div ng-if="convert.path_status == \'done\'" class="row row-padding-small"><div class="col-xs-12">兑换</div></div><div class="row row-padding-small alternatives"><div ng-repeat="alt in convert.alternatives" class="col-xs-12 col-sm-6 col-md-4"><div class="am"><span class="amnt">{{alt.amount | rpamount:{rel_precision: 4, rel_min_precision: 2} }}</span><span class="currency">{{alt.amount | rpcurrency }}</span></div><button type="submit" ng-disabled="convertForm.$invalid" ng-click="convert.alt = alt" class="btn btn-block btn-success">兑换 {{ alt.amount | rpcurrency }}</button></div></div><div ng-show="convert.alternatives.length &amp;&amp; lastUpdate" class="row pathupdate"><div class="col-xs-12">Paths last updated<span> {{lastUpdate}}</span><span ng-show="lastUpdate &gt; \'1\'" l10n-inc="l10n-inc"> seconds</span><span ng-show="lastUpdate == \'1\'" l10n-inc="l10n-inc"> second</span> ago</div></div></div></form><group ng-show="mode==&quot;wait_path&quot; &amp;&amp; account.Balance" class="mode-wait-path"><p class="throbber literal">Ripple 正在为您计算兑换路径。</p></group><group ng-show="mode==&quot;confirm&quot; &amp;&amp; account.Balance" class="mode-confirm"><span><p l10n-inc="l10n-inc" class="literal">You are converting</p><p class="amount_feedback"><span class="value">{{convert.alt.amount | rpamount}}&#32;</span><span class="currency">{{convert.alt.amount | rpcurrency}}</span></p><p l10n-inc="l10n-inc" class="literal">to</p><p class="amount_feedback"><span class="value">{{convert.amount_feedback | rpamount}}&#32;</span><span class="currency">{{convert.amount_feedback | rpcurrency}}</span></p><p l10n-inc="l10n-inc" class="literal">You will pay at most</p><p class="amount_feedback"><span class="value">{{convert.alt.amount | rpamount}}&#32;</span><span class="currency">{{convert.alt.amount | rpcurrency}} &#32;</span><span>&plusmn; 1%</span></p><p l10n-inc="l10n-inc" class="literal">Are you sure?</p></span><div class="row row-padding-small"><div class="col-xs-6 col-sm-4 col-md-3 col-lg-2"><button ng-click="cancelConfirm()" class="btn btn-block btn-default back">&laquo; 返回</button></div><div class="col-xs-6 col-sm-4 col-md-3 col-lg-2"><button type="submit" ng-click="convert_confirmed()" ng-disabled="confirm_wait" class="btn btn-block btn-success submit">确定</button></div></div></group><group ng-show="mode==&quot;sending&quot; &amp;&amp; account.Balance" class="mode-sending"><p class="throbber literal">正在把交易提交到 Ripple 网络</p><hr/><p><button ng-click="reset()" class="btn btn-default">取消等待</button></p></group><group ng-show="mode==&quot;error&quot; &amp;&amp; account.Balance" class="mode-error"><group ng-switch on="error_type"><group ng-switch-when="noPath" class="result-error"><h2 class="tx-status">没有路径</h2><p>Ripple 找不到你和目标账户之间的路径</p></group><group ng-switch-default="ng-switch-default"><p class="literal">不好意思，提交交易的时候出错了。请确定连上了网络并稍后再试。</p><p class="literal">再次尝试之前，请确保该交易未被执行。</p></group></group><p><button ng-click="cancelConfirm()" class="btn btn-default">&laquo; 返回</button></p></group><group ng-show="mode==&quot;status&quot; &amp;&amp; account.Balance" class="mode-status"><group ng-show="tx_result==&quot;pending&quot;" class="pending"><h2 class="tx-status">交易信息已经提交。</h2><p>您的账户余额会在支付完成后即时更新。</p></group><group ng-show="tx_result==&quot;cleared&quot;" class="result-success"><h2 class="tx-status">交易完成！</h2></group><group ng-show="tx_result==&quot;partial&quot;" class="result-partial"><h2 class="tx-status">交易仅部分有效！</h2><p>你的交易只能部分被实现</p></group><group ng-show="tx_result==&quot;error&quot;" class="result-error"><h2 class="tx-status">不能提交该交易！</h2><p>抱歉！暂时未能将交易提交到服务器。请稍后再试。</p></group><group ng-show="tx_result==&quot;malformed&quot;" class="result-malformed"><h2 class="tx-status">无效的交易！</h2><p ng-switch on="engine_result"><span ng-switch-default="ng-switch-default">您的交易无效，因为：{{engine_result}} - {{engine_result_message}}</span></p></group><group ng-show="tx_result==&quot;failure&quot;" class="result-malformed"><h2 class="tx-status">无效的交易！</h2><p ng-switch on="engine_result"><span ng-switch-when="tefDST_TAG_NEEDED">对方账户要求在支付时输入终端标签以区分款项。</span></p></group><group ng-show="tx_result==&quot;claim&quot;" class="result-malformed"><h2 class="tx-status">交易失败！</h2><p ng-switch on="engine_result"><span ng-switch-when="tecNO_DST">对方地址不存在。</span><span ng-switch-when="tecNO_DST_INSUF_XRP">目标账户不存在。发送的XRP数量未达到激活账户的条件。</span><span ng-switch-default="ng-switch-default">错误: {{engine_result_message}}</span></p></group><group ng-show="tx_result==&quot;failed&quot;" class="result-failed"><h2 class="tx-status">交易失败！</h2><p ng-switch on="engine_result"><span ng-switch-when="terNO_LINE">你没有这种货币的信任线。</span><span ng-switch-default="ng-switch-default">转账未被网络通过，原因：{{engine_result_message}}</span></p></group><group ng-show="tx_result==&quot;local&quot;" class="result-failed"><h2 class="tx-status">交易失败！</h2><p ng-switch on="engine_result"><span ng-switch-when="telINSUF_FEE_P">该交易提交到的服务器太忙了，不能处理或者转发你提交的交易。</span></p></group><group class="actions"><hr/><div class="actionLink"><a href="" ng-click="reset()">进行另一个兑换</a></div><div class="actionLink"><a href="" ng-click="reset_goto(\'balance\')">返回到余额界面</a></div><hr/></group></group></section>');
return buf.join("")}},60:function(module,exports,require){var jade=require(70);module.exports=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<nav class="col-xs-12 col-md-2"><h2 ng-bind="$route.current.tabName | rpucfirst"></h2><ul><li ng-class="{active: $route.current.tabName == \'balance\'}"><a href="#/balance">余额</a></li><li ng-class="{active: $route.current.tabName == \'history\'}"><a href="#/history">历史</a></li><li ng-class="{active: $route.current.tabName == \'contacts\'}"><a href="#/contacts">联系人</a></li><li ng-class="{active: $route.current.tabName == \'convert\'}"><a href="#/convert">兑换</a></li><li ng-class="{active: $route.current.tabName == \'cashin\'}"><a href="#/cashin">存入现金</a></li><li ng-class="{active: $route.current.tabName == \'security\'}"><a href="#/security">安全</a></li></ul></nav><section ng-controller="CashinCtrl" class="col-xs-12 col-md-10 content"><group ng-hide="connected" class="disconnected"><p class="literal">要看到这一界面，你必须在线</p></group><group ng-hide="!connected || loadState.account" class="disconnected"><p class="literal">载入中...</p></group><div ng-show="loadState.account &amp;&amp; !account.Balance" class="unfunded"><p class="literal">在使用这一菜单之前必须激活</p><p><a href="#/balance" class="btn btn-default">返回到余额界面</a></p></div><div ng-show="account.Balance"><p class="literal">存入现金</p><hr/><ul class="cashin-list"><li><div class="row front"><div class="col-sm-2 col-sm-offset-1"><img src="img/cashin/zipzap.png" class="logo"/></div><div class="col-sm-5"><div class="description">To fund your Ripple account, simply deposit cash\n at one of ZipZap\'s U.S. payment locations. The dollars will show\n up in your account within an hour. ZipZap charges $3.95 per\n deposit, plus 3.5% of the total deposit. For more information\n and to search for a ZipZap cash-in location, visit&#32;<a href="https://www.zipzapinc.com" target="_blank">https://www.zipzapinc.com.</a> Your cash will be held by the&#32;<a href="http://snapswap.us">SnapSwap gateway.</a></div></div><div class="col-sm-2"><div class="actions"><span ng-show="loading">载入中...</span><div ng-hide="loading"><span ng-show="mode == \'step1\'"><button ng-click="displaySignupForm=true" ng-disabled="displaySignupForm" class="btn btn-success btn-block">注册</button></span></div></div></div></div><div ng-show="displaySignupForm" class="row"><div class="col-md-10 col-md-offset-1 step"><div class="head"><span>To deposit cash using ZipZap please complete the following form (Step 1 of 2).</span></div><div class="alert alert-warning">Available to US customers only</div><form id="signupForm" name="signupForm" ng-submit="signup()" class="signup form-horizontal"><div class="form-group"><label for="firstname" class="control-label col-sm-4">名字</label><div class="col-sm-8"><input id="firstname" name="firstname" type="text" ng-model="form.firstname" required="required" class="form-control"/><div rp-errors="firstname" class="errorGroup"><div rp-error-on="required" class="error">请输入你的名字。</div></div></div></div><div class="form-group"><label for="lastname" class="control-label col-sm-4">姓</label><div class="col-sm-8"><input id="lastname" name="lastname" type="text" ng-model="form.lastname" required="required" class="form-control"/><div rp-errors="lastname" class="errorGroup"><div rp-error-on="required" class="error">请输入你的姓氏。</div></div></div></div><div class="form-group"><label for="address" class="control-label col-sm-4">钱包地址</label><div class="col-sm-8"><input id="address" name="address" type="text" ng-model="form.address" required="required" class="form-control"/><div rp-errors="address" class="errorGroup"><div rp-error-on="required" class="error">请输入你的地址。</div></div></div></div><div class="form-group"><label for="city" class="control-label col-sm-4">城市</label><div class="col-sm-8"><input id="city" name="city" type="text" ng-model="form.city" required="required" class="form-control"/><div rp-errors="city" class="errorGroup"><div rp-error-on="required" class="error">请输入你的城市。</div></div></div></div><div class="form-group"><label for="state" class="control-label col-sm-4">州</label><div class="col-sm-8"><select id="state" name="state" type="text" ng-model="form.state" required="required" class="form-control"><option value="" selected="selected">Select a State</option><option value="AL">Alabama </option><option value="AK">Alaska </option><option value="AZ">Arizona </option><option value="AR">Arkansas </option><option value="CA">California </option><option value="CO">Colorado </option><option value="CT">Connecticut </option><option value="DE">Delaware </option><option value="DC">District Of Columbia </option><option value="FL">Florida </option><option value="GA">Georgia </option><option value="HI">Hawaii </option><option value="ID">Idaho </option><option value="IL">Illinois </option><option value="IN">Indiana </option><option value="IA">Iowa </option><option value="KS">Kansas </option><option value="KY">Kentucky </option><option value="LA">Louisiana </option><option value="ME">Maine </option><option value="MD">Maryland </option><option value="MA">Massachusetts </option><option value="MI">Michigan </option><option value="MN">Minnesota </option><option value="MS">Mississippi </option><option value="MO">Missouri </option><option value="MT">Montana </option><option value="NE">Nebraska </option><option value="NV">Nevada </option><option value="NH">New Hampshire </option><option value="NJ">New Jersey </option><option value="NM">New Mexico </option><option value="NY">New York </option><option value="NC">North Carolina </option><option value="ND">North Dakota </option><option value="OH">Ohio </option><option value="OK">Oklahoma </option><option value="OR">Oregon </option><option value="PA">Pennsylvania </option><option value="RI">Rhode Island </option><option value="SC">South Carolina </option><option value="SD">South Dakota </option><option value="TN">Tennessee </option><option value="TX">Texas </option><option value="UT">Utah </option><option value="VT">Vermont </option><option value="VA">Virginia </option><option value="WA">Washington </option><option value="WV">West Virginia </option><option value="WI">Wisconsin </option><option value="WY">Wyoming</option></select><div rp-errors="state" class="errorGroup"><div rp-error-on="required" class="error">请输入你所在的州。</div></div></div></div><div class="form-group"><label for="zipcode" class="control-label col-sm-4">Zip码</label><div class="col-sm-8"><input id="zipcode" name="zipcode" type="text" ng-model="form.zipcode" required="required" class="form-control"/><div rp-errors="zipcode" class="errorGroup"><div rp-error-on="required" class="error">请输入您的Zip码</div></div></div></div><!--.form-group<label for="countrycode" class="control-label col-sm-4">国家代码</label><div class="col-sm-8"><input id="countrycode" name="countrycode" type="text" ng-model="form.countrycode" required="required" ng-minlength="2" ng-maxlength="2" disabled="disabled" class="form-control"/><div rp-errors="countrycode" class="errorGroup"><div rp-error-on="required" class="error">请输入您的国家码</div><div rp-error-on="minlength" class="error">国家码应当由2个英文大写字母组成</div><div rp-error-on="maxlength" class="error">国家码应当由2个英文大写字母组成</div></div></div>--><div class="form-group"><label for="phone" class="control-label col-sm-4">电话号码 (只包含数字)</label><div class="col-sm-8"><input id="phone" name="phone" type="text" ng-model="form.phone" required="required" class="form-control"/><div rp-errors="phone" class="errorGroup"><div rp-error-on="required" class="error">请输入您的电话号码</div></div></div></div><div class="form-group"><label for="dob" class="control-label col-sm-4">出生日期(YYYY-MM-DD)</label><div class="col-sm-8"><input id="dob" name="dob" type="text" ng-model="form.dob" required="required" rp-dob="rp-dob" class="form-control"/><div rp-errors="dob" class="errorGroup"><div rp-error-on="required" class="error">请输入您的出生日期。</div><div rp-error-on="required" class="error">出生日期必须为 YYYY-MM-DD 格式。</div></div></div></div><div class="form-group"><label for="email" class="control-label col-sm-4">Email</label><div class="col-sm-8"><input id="email" name="email" type="text" ng-model="form.email" required="required" rp-email="rp-email" class="form-control"/><div rp-errors="email" class="errorGroup"><div rp-error-on="required" class="error">请输入您的 Email 地址。</div><div rp-error-on="rpEmail" class="error">请输入一个有效的 Email 地址。</div></div></div></div><div class="form-group"><label for="ssn" class="control-label col-sm-4">您的 SSN 的最后4位数字</label><div class="col-sm-8"><input id="ssn" name="ssn" type="text" ng-model="form.ssn" required="required" ng-minlength="4" ng-maxlength="4" class="form-control"/><div rp-errors="ssn" class="errorGroup"><div rp-error-on="required" class="error">请输入您的 SSN 的最后4位数字。</div><div rp-error-on="minlength" class="error">请输入您的 SSN 的最后4位数字。</div><div rp-error-on="maxlength" class="error">请输入您的 SSN 的最后4位数字。</div></div></div></div><div ng-show="error" class="text-error">{{error.verboseMessage}}</div><div class="row"><div class="col-xs-4"><button type="button" ng-click="displaySignupForm=false" class="btn btn-default btn-block">取消</button></div><div class="col-xs-8"><button type="submit" ng-disabled="signupForm.$invalid || signupProgress" class="btn btn-success btn-block"><span ng-hide="signupProgress">注册</span><span ng-show="signupProgress">载入中...</span></button></div></div></form></div></div><div ng-show="mode == \'step2\'" class="row"><div class="col-md-10 col-md-offset-1 step"><div class="head"><span>To deposit cash using ZipZap, create a trustline to SnapSwap, and come back to this page (Step 2 of 2).&#32;</span><a href="" ng-click="" rp-popover="rp-popover" rp-popover-placement="bottom" l10n-rp-popover-title="Trust line" rp-popover-trigger="click">More information about trusting</a>") Why?</a></div><div class="desc">When you click "Trust SnapSwap", you\'ll be taken to a page that will have SnapSwap\'s Ripple address pre-filled. In Amount, fill in the maximum amount of USD you\'ll deposit with SnapSwap. Then click \'Grant Trust\' and return to the Cash In tab to see ZipZap instructions.</div><a href="#/trust?to=rMwjYedjc7qqtKYVLiAccJSmCwih4LnE2q" class="btn btn-success btn-block">Trust SnapSwap</a></div></div><div ng-show="mode == \'details\'" class="row details"><div class="col-md-10 col-md-offset-1 zipzapId">Zip Zap ID:<span>{{zipzap.ZipZapAcctNum}}</span></div><div class="col-md-3 col-md-offset-1"><ul class="account"><li>First name:<strong> {{zipzap.FirstName}}</strong></li><li>Last name:<strong> {{zipzap.LastName}}</strong></li><li>Address:<strong> {{zipzap.Address}}</strong></li><li>City:<strong> {{zipzap.City}}</strong></li><li>State:<strong> {{zipzap.State}}</strong></li><li>Postal code:<strong> {{zipzap.PostalCode}}</strong></li><li>Country code:<strong> {{zipzap.Country}}</strong></li><li>Phone:<strong> {{zipzap.Phone}}</strong></li><li>Date of birth:<strong> {{zipzap.DateOfBirth}}</strong></li><li>Email:<strong> {{zipzap.Email}}</strong></li></ul></div><div class="col-md-7 locator"><div class="locateTxt"><span>Follow these steps to deposit cash into your Ripple account.</span><ul><li>Go to any ZipZap payment center and deposit cash using the\n 9 digit ZipZap account number displayed on this page. Let the\n clerk know that you are making a bill payment through Softgate\n and the that the biller name is ZipZap. There is a 3.5%\n transaction fee plus an a $3.95 flat fee. You can deposit up\n to $500 per transaction.</li><li>Wait approximately 1 hour, and your deposited USD will be\n in your Ripple wallet.</li><li>To withdraw this money later, you will need to register for\n a Ripple gateway and follow the gateway\'s withdrawal policies.</li><li>For support, please visit&#32;<a href="http://support.zipzapinc.com" traget="_blank">http://support.zipzapinc.com</a></li></ul></div><div class="locateTxt">Locate a payment center</div><div class="row row-padding-small"><form name="locateForm" ng-submit="locate()"><div class="col-md-8"><input type="text" name="query" ng-model="query" required="required" placeholder="Please enter your City and State or Postal Code" class="form-control"/></div><div class="col-md-4"><button type="submit" ng-disabled="locateStatus==\'loading\' || locateForm.$invalid" class="btn btn-success btn-block"><span ng-hide="locateStatus==\'loading\'">搜索！</span><span ng-show="locateStatus==\'loading\'">载入中...</span></button></div></form></div><ul class="locations"><li ng-repeat="location in locations.PayCenters"><div class="name">{{location.PayCenterName}}</div><a href="http://maps.google.com/maps?q={{location.Address}}, {{location.City}}, {{location.State}}, {{location.PostalCode}}" target="_blank">在地图上显示</a><div>Address: {{location.Address}}, {{location.City}},\n {{location.State}}, {{location.PostalCode}}.</div><div>Phone: {{location.Phone}}</div></li><div ng-show="locateStatus==\'notfound\'">Sorry, there are no payment centers for your query.</div></ul></div></div></li></ul></div></section>');return buf.join("")}},61:function(module,exports,require){var jade=require(70);module.exports=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<nav class="col-xs-12 col-md-2"><h2 ng-bind="$route.current.tabName | rpucfirst"></h2><ul><li ng-class="{active: $route.current.tabName == \'trust\'}"><a href="#/trust">信任额度</a></li><li ng-class="{active: $route.current.tabName == \'options\'}"><a href="#/options">选项</a></li></ul></nav><section ng-controller="TrustCtrl" class="col-xs-12 col-md-10 content"><group ng-hide="connected" class="disconnected"><p class="literal">要看到这一界面，你必须在线</p></group><group ng-hide="!connected || loadState.lines" class="disconnected"><p class="literal">载入中...</p></group><group ng-show="connected &amp;&amp; loadState.lines"><div ng-hide="account.Balance" class="unfunded"><p class="literal">在设置信任额度之前必须先激活</p><p><a href="#balance" class="btn btn-default">返回到余额界面</a></p></div><div ng-show="mode==&quot;main&quot; &amp;&amp; account.Balance" class="row head"><div class="col-sm-4">联系人姓名/钱包地址</div><div class="col-sm-1"><a href="" ng-click="sorting.predicate = \'currency\'; sorting.reverse=!sorting.reverse">货币类型</a></div><div class="col-sm-2"><a href="" ng-click="sorting.predicate = \'balance\'; sorting.reverse=!sorting.reverse">余额</a></div><div class="col-sm-3">信任额度</div><div class="col-sm-2 actions"><a ng-click="toggle_form()" ng-disabled="addform_visible || editform_visible" class="btn btn-success btn-sm btn-block sign">添加信任线</a></div></div><div class="row"><div class="col-xs-12 col-sm-6"><form name="trustForm" id="trustForm" ng-submit="grant()" ng-show="mode==&quot;main&quot; &amp;&amp; ((addform_visible &amp;&amp; can_add_trust)|| editform_visible)" class="row-padding-small"><div class="row"><div class="col-xs-12 form-group"><label for="trust_counterparty" ng-show="edituser">{{ edituser }}</label><input id="trust_counterparty" name="trust_counterparty" type="text" ng-model="counterparty" rp-combobox="counterparty_query" placeholder="Contact name or Ripple address" rp-dest="rp-dest" rp-dest-address="rp-dest-address" rp-dest-contact="rp-dest-contact" rp-not-me="rp-not-me" required="required" rp-autofill="$routeParams.to" rp-autofill-on="addform_visible = true" rp-focus="rp-focus" class="form-control"/><div rp-errors="trust_counterparty" class="errorGroup"><div rp-error-valid="rp-error-valid"><div ng-show="counterparty != counterparty_address &amp;&amp; counterparty_name &amp;&amp; !error_account_reserve" class="success">{{counterparty_address}}</div><div ng-show="error_account_reserve" class="error"><span>账户没有达到所需要的最低 XRP 保留额度。</span><a href="https://ripple.com/wiki/Account_Creation" target="_blank">更多信息</a></div></div><div rp-error-on="required" class="error">请指定一个用户</div><div rp-error-on="rpNotMe" class="error">你输入的是你自己的地址。</div><div rp-error-on="rpDest" class="error">用户需要是你联系人列表中的名字或者一个有效的 Ripple 地址</div></div></div></div><div class="row"><div class="col-xs-12 form-group"><label for="trust_amount">金额</label><div class="row"><div class="col-md-5"><input id="trust_amount" name="trust_amount" type="number" step="any" ng-model="amount" ng-pattern="validation_pattern" rp-autofill="$routeParams.amount" rp-autofill-amount="rp-autofill-amount" rp-autofill-on="addform_visible = true" required="required" class="form-control value"/></div><div class="col-md-7"><input id="trust_amount_currency" name="trust_amount_currency" type="text" ng-model="currency" rp-combobox="currency_query" rp-combobox-select="rp-combobox-select" rp-autofill="$routeParams.amount" rp-autofill-currency="rp-autofill-currency" rp-autofill-on="addform_visible = true" rp-not-xrp="rp-not-xrp" required="required" class="form-control currency-field"/></div></div><div rp-errors="trust_amount" class="errorGroup"><div rp-error-on="required" class="error">金额为必填项</div></div><div rp-errors="trust_amount_currency" class="errorGroup"><div rp-error-on="rpNotXrp" class="error">发送 XRP 并不需要设置信任额度。如果真的想设置对 XRP 的信任，请尝试使用货币代码 XRR.</div><div rp-error-on="required" class="error">货币类型为必填项</div></div></div></div><div class="row"><div class="col-xs-12 allow-rippling"><label for="trust_allowrippling" class="checkbox"><input id="trust_allowrippling" name="trust_allowrippling" type="checkbox" ng-model="allowrippling"/><span>允许同种货币互相置换</span></label><i rp-popover="rp-popover" rp-popover-placement="bottom" l10n-rp-popover-title="Allow Rippling" rp-popover-trigger="click" l10n-data-content="Allow this trust line\'s balances to be transferred to another issuer you trust. &lt;a href=\'https://ripple.com/wiki/No_Ripple\' target=\'_blank\'&gt;More information&lt;/a&gt;" class="fa fa-question-circle help-icon"></i></div></div><div class="row"><div class="col-xs-6 col-sm-4"><button type="button" ng-click="toggle_form()" class="btn btn-block btn-default">取消</button></div><div class="col-xs-6 col-sm-8"><button type="submit" ng-disabled="trustForm.$invalid || verifying" class="btn btn-block btn-primary submit">设置信任额度</button></div></div><div class="row"><div class="col-xs-12"><p ng-show="verifying" class="literal throbber verifying">正在验证地址</p></div></div></form></div><div ng-show="addform_visible &amp;&amp; !can_add_trust" class="col-xs-12"><div class="alert alert-warning">你必须至少有 <strong> {{account.reserve_to_add_trust | rpamount:0}} XRP</strong> 才能再加一条信任线。<a href="https://ripple.com/wiki/Reserves" target="_blank">More information</a></div></div></div><group ng-show="mode==&quot;confirm&quot; &amp;&amp; account.Balance" class="mode-confirm wide"><span><p class="literal">你即将信任</p><p class="amount_feedback"><span class="value">{{amount_feedback}}&#32;</span><span class="currency">{{currency_feedback}}</span></p><p class="literal">到 Ripple 用户</p></span><div class="dest_feedback"><div ng-show="counterparty_name" class="counterparty">{{counterparty_name}}</div><div ng-hide="counterparty_name" class="counterparty">{{counterparty_address}}</div><div ng-show="counterparty != counterparty_address || counterparty_name" class="extra">{{counterparty_address}}</div></div><p ng-show="currencyWarning == \'firstIssuer\'" class="literal trust-notice">点击确认后，你将对另一 Ripple 用户设置信任额度。这一行动是有风险的，有可能导致你损失高达与信任额度相等的金额。请确定你理解可能的后果，并确保有关的发行人可信。</p><p ng-show="currencyWarning == \'multipleIssuers\'" class="literal trust-notice">点击确认后，你将有关于同种货币对 <strong>multiple issuers&#32;</strong> 的信任额度。这一行动有可能导致你的余额在你未进行任何操作的情况下被转换。请确定你理解可能的后果，并确保有关的发行人可信。</p><div class="row row-padding-small"><div class="col-xs-6 col-md-3 col-lg-2"><button ng-click="mode=&quot;main&quot;" class="btn btn-block btn-default back">&laquo; 返回</button></div><div class="col-xs-6 col-md-3 col-lg-2"><button type="submit" ng-click="grant_confirmed()" ng-disabled="confirm_wait" class="btn btn-block btn-success submit">确定</button></div></div></group><group ng-show="mode==&quot;granting&quot; &amp;&amp; account.Balance" class="mode-granting"><p class="throbber literal">正在设置信任额度</p><hr/><p><button ng-click="reset()" class="btn btn-default">取消等待</button></p></group><group ng-show="mode==&quot;error&quot; &amp;&amp; account.Balance" class="mode-error"><div ng-show="errorMessage"><p class="literal">{{errorMessage}}</p><p><a href="#balance" class="btn btn-default">返回到余额界面</a></p></div><div ng-hide="errorMessage"><p class="literal">不好意思，设置信任额度的时候出错了。请确定连上了网络并再次尝试。</p><p><button ng-click="reset()" class="btn btn-default">&laquo; 返回</button></p></div></group><group ng-show="mode==&quot;granted&quot; &amp;&amp; account.Balance" class="mode-granted wide"><group ng-show="tx_result==&quot;pending&quot;" class="pending"><h2 class="tx-status">设置信任额度的请求已提交。</h2></group><group ng-show="tx_result==&quot;cleared&quot;" class="result-success"><h2 class="tx-status">添加信任额度成功！</h2></group><group ng-show="tx_result==&quot;error&quot;" class="result-error"><h2 class="tx-status">不能设置信任额度！</h2><p>抱歉！暂时未能将请求提交到服务器。请稍后再试。</p></group><group ng-show="tx_result==&quot;malformed&quot;" class="result-malformed"><h2 class="tx-status">设置信任额度的请求无效！</h2><p>您的请求无效，因为：{{engine_result}} - {{engine_result_message}}</p></group><group ng-show="tx_result==&quot;failed&quot;" class="result-failed"><h2 class="tx-status">添加信任额度失败！</h2><p ng-switch on="engine_result"><span ng-switch-when="terNO_LINE">你没有这种货币的信任线。</span><span ng-switch-when="tecINSUF_RESERVE_LINE">余额不足，无法添加信任线。</span><span ng-switch-when="tecNO_LINE_INSUF_RESERVE">你必须至少有 {{account.reserve_to_add_trust | rpamount:0}} XRP 才能再加一条信任线。<a href="http://ripple.com/help/#reserve">查看更多。</a></span><span ng-switch-default="ng-switch-default">设置信任额度失败，原因：{{engine_result_message}}</span></p></group><group ng-show="tx_result==&quot;local&quot;" class="result-failed"><h2 class="tx-status">交易失败！</h2><p ng-switch on="engine_result"><span ng-switch-when="telINSUF_FEE_P">该交易提交到的服务器太忙了，不能处理或者转发你提交的交易。</span></p></group><group class="actions"><hr/><div ng-show="addressSaved" class="text-success actionLink">地址已保存！</div><div ng-hide="contact" class="save-address-form actionLink"><a href="" ng-click="show_save_address_form = true" ng-hide="show_save_address_form">把这一地址加为联系人</a><form name="saveAddressForm" ng-class="{ show: show_save_address_form }" ng-submit="saveAddress()"><div class="address">{{counterparty_address}}</div><label for="save_address_name">给此用户命名</label><input id="contact_name" name="save_address_name" type="text" ng-model="saveAddressName" unique="unique" required="required" rp-autofill="$routeParams.name" rp-focus="rp-focus" class="form-control"/><div ng-show="saveAddressForm.save_address_name.$error.unique" class="error">已有同名联系人。</div><div><button type="submit" ng-disabled="addressSaving || saveAddressForm.$invalid" class="btn btn-success"><span ng-show="addressSaving">正在保存...</span><span ng-hide="addressSaving">保存</span></button><a href="" ng-click="show_save_address_form = false">Cancel</a></div></form><hr/></div><div class="actionLink"><a href="#trust" ng-click="reset()">返回信任页面</a></div><hr/></group></group><div ng-show="mode==\'main\'" ng-repeat="(key, line) in linesArray | orderBy:sorting.sort:sorting.reverse" class="row row-padding-small line padding-vertical-xs"><div class="col-sm-4">{{line.account | rpcontactnamefull}}</div><div class="col-sm-1">{{line.currency}}</div><div class="col-sm-2"><span rp-tooltip="{{line.balance | rpamount }}">{{line.balance | rpamount:{rel_precision: 0} }}</span></div><div class="col-sm-3"><rp-trust-line rp-line-data="line"></rp-trust-line></div><div class="col-sm-2 actions"><button href="" ng-click="edit_line()" class="btn btn-default btn-sm">编辑</button></div></div></group></section>');return buf.join("")}},62:function(module,exports,require){var jade=require(70);module.exports=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<section ng-controller="SendCtrl" class="single content"><group ng-hide="connected" class="disconnected"><p class="literal">要看到这一界面，你必须在线</p></group><div ng-hide="account.Balance || !connected" class="unfunded"><p class="literal">在转账之前，必须先激活钱包</p><p><a href="#/balance" class="btn btn-default">返回到余额界面</a></p></div><form name="sendForm" id="sendForm" role="form" ng-show="mode==&quot;form&quot; &amp;&amp; account.Balance" ng-submit="send_prepared()" class="row-padding-small mode-form"><p class="literal">转账。</p><hr/><div class="row form-group"><div class="col-xs-12 col-sm-6 col-md-5"><label for="send_destination">接收方</label><input id="send_destination" name="send_destination" type="text" rp-combobox="recipient_query" placeholder="Contact name or Ripple address" ng-model="send.recipient" rp-dest="rp-dest" rp-dest-address="rp-dest-address" rp-dest-contact="rp-dest-contact" rp-dest-bitcoin="rp-dest-bitcoin" rp-dest-email="rp-dest-email" required="required" rp-autofill="$routeParams.to" rp-focus="rp-focus" class="form-control"/><div rp-errors="send_destination" class="errorGroup"><div rp-error-valid ng-show="send.recipient != send.recipient_address" class="success">{{send.recipient_address}}</div><div rp-error-on="required" class="error">请输入接收人。</div><div rp-error-on="rpDest" class="error">接收方必须是你联系人列表中的名字或者一个 Ripple/比特币地址。</div><div rp-error-on="federation" class="error">Ripple不支持此邮件地址。</div></div></div></div><div ng-show="send.show_dt_field" class="row form-group"><div class="col-xs-12 col-sm-6 col-md-5"><label for="send_dt">终端标签</label><input id="send_dt" name="send_dt" type="text" ng-model="send.dt" rp-stdt="rp-stdt" rp-autofill="$routeParams.dt" ng-required="send.recipient_info.dest_tag_required" class="form-control"/><div rp-errors="send_dt" class="errorGroup"><div rp-error-on="rpStdt" class="error">无效的终端标签</div><div rp-error-on="required" class="error">地址栏不能留空。</div></div><div ng-show="send.recipient_info.dest_tag_required">接收方要求转账时必须加入终端标签。如果你不知道终端标签，请先联系他们。</div></div></div><div ng-show="$routeParams.st || send.st" class="row form-group"><div class="col-xs-12 col-sm-6 col-md-5"><label for="send_st">起点标签</label><input id="send_st" name="send_st" type="text" ng-model="send.st" rp-stdt="rp-stdt" rp-autofill="$routeParams.st" class="form-control"/><div rp-errors="send_st" class="errorGroup"><div rp-error-on="rpStdt" class="error">无效的起点标签</div></div></div></div><div ng-repeat="field in send.extra_fields" ng-switch="field.type" class="row form-group"><div ng-switch-when="text" class="col-xs-12 col-sm-6 col-md-5"><label ng-bind="field.label"></label><p ng-show="field.hint" ng-bind="field.hint" class="field-hint"></p><input type="text" ng-model="field.value" ng-required="{{field.required}}" class="form-control"/></div><div ng-switch-when="select" class="col-xs-12 col-sm-6 col-md-5"><label ng-bind="field.label"></label><p ng-show="field.hint" ng-bind="field.hint" class="field-hint"></p><select type="text" ng-model="field.value" ng-required="{{field.required}}" class="form-control"><option ng-repeat="option in field.options" ng-bind="option.label" value="{{option.value}}" ng-selected="option.selected" ng-disabled="option.disabled"></option></select></div></div><div class="form-group"><label for="send_amount">对方将收到</label><div ng-if="!send.currency_force" class="row amount"><div class="col-xs-12 col-sm-6 col-md-2"><input id="send_amount" name="send_amount" type="text" ng-model="send.amount" required="required" rp-autofill="$routeParams.amount" rp-autofill-amount="rp-autofill-amount" rp-amount="rp-amount" rp-amount-positive="rp-amount-positive" rp-amount-xrp-limit="rp-amount-xrp-limit" rp-amount-xrp-limit-currency="{{send.currency}}" class="form-control"/></div><div class="col-xs-12 col-sm-6 col-md-3"><input id="send_amount_currency" name="send_amount_currency" type="text" rp-combobox="{{send.currency_choices}}" rp-combobox-select="rp-combobox-select" ng-model="send.currency" rp-autofill="$routeParams.amount" rp-autofill-currency="rp-autofill-currency" class="form-control currency"/></div></div><div ng-if="send.currency_force" class="row"><div class="col-xs-12 col-sm-6 col-md-3 input-group currency_force"><input id="send_amount" name="send_amount" type="text" ng-model="send.amount" required="required" ng-disabled="!!send.force_amount" rp-autofill="$routeParams.amount" rp-autofill-amount="rp-autofill-amount" rp-amount="rp-amount" rp-amount-positive="rp-amount-positive" rp-amount-xrp-limit="rp-amount-xrp-limit" rp-amount-xrp-limit-currency="{{send.currency}}" class="form-control"/><span ng-bind="send.currency_force" class="input-group-addon"></span></div></div><div rp-errors="send_amount" class="errorGroup"><div rp-error-on="required" class="error">请输入金额。</div><div rp-error-on="rpAmount" class="error">金额无效。</div><div rp-error-on="rpAmountPositive" class="error">金额必须大于零。</div><div rp-error-on="rpMaxAmount" class="error">余额不足，你最多可以发送 {{account.max_spend | rpamount:{rel_precision: 0} }} XRP</div><div ng-show="send.recipient_info.disallow_xrp &amp;&amp; send.currency_code==\'XRP\'" class="error">对方不接受 XRP 付款。你确定要给他发送 XRP吗？</div><div ng-show="send.trust_limit" class="notice">{{send.recipient | rpcontactname}} 对你有 {{send.trust_limit | rpamount}} {{send.trust_limit | rpcurrency}}. 的信任额度</div></div></div><ul class="tagsLinks"><li><a href="" ng-click="send.show_dt_field = true" ng-hide="send.show_dt_field || send.bitcoin || send.federation">添加终端标签</a></li></ul><div class="row"><div ng-show="send.currency_code == \'XRP\'" class="col-xs-12 col-sm-6 col-md-5"><button type="submit" ng-disabled="sendForm.$invalid || send.self || !send.recipient_resolved || account.max_spend.to_number() &lt; send.amount * 1000000" class="btn btn-block btn-success submit">发送 XRP</button></div></div><div class="remote"><p ng-show="send.fund_status == \'insufficient-xrp\'" class="literal">目标账户未激活；给它发至少 {{send.xrp_deficiency | rpamount}} XRP 来激活它。<a href="https://ripple.com/wiki/Reserves" target="_blank">更多信息</a></p><p ng-show="send.path_status == \'checking\'" rp-spinner="4" class="literal">检查中</p><p ng-show="send.path_status == \'fed-check\'" rp-spinner="4" class="literal">正在分析地址</p><p ng-show="send.path_status == \'bridge-quote\'" rp-spinner="4" class="literal">正在请求报价</p><p ng-show="send.path_status == \'pending\' &amp;&amp; send.currency_code != \'XRP\'" rp-spinner="4" class="literal">正在计算路径</p><p ng-show="send.path_status == \'pending\' &amp;&amp; send.currency_code == \'XRP\'" rp-spinner="4" class="literal">正在计算其它路径</p><p ng-show="send.path_status == \'no-path\' &amp;&amp; send.currency_code != \'XRP\'" class="literal">抱歉，不能把 {{send.amount}} {{send.currency}} 发到 {{send.recipient}}。请确保你账户有足够的余额，且接收方愿意接收你发送的币种。如果还是不行，请稍后再试。</p><p ng-show="send.path_status == \'error-quote\'" class="literal">读取外向支付报价失败</p><p ng-show="send.path_status == \'error\'" class="literal">计算路径时遇到了错误</p><div ng-if="send.path_status == \'done\'" class="currency_sets"><div class="row row-padding-small"><div class="col-xs-12"><p ng-show="send.currency_code != \'XRP\' || send.bitcoin" class="literal">你可以发送</p><p ng-show="send.currency_code == \'XRP\' &amp;&amp; !send.bitcoin" class="literal">或者发送</p></div></div><div ng-show="send.alternatives.length" class="row row-padding-small alternatives"><div ng-repeat="alt in send.alternatives" class="col-xs-12 col-sm-6 col-md-4 col-lg-3"><div class="margin"><div class="am"><span class="amnt">{{alt.amount | rpamount:{rel_precision: 4, rel_min_precision: 2} }}</span><span class="currency">{{alt.amount | rpcurrency }}</span></div><button type="submit" ng-disabled="sendForm.$invalid" ng-click="send.alt = alt" class="btn btn-block btn-success">发送 {{ alt.amount | rpcurrency }}</button></div></div></div><div ng-show="send.alternatives.length &amp;&amp; lastUpdate" class="row row-padding-small pathupdate"><div class="col-xs-12">Paths last updated<span> {{lastUpdate}}</span><span ng-show="lastUpdate &gt; \'1\'" l10n-inc="l10n-inc"> seconds</span><span ng-show="lastUpdate == \'1\'" l10n-inc="l10n-inc"> second</span> ago</div></div></div></div></form><group ng-show="mode==&quot;wait_path&quot; &amp;&amp; account.Balance" class="mode-wait-path"><p rp-spinner="4" class="literal">Ripple 网络正在为您计算最优支付路径。</p></group><group ng-show="mode==&quot;confirm&quot; &amp;&amp; account.Balance" class="mode-confirm"><p class="literal">你要把 {{ (send.alt.amount || send.currency) | rpcurrency}} 发送到</p><div class="dest_feedback"><div ng-show="send.recipient_name" class="recipient">{{send.recipient_name}}</div><div ng-hide="send.recipient_name" class="recipient">{{send.recipient_address}}</div><div href="" ng-show="send.recipient != send.recipient_address || send.recipient_name" class="extra"> {{send.recipient_address}}</div><div ng-show="send.dt" class="dt">终端标签: {{send.dt}}</div></div><p class="literal">对方将收到</p><p class="amount_feedback"><span class="value">{{send.amount_feedback | rpamount}}&#32;</span><span class="currency">{{send.amount_feedback | rpcurrency}}</span></p><group ng-show="send.indirect"><p class="literal">您最多需要支付</p><p class="sendmax_feedback"><span class="value">{{send.alt.amount | rpamount}}&#32;</span><span class="currency">{{send.alt.amount | rpcurrency}} &#32;</span><span>&plusmn; 1%</span></p></group><div class="call-to-action"><p class="literal">确定吗？</p><div class="row row-padding-small"><div class="col-xs-6 col-sm-4 col-md-3 col-lg-2"><button ng-click="cancelConfirm()" class="btn btn-block btn-default back">&laquo; 返回</button></div><div class="col-xs-6 col-sm-4 col-md-3 col-lg-2"><button type="submit" ng-click="send_confirmed()" ng-disabled="confirm_wait" class="btn btn-block btn-success submit">确定</button></div></div></div></group><group ng-show="mode==&quot;sending&quot; &amp;&amp; account.Balance" class="mode-sending"><p rp-spinner="4" class="literal">正在把交易提交到 Ripple 网络</p><hr/><p><button ng-click="reset()" class="btn btn-default">取消等待</button></p></group><group ng-show="mode==&quot;error&quot; &amp;&amp; account.Balance" class="mode-error"><group ng-switch on="error_type"><group ng-switch-when="noDest" class="result-error"><h2 class="tx-status">此地址不存在。</h2><p>你想发到的钱包并不存在。</p></group><group ng-switch-when="noPath" class="result-error"><h2 class="tx-status">没有路径</h2><p>Ripple 找不到你和目标账户之间的路径</p></group><group ng-switch-when="invalidTransaction" class="result-error"><h2 class="tx-status">无效的交易</h2><p>由于客户端的问题，这笔交易被拒绝了。</p></group><group ng-switch-default="ng-switch-default"><p class="literal">不好意思，提交交易的时候出错了。请确定连上了网络并稍后再试。</p><p class="literal">请确认不要多次发送。</p></group></group><p><button ng-click="cancelConfirm()" class="btn btn-default">&laquo; 返回</button></p></group><group ng-show="mode==&quot;rippleerror&quot; &amp;&amp; account.Balance" class="mode-ripplerror"><rp-transaction-status rp-engine-result="{{engine_result}}" rp-engine-result-message="{{engine_result_message}}" rp-accepted="{{engine_status_accepted}}"></rp-transaction-status><group class="actions"><hr/><div ng-show="addressSaved" class="text-success actionLink">联系人已保存！</div><div ng-hide="contact" class="save-address-form actionLink"><a href="" ng-click="show_save_address_form = true">把这一地址加为联系人</a><form name="saveAddressForm" ng-class="{ show: show_save_address_form }" ng-submit="saveAddress()"><div class="address">{{send.recipient_address}}</div><label for="save_address_name">给此用户命名</label><input id="contact_name" name="save_address_name" type="text" ng-model="saveAddressName" unique="unique" required="required" rp-autofill="$routeParams.name" class="form-control"/><div ng-show="saveAddressForm.save_address_name.$error.unique" class="error">已有同名联系人。</div><div><button type="submit" ng-disabled="addressSaving" class="btn btn-success"><span ng-show="addressSaving">正在保存...</span><span ng-hide="addressSaving">保存</span></button><a href="" ng-click="show_save_address_form = false">取消</a></div><hr/></form></div><div class="actionLink"><a href="" ng-click="reset()">再次支付</a></div><div class="actionLink"><a href="" ng-click="reset_goto(\'balance\')">返回到余额界面</a></div><hr/></group></group><group ng-show="mode==&quot;status&quot; &amp;&amp; account.Balance" class="mode-status"><group ng-show="tx_result==&quot;pending&quot;" class="pending"><h2 class="tx-status">交易信息已经提交。</h2><p>您的账户余额会在支付完成后即时更新。</p></group><group ng-show="tx_result==&quot;cleared&quot;" class="result-success"><h2 class="tx-status">交易完成！</h2></group><group ng-show="tx_result==&quot;partial&quot;" class="result-partial"><h2 class="tx-status">交易仅部分有效！</h2><p>你的交易只能部分被实现</p></group><group ng-show="tx_result==&quot;error&quot;" class="result-error"><h2 class="tx-status">不能提交该交易！</h2><p>抱歉！暂时未能将交易提交到服务器。请稍后再试。</p></group><group ng-show="tx_result==&quot;malformed&quot;" class="result-malformed"><h2 class="tx-status">无效的交易！</h2><p ng-switch on="engine_result"><span ng-switch-default="ng-switch-default">您的交易无效，因为：{{engine_result}} - {{engine_result_message}}</span></p></group><group ng-show="tx_result==&quot;failure&quot;" class="result-malformed"><h2 class="tx-status">无效的交易！</h2><p ng-switch on="engine_result"><span ng-switch-when="tefDST_TAG_NEEDED">对方账户要求在支付时输入终端标签以区分款项。</span></p></group><group ng-show="tx_result==&quot;local&quot;" class="result-failed"><h2 class="tx-status">交易失败！</h2><p ng-switch on="engine_result"><span ng-switch-when="telINSUF_FEE_P">该交易提交到的服务器太忙了，不能处理或者转发你提交的交易。</span></p></group><group ng-show="tx_result==&quot;claim&quot;" class="result-malformed"><h2 class="tx-status">交易失败！</h2><p ng-switch on="engine_result"><span ng-switch-when="tecNO_DST">对方地址不存在。</span><span ng-switch-when="tecNO_DST_INSUF_XRP">目标账户不存在。发送的XRP数量未达到激活账户的条件。</span><span ng-switch-default="ng-switch-default">错误: {{engine_result_message}}</span></p></group><group ng-show="tx_result==&quot;failed&quot;" class="result-failed"><h2 class="tx-status">交易失败！</h2><p ng-switch on="engine_result"><span ng-switch-when="terNO_LINE">你没有这种货币的信任线。</span><span ng-switch-default="ng-switch-default">转账未被网络通过，原因：{{engine_result_message}}</span></p></group><group class="actions"><hr/><div ng-show="addressSaved" class="text-success actionLink">联系人已保存！</div><div ng-hide="contact" class="save-address-form actionLink"><a href="" ng-click="show_save_address_form = true">把这一地址加为联系人</a><form name="saveAddressForm" ng-class="{ show: show_save_address_form }" ng-submit="saveAddress()"><div class="address">{{send.recipient_address}}</div><label for="save_address_name">给此用户命名</label><input id="contact_name" name="save_address_name" type="text" ng-model="saveAddressName" unique="unique" required="required" rp-autofill="$routeParams.name" class="form-control"/><div ng-show="saveAddressForm.save_address_name.$error.unique" class="error">已有同名联系人。</div><div><button type="submit" ng-disabled="addressSaving" class="btn btn-success"><span ng-show="addressSaving">正在保存...</span><span ng-hide="addressSaving">保存</span></button><a href="" ng-click="show_save_address_form = false">取消</a></div><hr/></form></div><div class="actionLink"><a href="" ng-click="reset()">再次支付</a></div><div class="actionLink"><a href="" ng-click="reset_goto(\'balance\')">返回到余额界面</a></div><hr/></group></group></section>');
return buf.join("")}},63:function(module,exports,require){var jade=require(70);module.exports=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<section ng-controller="ReceiveCtrl" class="single content"><p class="literal">这是你的公开地址。将此地址告诉其它用户，他们就可以给你付款。</p><hr/><div class="address"><div class="box"><span id="receive-address" ng-bind="address"></span></div></div><p ng-show="!copy_supported" class="literal">提示：<a rp-select-el="receive-address" l10n-inc="l10n-inc" class="select">选中</a> 并用 Ctrl+C (Windows)（苹果电脑上是 Command+C）复制。</p><form ng-show="copy_supported"><button class="btn btn-success">复制钱包地址</button></form><div id="qr-code" class="qr"></div></section>');return buf.join("")}},64:function(module,exports,require){var jade=require(70);module.exports=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<section ng-controller="TradeCtrl" class="col-xs-12 content"><group ng-hide="connected" class="disconnected"><p class="literal">要看到这一界面，你必须在线</p></group><group ng-hide="!connected || loadState.offers" class="disconnected"><p class="literal">正在载入报价表...</p></group><group ng-show="connected &amp;&amp; loadState.offers"><div class="settings"><div class="row"><div class="col-sm-5 col-md-3 currency-config"><input id="currency_pair" name="currency_pair" type="text" rp-combobox="pairs_query" rp-combobox-select="rp-combobox-select" ng-model="order.currency_pair" class="form-control currency"/></div><div class="col-sm-7 col-md-9"><ul ng-show="order.first_currency != &quot;XRP&quot;" class="issuers inline"><li class="label">基准货币</li><li class="value">{{order.first_currency}}&ensp;<span rp-pretty-issuer="order.first_issuer" rp-pretty-issuer-contacts="userBlob.data.contacts">???</span></li><li><a href="" ng-show="show_issuer_form != &quot;first&quot;" ng-click="edit_first_issuer()">更改发行方</a></li><li><a href="" ng-show="show_issuer_form == &quot;first&quot;" ng-click="show_issuer_form = false">取消</a></li></ul><ul ng-show="order.first_currency == &quot;XRP&quot;" class="issuers inline"><li class="label">基准货币</li><li class="value">XRP</li></ul><ul ng-show="order.second_currency != &quot;XRP&quot;" class="issuers inline"><li class="label">目标货币</li><li class="value">{{order.second_currency}}&ensp;<span rp-pretty-issuer="order.second_issuer" rp-pretty-issuer-contacts="userBlob.data.contacts">???</span></li><li><a href="" ng-show="show_issuer_form != &quot;second&quot;" ng-click="edit_second_issuer()">更改发行方</a></li><li><a href="" ng-show="show_issuer_form == &quot;second&quot;" ng-click="show_issuer_form = false">取消</a></li></ul><ul ng-show="order.second_currency == &quot;XRP&quot;" class="issuers inline"><li class="label">目标货币</li><li class="value">XRP</li></ul></div></div></div><form name="first_issuer_form" ng-show="show_issuer_form == &quot;first&quot;" class="issuerSelector first-issuer"><label for="first_issuer">基准货币发行方 ({{order.first_currency}})</label><div class="row"><div class="col-xs-12 col-sm-8 col-md-5"><input id="first_issuer" name="first_issuer" type="text" rp-combobox="issuer_query" placeholder="Contact name or Ripple address" ng-model="order.first_issuer_edit" rp-dest="rp-dest" rp-dest-address="rp-dest-address" rp-dest-contact="rp-dest-contact" class="form-control"/><div rp-errors="first_issuer" class="errorGroup"><div rp-error-on="rpDest" class="error">不是一个有效的 Ripple 地址或联系人</div></div></div><div class="col-xs-12 col-sm-4 col-md-2"><button type="submit" ng-click="save_first_issuer()" ng-disabled="first_issuer_form.$invalid" class="btn btn-block btn-success submit">确定</button></div></div></form><form name="second_issuer_form" ng-show="show_issuer_form == &quot;second&quot;" class="issuerSelector second-issuer"><label for="second_issuer">目标货币发行方 ({{order.second_currency}})</label><div class="row"><div class="col-xs-12 col-sm-8 col-md-5"><input id="second_issuer" name="second_issuer" type="text" rp-combobox="issuer_query" placeholder="Contact name or Ripple address" ng-model="order.second_issuer_edit" rp-dest="rp-dest" rp-dest-address="rp-dest-address" rp-dest-contact="rp-dest-contact" class="form-control"/><div rp-errors="second_issuer" class="errorGroup"><div rp-error-on="rpDest" class="error">不是一个有效的 Ripple 地址或联系人</div></div></div><div class="col-xs-12 col-sm-4 col-md-2"><button type="submit" ng-click="save_second_issuer()" ng-disabled="second_issuer_form.$invalid" class="btn btn-block btn-success submit">确定</button></div></div></form><div ng-hide="order.valid_settings" class="message-select-issuer">请在交易前选定将要交易的货币的发行方。点击上面的“变更发行方”链接，然后输入你已经信任了的发行方。</div><group ng-if="order.valid_settings"><ul class="ticker"><div class="row"><li class="col-xs-6 col-sm-3"><span>买一价</span><span>&#32&#61;&#32;</span><span class="value">{{book.bids[0].TakerGets | rpamountratio:book.bids[0].TakerPays | rpamount:{rel_precision: 5, rel_min_precision: 5} }}</span></li><li class="col-xs-6 col-sm-3"><span>卖一价</span><span>&#32&#61;&#32;</span><span class="value">{{book.asks[0].TakerPays | rpamountratio:book.asks[0].TakerGets | rpamount:{rel_precision: 5, rel_min_precision: 5} }}</span></li><li class="col-xs-6 col-sm-3"><span>买卖差价</span><span>&#32&#61;&#32;</span><span class="value">{{book.asks[0].TakerPays | rpamountratio:book.asks[0].TakerGets | rpamountsubtract:(book.bids[0].TakerGets | rpamountratio:book.bids[0].TakerPays) | rpamount:{rel_precision: 5, rel_min_precision: 5} }}</span></li><li class="col-xs-6 col-sm-3"><span>最新成交价</span><span>&#32&#61;&#32;</span><span class="value">{{book.last_price | rpamount:{rel_precision: 5, rel_min_precision: 5} }}</span></li></div></ul><div ng-hide="account.Balance" class="unfunded"><p class="literal">在交易之前必须先激活钱包</p></div><group ng-show="account.Balance" class="row send-widgets"><div ng-repeat="type in [\'buy\',\'sell\']" class="col-xs-12 col-sm-6"><div ng-switch="order[type].mode" class="trade-widget"><div class="head"><span ng-show="type == \'buy\'">买入 <span ng-show="order.first_currency !== \'XRP\'" rp-pretty-issuer="order.first_issuer" rp-pretty-issuer-contacts="userBlob.data.contacts" rp-pretty-issuer-or-short="rp-pretty-issuer-or-short" class="issuer"></span> {{order.first_currency}}</span><span ng-show="type == \'sell\'">卖出 <span ng-show="order.first_currency !== \'XRP\'" rp-pretty-issuer="order.first_issuer" rp-pretty-issuer-contacts="userBlob.data.contacts" rp-pretty-issuer-or-short="rp-pretty-issuer-or-short" class="issuer"></span> {{order.first_currency}}</span><span ng-show="type == \'buy\'" class="available"><span class="amount"><span ng-show="order.second_currency == \'XRP\'">{{account.Balance | rpamount}} XRP</span><span ng-show="order.second_currency != \'XRP\'">{{lines[order.second_issuer+order.second_currency].balance || "0" | rpamount}}&#32;<span rp-pretty-issuer="order.second_issuer" rp-pretty-issuer-contacts="userBlob.data.contacts" rp-pretty-issuer-or-short="rp-pretty-issuer-or-short"></span> {{order.second_currency}}</span></span>available</span><span ng-show="type == \'sell\'" class="available"><span class="amount"><span ng-show="order.first_currency == \'XRP\'">{{account.Balance | rpamount}} XRP</span><span ng-show="order.first_currency != \'XRP\'">{{lines[order.first_issuer+order.first_currency].balance || "0" | rpamount}}&#32;<span rp-pretty-issuer="order.first_issuer" rp-pretty-issuer-contacts="userBlob.data.contacts" rp-pretty-issuer-or-short="rp-pretty-issuer-or-short"></span> {{order.first_currency}}</span></span>available</span></div><div ng-switch-when="trade"><form name="tradeForm" ng-submit="place_order(type)" ng-show="order[type].showWidget" class="mode-form"><div class="row order-values"><div class="col-xs-12"><div class="value-field"><label ng-show="type == \'buy\'">买入量</label><label ng-show="type == \'sell\'">卖出量</label><div class="input-group"><input name="amount" type="text" ng-model="order[type].first" ng-change="calc_second(type)" rp-amount="rp-amount" rp-amount-positive="rp-amount-positive" rp-amount-xrp-limit="rp-amount-xrp-limit" rp-amount-xrp-limit-currency="{{order.first_currency}}" required="required" class="form-control"/><div class="input-group-addon">{{order.first_currency}}<div ng-show="order.first_currency !== \'XRP\'" rp-pretty-issuer="order.first_issuer" rp-pretty-issuer-contacts="userBlob.data.contacts" rp-pretty-issuer-or-short="rp-pretty-issuer-or-short" class="issuer"></div></div></div><div rp-errors="amount" class="errorGroup"><div rp-error-on="required" class="error">必填</div><div rp-error-on="rpAmount" class="error">金额无效。</div><div rp-error-on="rpAmountPositive" class="error">必须大于零</div><div rp-error-on="rpAmountXrpLimit" class="error">最小的数量是drop(0.000001)，最大的数量是1000亿XRP。</div></div></div></div><div class="col-xs-12"><div class="value-field"><label>单价</label><div class="input-group"><input name="price" type="text" ng-model="order[type].price" ng-change="calc_second(type)" rp-amount="rp-amount" rp-amount-positive="rp-amount-positive" rp-amount-xrp-limit="rp-amount-xrp-limit" rp-amount-xrp-limit-currency="{{order.second_currency}}" required="required" class="form-control"/><div class="input-group-addon">{{order.second_currency}}<div ng-show="order.second_currency !== \'XRP\'" rp-pretty-issuer="order.second_issuer" rp-pretty-issuer-contacts="userBlob.data.contacts" rp-pretty-issuer-or-short="rp-pretty-issuer-or-short" class="issuer"></div></div></div><div rp-errors="price" class="errorGroup"><div rp-error-on="required" class="error">必填</div><div rp-error-on="rpAmount" class="error">金额无效。</div><div rp-error-on="rpAmountPositive" class="error">必须大于零</div><div rp-error-on="rpAmountXrpLimit" class="error">最小的数量是drop(0.000001)，最大的数量是1000亿XRP。</div></div></div></div><div class="col-xs-12"><div class="value-field"><label>本单总值</label><div class="input-group"><input name="value" type="text" ng-model="order[type].second" ng-change="calc_first(type)" rp-amount="rp-amount" rp-amount-positive="rp-amount-positive" rp-amount-xrp-limit="rp-amount-xrp-limit" rp-amount-xrp-limit-currency="{{order.second_currency}}" required="required" class="form-control"/><div class="input-group-addon">{{order.second_currency}}<div ng-show="order.second_currency !== \'XRP\'" rp-pretty-issuer="order.second_issuer" rp-pretty-issuer-contacts="userBlob.data.contacts" rp-pretty-issuer-or-short="rp-pretty-issuer-or-short" class="issuer"></div></div></div><div rp-errors="value" class="errorGroup"><div rp-error-on="required" class="error">必填</div><div rp-error-on="rpAmount" class="error">金额无效。</div><div rp-error-on="rpAmountPositive" class="error">必须大于零</div><div rp-error-on="rpAmountXrpLimit" class="error">最小的数量是drop(0.000001)，最大的数量是1000亿XRP。</div></div></div></div></div><div class="message"><p ng-show="tradeForm.$valid &amp;&amp; type == \'buy\'">你想以 <span> {{order[type].second_amount | rpamount:{precision: 10} }} {{order[type].second_amount | rpcurrency}}</span> 买入 <span> {{order[type].first_amount | rpamount:{precision: 10} }} {{order[type].first_amount | rpcurrency}}</span> (<span> {{order[type].first_amount | rpcurrency}}</span> 的单价为 <span>{{order[type].price_amount | rpamount:{precision: 10} }} {{order[type].second_amount | rpcurrency}}</span>)</p><p ng-show="tradeForm.$valid &amp;&amp; type == \'sell\'">你想卖出 <span> {{order[type].first_amount | rpamount:{precision: 10} }} {{order[type].first_amount | rpcurrency}}</span> 以换取 <span> {{order[type].second_amount | rpamount:{precision: 10} }} {{order[type].second_amount | rpcurrency}}</span> (<span> {{order[type].first_amount | rpcurrency}}</span> 的单价为 <span>{{order[type].price_amount | rpamount:{precision: 10} }} {{order[type].second_amount | rpcurrency}}</span>)</p></div><div class="row"><div class="col-xs-6"><button type="submit" ng-disabled="tradeForm.$invalid" class="btn btn-success btn-block submit"><span ng-show="type == \'buy\'">买入</span><span ng-show="type == \'sell\'">卖出</span> {{order.first_currency}}<span ng-show="order.first_currency !== \'XRP\'"> (<span rp-pretty-issuer="order.first_issuer" rp-pretty-issuer-contacts="userBlob.data.contacts" rp-pretty-issuer-or-short="rp-pretty-issuer-or-short" class="issuer"></span>)</span></button></div></div></form><div ng-hide="order[type].showWidget"><p class="literal">该币种余额不足，无法创建订单。</p></div></div><form ng-switch-when="confirm" ng-submit="order_confirmed(type)" class="mode-confirm"><p class="title literal"><span>你将挂单 <span ng-show="type == \'buy\'" l10n-inc="l10n-inc"> 买入</span> <span ng-show="type == \'sell\'" l10n-inc="l10n-inc"> 卖出</span> <div class="amount_feedback"><span class="value">{{order[type].first_amount | rpamount}}&#32;</span><span ng-show="(order[type].first_amount | rpcurrency) !== \'XRP\'" rp-pretty-issuer="order[type].first_amount | rpissuer" rp-pretty-issuer-contacts="userBlob.data.contacts" rp-pretty-issuer-or-short="rp-pretty-issuer-or-short" class="issuer"></span><span class="currency"> {{order[type].first_amount | rpcurrency}}</span></div> <div l10n-inc="l10n-inc" class="literal">得到</div> <div class="dest_feedback"><span class="value">{{order[type].second_amount | rpamount}}&#32;</span><span ng-show="(order[type].second_amount | rpcurrency) !== \'XRP\'" rp-pretty-issuer="order[type].second_amount | rpissuer" rp-pretty-issuer-contacts="userBlob.data.contacts" rp-pretty-issuer-or-short="rp-pretty-issuer-or-short" class="issuer"></span><span class="currency"> {{order[type].second_amount | rpcurrency}}</span></div> <p l10n-inc="l10n-inc" class="literal">你确定吗？</p> </span><div class="row row-padding-small"><div class="col-xs-6 col-sm-offset-2 col-sm-4 col-md-offset-3 col-md-3"><button type="button" ng-click="order[type].mode = \'trade\'" class="btn btn-block btn-default back">&laquo; 返回</button></div><div class="col-xs-6 col-sm-4 col-md-3"><button type="submit" ng-disabled="confirm_wait" class="btn btn-block btn-success submit">确定</button></div></div></p></form><group ng-switch-when="sending" class="mode-sending"><p class="throbber literal">正在把挂单提交到 Ripple 网络...</p></group><group ng-switch-when="done" class="mode-done"><group ng-show="order[type].tx_result==&quot;pending&quot;" class="pending"><h2 class="tx-status">您的挂单已提交。</h2></group><group ng-show="order[type].tx_result==&quot;cleared&quot;" class="result-success"><h2 class="tx-status">挂单成功！</h2></group><group ng-show="order[type].tx_result==&quot;error&quot;" class="result-error"><h2 class="tx-status">请求被拒绝！</h2><p>抱歉！暂时未能将请求提交到服务器。请稍后再试。</p></group><group ng-show="order[type].tx_result==&quot;malformed&quot;" class="result-malformed"><h2 class="tx-status">请求无效！</h2><p>您的请求无效，因为: {{order[type].engine_result}} - {{order[type].engine_result_message}}</p></group><group ng-show="order[type].tx_result==&quot;claim&quot;" class="result-malformed"><h2 class="tx-status">交易失败！</h2><p ng-switch on="order[type].engine_result"><span ng-switch-when="tecUNFUNDED_ORDER">你没有足够的 {{type == \'buy\' ? order.second_currency : order.first_currency}} 用来创建订单</span><span ng-switch-when="tecINSUF_RESERVE_OFFER">你必须至少有 {{account.reserve_to_add_trust | rpamount:0}} XRP 才能再提交一个挂单。<a href="https://ripple.com/wiki/Reserves" target="_blank">更多信息.</a></span><span ng-switch-default="ng-switch-default">错误: {{order[type].engine_result_message}}</span></p></group><group ng-show="order[type].tx_result==&quot;failed&quot;" class="result-failed"><h2 class="tx-status">交易失败！</h2><p ng-switch on="order[type].engine_result"><span ng-switch-default="ng-switch-default">交易失败，原因是: {{order[type].engine_result_message}}</span></p></group><group ng-show="order[type].tx_result==&quot;local&quot;" class="result-failed"><h2 class="tx-status">交易失败！</h2><p ng-switch on="order[type].engine_result"><span ng-switch-when="telINSUF_FEE_P">该交易提交到的服务器太忙了，不能处理或者转发你提交的交易。</span></p></group><group ng-show="order[type].tx_result==&quot;unknown&quot;" class="result-failed"><h2 class="tx-status">{{order[type].engine_result}}</h2><p ng-switch on="order[type].engine_result"><span ng-switch-default="ng-switch-default">{{order[type].engine_result_message}}</span></p></group><hr/><div class="actionLink"><a href="#trade" ng-click="reset_widget(type)">继续下单</a></div></group></div></div></group><div class="btn-group"><button type="button" ng-class="{\'btn-info\': order.listing == \'orderbook\'}" ng-click="setListing(\'orderbook\')" class="btn btn-default">挂单列表</button><button type="button" ng-disabled="!account.Balance" ng-class="{\'btn-info\': order.listing == \'my\'}" ng-click="setListing(\'my\')" class="btn btn-default">我的挂单 <span ng-show="offers"> ({{offersCount}})</span></button></div><div class="listings"><div ng-show="order.listing == \'my\'" class="my"><div ng-hide="isEmpty(offers)"><div class="row head hidden-xs"><div class="col-sm-1 type">类型</div><div class="col-sm-3 pair">组合</div><div class="col-sm-3 price">价格</div><div class="col-sm-3 amount">金额</div><div class="col-sm-2 action">动作</div></div></div><div ng-repeat="entry in offers" ng-class="{cancelling: cancelling}" class="row"><div data-label="Type" class="col-sm-1 type">{{entry.type | rpucfirst}}</div><div data-label="Pair" class="col-sm-3 pair"><div class="first">{{entry.first | rpcurrency}}<span ng-show="entry.first.issuer().to_json()">&#32;(<span rp-pretty-issuer="entry.first.issuer().to_json()" rp-pretty-issuer-contacts="userBlob.data.contacts">???</span>)</span></div><div class="second">{{entry.second | rpcurrency}}<span ng-show="entry.second.issuer().to_json()">&#32;(<span rp-pretty-issuer="entry.second.issuer().to_json()" rp-pretty-issuer-contacts="userBlob.data.contacts">???</span>)</span></div></div><div data-label="Price" class="col-sm-3 price rpamount">{{entry.second | rpamountratio:entry.first | rpamount:{precision: 5, min_precision: 5} }}<span class="currency"> {{entry.second | rpcurrency}}</span></div><div data-label="Amount" class="col-sm-3 amount rpamount">{{entry.first | rpamount}}<span class="currency"> {{entry.first | rpcurrency}}</span></div><div class="col-sm-2 action"><a href="" ng-click="cancel_order()" class="danger">取消</a></div></div><div ng-show="isEmpty(offers)" class="emptyMessage"><p class="literal">你没有任何挂单。</p></div></div><div ng-show="order.listing == \'orderbook\'" class="row orderbook"><div class="bids col-xs-12 col-sm-6"><div class="title">买单出价</div><div ng-show="book.bids.length" class="row head"><div class="col-xs-4 sum">总和 <div class="currency">{{book.bids[0].TakerPays | rpcurrency}}</div><div ng-show="(book.bids[0].TakerPays | rpcurrency) !== \'XRP\'" rp-pretty-issuer="book.bids[0].TakerPays | rpissuer" rp-pretty-issuer-contacts="userBlob.data.contacts" rp-pretty-issuer-or-short="rp-pretty-issuer-or-short" class="issuer"></div></div><div class="col-xs-4 size">挂单量 <div class="currency">{{book.bids[0].TakerPays | rpcurrency}}</div><div ng-show="(book.bids[0].TakerPays | rpcurrency) !== \'XRP\'" rp-pretty-issuer="book.bids[0].TakerPays | rpissuer" rp-pretty-issuer-contacts="userBlob.data.contacts" rp-pretty-issuer-or-short="rp-pretty-issuer-or-short" class="issuer"></div></div><div class="col-xs-4 price">买入价 <div class="currency">{{book.bids[0].TakerGets | rpcurrency}}</div><div ng-show="(book.bids[0].TakerGets | rpcurrency) !== \'XRP\'" rp-pretty-issuer="book.bids[0].TakerGets | rpissuer" rp-pretty-issuer-contacts="userBlob.data.contacts" rp-pretty-issuer-or-short="rp-pretty-issuer-or-short" class="issuer"></div></div></div><div ng-repeat="order in book.bids" class="row"><div class="col-xs-4 rpamount sum"><a href="" title="Sell {{order.showSum}} {{book.bids[0].showTakerPays | rpcurrency}}" ng-click="fill_widget(\'sell\',order,true)"><span rp-bind-color-amount="order.showSum"></span></a></div><div rp-bind-color-amount="order.showTakerPays" class="col-xs-4 rpamount size"></div><div class="col-xs-4 rpamount price"><a href="" ng-click="fill_widget(\'sell\',order)"><span rp-bind-color-amount="order.showPrice"></span></a></div></div><div ng-show="!book.bids.length" class="message">目前该货币组合没有卖单</div></div><div class="asks col-xs-12 col-sm-6"><div class="title">卖单要价</div><div ng-show="book.asks.length" class="row head"><div class="col-xs-4 price">卖出价 <div class="currency">{{book.asks[0].TakerPays | rpcurrency}}</div><div ng-show="(book.asks[0].TakerPays | rpcurrency) !== \'XRP\'" rp-pretty-issuer="book.asks[0].TakerPays | rpissuer" rp-pretty-issuer-contacts="userBlob.data.contacts" rp-pretty-issuer-or-short="rp-pretty-issuer-or-short" class="issuer"></div></div><div class="col-xs-4 size">挂单量 <div class="currency">{{book.asks[0].TakerGets | rpcurrency}}</div><div ng-show="(book.asks[0].TakerGets | rpcurrency) !== \'XRP\'" rp-pretty-issuer="book.asks[0].TakerGets | rpissuer" rp-pretty-issuer-contacts="userBlob.data.contacts" rp-pretty-issuer-or-short="rp-pretty-issuer-or-short" class="issuer"></div></div><div class="col-xs-4 sum">总和 <div class="currency">{{book.asks[0].TakerGets | rpcurrency}}</div><div ng-show="(book.asks[0].TakerGets | rpcurrency) !== \'XRP\'" rp-pretty-issuer="book.asks[0].TakerGets | rpissuer" rp-pretty-issuer-contacts="userBlob.data.contacts" rp-pretty-issuer-or-short="rp-pretty-issuer-or-short" class="issuer"></div></div></div><div ng-repeat="order in book.asks" class="row"><div class="col-xs-4 rpamount price"><a href="" ng-click="fill_widget(\'buy\',order)"><span rp-bind-color-amount="order.showPrice"></span></a></div><div rp-bind-color-amount="order.showTakerGets" class="col-xs-4 rpamount size"></div><div class="col-xs-4 rpamount sum"><a href="" title="Buy {{order.showSum}} {{book.asks[0].showTakerGets | rpcurrency}}" ng-click="fill_widget(\'buy\',order,true)"><span rp-bind-color-amount="order.showSum"></span></a></div></div><div ng-show="!book.asks.length" class="message">目前该货币组合没有买单</div></div></div></div></group></group></section>');return buf.join("")}},65:function(module,exports,require){var jade=require(70);module.exports=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<nav class="col-xs-12 col-md-2"><h2 ng-bind="$route.current.tabName | rpucfirst"></h2><ul><li ng-class="{active: $route.current.tabName == \'trust\'}"><a href="#/trust">信任额度</a></li><li ng-class="{active: $route.current.tabName == \'options\'}"><a href="#/options">选项</a></li></ul></nav><section ng-controller="OptionsCtrl" class="col-xs-12 col-md-10 content"><div class="row"><div class="col-xs-12">选项</div></div><div class="row"><hr/></div><form name="optionsForm" ng-submit="save()" class="row-padding-small"><h3>Ripple 服务器</h3><div ng-repeat="(index, server) in options.server.servers track by $index" ng-form name="subForm"><div class="row"><div class="col-xs-12"><label>WebSocket 主机名, 端口, 安全</label></div></div><div class="row"><div class="col-xs-6 col-sm-5 col-md-3"><input name="host" type="text" ng-model="server.host" rp-hostname="rp-hostname" class="form-control host"/><div class="errorGroup"><div rp-errors="host"><div rp-error-on="rpHostname" class="error">Web Socket IP 或者主机名无效</div></div><div rp-errors="port"><div rp-error-on="rpPortNumber" class="error">端口号无效</div></div></div></div><div class="col-xs-3 col-sm-3 col-md-2"><input name="port" type="text" ng-model="server.port" rp-port-number="rp-port-number" class="form-control socketPort"/></div><div class="col-xs-3 col-sm-3 col-md-2"><a href="" ng-click="options.server.servers.splice($index,1)">删除</a></div></div><div class="row"><div class="col-xs-12"><div class="helperInput"><input type="checkbox" name="secure" ng-model="server.secure"/><label for="secure">启用安全的 WebSocket 连接</label></div></div></div></div><div class="row"><div class="col-xs-12 col-sm-8 col-md-3 col-lg-2"><button type="button" ng-click="options.server.servers.push({})" class="btn btn-block btn-primary">添加服务器</button></div></div><h3>二进制数据存储处 (Blob vault)</h3><div class="row"><div class="col-xs-12 col-sm-8 col-md-5"><label for="blobIp">二进制数据存储处 (Blob vault) 的网址</label><input name="blobIp" id="blobIp" type="text" ng-model="options.blobvault" class="form-control blobIp"/></div></div><h3>匿名统计</h3><label><input name="track" type="checkbox" ng-model="options.mixpanel.track" class="tracking"/><span>发送匿名使用数据，以帮助 Ripple Labs 改进产品。</span></label><div class="row"><div class="col-xs-12 col-sm-8 col-md-3 col-lg-2"><button type="submit" ng-disabled="optionsForm.$invalid" class="btn btn-block btn-success submit">保存</button></div></div></form></section>');return buf.join("")}},66:function(module,exports,require){var jade=require(70);module.exports=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<nav class="col-xs-12 col-md-2"><h2 ng-bind="$route.current.tabName | rpucfirst"></h2><ul><li ng-class="{active: $route.current.tabName == \'balance\'}"><a href="#/balance">余额</a></li><li ng-class="{active: $route.current.tabName == \'history\'}"><a href="#/history">历史</a></li><li ng-class="{active: $route.current.tabName == \'contacts\'}"><a href="#/contacts">联系人</a></li><li ng-class="{active: $route.current.tabName == \'convert\'}"><a href="#/convert">兑换</a></li><li ng-class="{active: $route.current.tabName == \'cashin\'}"><a href="#/cashin">存入现金</a></li><li ng-class="{active: $route.current.tabName == \'security\'}"><a href="#/security">安全</a></li></ul></nav><section ng-controller="SecurityCtrl" class="col-xs-12 col-md-10 wide content"><p class="important">你的钱和钱包是用加密算法保护的，<b l10n-inc="l10n-inc"> 只能由你的个人密钥</b> 解密。</p><ul class="notices"><li><span>–</span><span>没有人替你保存它，千万别搞丢了！</span></li><li><span>–</span><span>千万不要告诉别人！</span></li></ul><div class="title"><div class="icon wallet"></div><div class="name">钱包密钥</div><div class="more"><span>{{userBlob.data.contacts.length}} 个联系人，<span>{{enc.length | rpfilesize}} &ensp;</span></span></div><div class="more"><span rp-download="enc" rp-download-filename="ripple-wallet.txt">你可以 <a href="" rp-download-trigger="rp-download-trigger" l10n-inc="l10n-inc"> 把钱包备份到一个文件里。</a></span></div></div><ul ng-hide="showKeys" class="description"><li>这是你每次使用 ripple 时用到的密钥</li><li>在你选择钱包名和密码的时候你就建立了它。</li><li>这保护了你的钱，通讯录和账户历史。</li><li><b>千万不要忘记，也不要告诉别人。</b></li></ul><div><div ng-show="showKeys" class="infoBox"><div class="part"><span class="label">钱包名</span><span class="value">{{userCredentials.username}}</span></div><div class="part"><span class="label">密码：</span><span ng-show="passUnmask" class="value">{{userCredentials.password}}</span><span ng-hide="passUnmask" class="value">{{userCredentials.password | rpmask}}</span><rp-confirm action-text="Are you in a safe place, where no person, or camera can see your screen?" action-button-text="Yes, show me" action-function="passUnmask=true" cancel-button-text="No" ng-hide="passUnmask"><a href="" ng-hide="passUnmask">显示</a></rp-confirm><a href="" ng-click="passUnmask=false" ng-show="passUnmask">隐藏</a></div></div></div><div ng-show="showKeys" class="hint">拿到这个就能进入你的钱包。不要告诉任何人。放在私密和安全的地方。</div><div class="title"><div class="icon money"></div><div class="name">密钥</div></div><ul ng-hide="showKeys" class="description"><li>密钥是在紧急情况下使用的。它并不是出自你的选择，而是由网络创建的。你并不需要记住它。 </li><li>钱包包含密钥，密钥能拿到你账户里的钱。</li><li>如果你搞丢了钱包，可以用这个密钥来找回里面的钱。</li><li><b>把它储存在安全的地方，千万不要与人分享。</b></li></ul><div><div ng-show="showKeys" class="infoBox"><div class="part"><span ng-show="SecretKeyUnmask" class="value">{{userCredentials.master_seed}}</span><span ng-hide="SecretKeyUnmask" class="value">{{userCredentials.master_seed | rpmask}}</span></div><rp-confirm action-text="Are you in a safe place, where no person, or camera can see your screen?" action-button-text="Yes, show me" action-function="SecretKeyUnmask=true" cancel-button-text="No" ng-hide="SecretKeyUnmask"><a href="" ng-hide="SecretKeyUnmask">显示</a></rp-confirm><a href="" ng-click="SecretKeyUnmask=false" ng-show="SecretKeyUnmask">隐藏</a></div></div><div ng-show="showKeys" class="hint">拿到这个就能拿到你的钱。不要告诉任何人。放在私密和安全的地方。</div><button ng-click="showKeys=true" ng-hide="showKeys" class="btn btn-info show-keys">显示我的密钥</button></section>');return buf.join("")}},67:function(module,exports,require){var jade=require(70);module.exports=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<section ng-controller="TxCtrl" ng-switch on="state" class="single ddpage content"><group ng-switch-when="loading"><p class="literal throbber">正在加载交易详情...</p></group><group ng-switch-when="error"><p class="literal">加载交易详情时出错。</p></group><group ng-switch-when="loaded"><p class="literal hash"><span>Transaction #</span><span>{{transaction.hash}}</span><div><a href="{{\'http://ripple.com/graph/#\' + transaction.hash}}" target="_blank">Show in graph</a></div></p><hr/><p class="literal type">交易类型：<strong> {{transaction.TransactionType}}</strong></p><group ng-switch on="transaction.TransactionType"><group ng-switch-when="Payment"><group class="clearfix"><dl class="details half"><dt><span>发自地址</span><span>:</span></dt><dd>{{transaction.Account}}</dd><dt><span>发出的金额</span><span>:</span></dt><dd>{{amountSent | rpamount}} {{amountSent | rpcurrency}}</dd><dt><span>发出的币种</span><span>:</span></dt><dd>{{amountSent | rpcurrencyfull}}</dd></dl><dl class="details half"><dt><span>发送到的地址</span><span>:</span></dt><dd>{{transaction.Destination}}</dd><dt><span>收到的金额</span><span>:</span></dt><dd>{{transaction.Amount | rpamount}} {{transaction.Amount | rpcurrency}}</dd><dt><span>收到的币种</span><span>:</span></dt><dd>{{transaction.Amount | rpcurrencyfull}}</dd></dl></group><hr/><dl class="details"><dt><span>支付的网络费用</span><span>:</span></dt><dd>{{transaction.Fee | rpamount}} XRP</dd><dt><span>汇率</span><span>:</span></dt><dd>TODO</dd></dl><hr/><dl class="details"><dt><span>账本号</span><span>:</span></dt><dd>{{transaction.inLedger}}</dd></dl></group><group ng-switch-default="ng-switch-default"><group class="clearfix"><dl class="details half"><dt>发自地址：</dt><dd>{{transaction.Account}}</dd></dl><dl class="details half"></dl></group><hr/><p class="literal">不好意思，这类转账的信息页面还没有准备好。</p></group></group></group></section>');return buf.join("")}},68:function(module,exports,require){var jade=require(70);module.exports=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<div ng-switch on="engine_result | rptruncate:3" class="transaction-error"><group ng-switch-when="tes"><group ng-hide="accepted" class="pending"><h2 class="tx-status">交易信息已经提交。</h2><p>您的账户余额会在交易完成后更新。</p></group><group ng-show="accepted" class="result-success"><h2 class="tx-status">交易完成！</h2></group></group><group ng-switch-when="tep" class="result-partial"><h2 class="tx-status">交易仅部分有效！</h2><p>你的交易只能部分被实现</p></group><group ng-switch-when="tem" class="result-malformed"><h2 class="tx-status">无效的交易！</h2><p ng-switch on="engine_result"><span ng-switch-default="ng-switch-default">您的交易无效，因为：{{engine_result}} - {{engine_result_message}}</span></p></group><group ng-switch-when="tef" class="result-malformed"><h2 class="tx-status">无效的交易！</h2><p ng-switch on="engine_result"><span ng-switch-when="tefDST_TAG_NEEDED">对方账户要求在支付时输入终端标签以区分款项。</span></p></group><group ng-switch-when="tel" class="result-failed"><h2 class="tx-status">交易失败！</h2><p ng-switch on="engine_result"><span ng-switch-when="telINSUF_FEE_P">服务器太忙了，不能处理或者转发你提交的交易。</span></p></group><group ng-switch-when="tec" class="result-malformed"><h2 class="tx-status">交易失败！</h2><p ng-switch on="engine_result"><span ng-switch-when="tecNO_DST">对方地址不存在。</span><span ng-switch-when="tecNO_DST_INSUF_XRP">目标账户不存在。发送的XRP数量未达到激活账户的条件。</span><span ng-switch-default="ng-switch-default">错误: {{engine_result_message}}</span></p></group><group ng-switch-when="ter" class="result-failed"><h2 class="tx-status">交易失败！</h2><p ng-switch on="engine_result"><span ng-switch-when="terNO_LINE">你没有这种货币的信任线。</span></p><span ng-switch-default="ng-switch-default">转账未被网络通过，原因：{{engine_result}} - {{engine_result_message}}</span></group><group ng-switch-when="tej" class="result-failed"><h2 class="tx-status">交易失败！</h2><p ng-switch on="engine_result"><span ng-switch-when="tejLost">Ripple 客户端放弃了提交这个转账的尝试。</span></p><span ng-switch-default="ng-switch-default">未能提交转账操作: {{engine_result}} - {{engine_result_message}}</span></group></div>');
return buf.join("")}},69:function(e){e.exports={XRP:[0,0],AFN:[971,2],EUR:[978,2],ALL:[8,2],DZD:[12,2],USD:[840,2],AOA:[973,2],XCD:[951,2],ARS:[32,2],AMD:[51,2],AWG:[533,2],AUD:[36,2],AZN:[944,2],BSD:[44,2],BHD:[48,3],BDT:[50,2],BBD:[52,2],BYR:[974,0],BZD:[84,2],XOF:[952,0],BMD:[60,2],BTN:[64,2],INR:[356,2],BOB:[68,2],BOV:[984,2],BAM:[977,2],BWP:[72,2],NOK:[578,2],BRL:[986,2],BND:[96,2],BGN:[975,2],BIF:[108,0],KHR:[116,2],XAF:[950,0],CAD:[124,2],CVE:[132,2],KYD:[136,2],CLF:[990,0],CLP:[152,0],CNY:[156,2],COP:[170,2],COU:[970,2],KMF:[174,0],CDF:[976,2],NZD:[554,2],CRC:[188,2],HRK:[191,2],CUC:[931,2],CUP:[192,2],ANG:[532,2],CZK:[203,2],DKK:[208,2],DJF:[262,0],DOP:[214,2],EGP:[818,2],SVC:[222,2],ERN:[232,2],ETB:[230,2],FKP:[238,2],FJD:[242,2],XPF:[953,0],GMD:[270,2],GEL:[981,2],GHS:[936,2],GIP:[292,2],GTQ:[320,2],GBP:[826,2],GNF:[324,0],GYD:[328,2],HTG:[332,2],HNL:[340,2],HKD:[344,2],HUF:[348,2],ISK:[352,0],IDR:[360,2],IRR:[364,2],IQD:[368,3],ILS:[376,2],JMD:[388,2],JPY:[392,0],JOD:[400,3],KZT:[398,2],KES:[404,2],KPW:[408,2],KRW:[410,0],KWD:[414,3],KGS:[417,2],LAK:[418,2],LVL:[428,2],LBP:[422,2],LSL:[426,2],ZAR:[710,2],LRD:[430,2],LYD:[434,3],CHF:[756,2],LTL:[440,2],MOP:[446,2],MKD:[807,2],MGA:[969,2],MWK:[454,2],MYR:[458,2],MVR:[462,2],MRO:[478,2],MUR:[480,2],MXN:[484,2],MXV:[979,2],MDL:[498,2],MNT:[496,2],MAD:[504,2],MZN:[943,2],MMK:[104,2],NAD:[516,2],NPR:[524,2],NIO:[558,2],NGN:[566,2],OMR:[512,3],PKR:[586,2],PAB:[590,2],PGK:[598,2],PYG:[600,0],PEN:[604,2],PHP:[608,2],PLN:[985,2],QAR:[634,2],RON:[946,2],RUB:[643,2],RWF:[646,0],SHP:[654,2],WST:[882,2],STD:[678,2],SAR:[682,2],RSD:[941,2],SCR:[690,2],SLL:[694,2],SGD:[702,2],SBD:[90,2],SOS:[706,2],SSP:[728,2],LKR:[144,2],SDG:[938,2],SRD:[968,2],SZL:[748,2],SEK:[752,2],CHE:[947,2],CHW:[948,2],SYP:[760,2],TWD:[901,2],TJS:[972,2],TZS:[834,2],THB:[764,2],TOP:[776,2],TTD:[780,2],TND:[788,3],TRY:[949,2],TMT:[934,2],UGX:[800,0],UAH:[980,2],AED:[784,2],USN:[997,2],USS:[998,2],UYI:[940,0],UYU:[858,2],UZS:[860,2],VUV:[548,0],VEF:[937,2],VND:[704,0],YER:[886,2],ZMK:[894,2],ZWL:[932,2]}},70:function(e,t,r){function n(e){return null!=e}/*!
	 * Jade - runtime
	 * Copyright(c) 2010 TJ Holowaychuk <tj@vision-media.ca>
	 * MIT Licensed
	 */
Array.isArray||(Array.isArray=function(e){return"[object Array]"==Object.prototype.toString.call(e)}),Object.keys||(Object.keys=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t}),t.merge=function(e,t){var r=e["class"],s=t["class"];(r||s)&&(r=r||[],s=s||[],Array.isArray(r)||(r=[r]),Array.isArray(s)||(s=[s]),r=r.filter(n),s=s.filter(n),e["class"]=r.concat(s).join(" "));for(var a in t)"class"!=a&&(e[a]=t[a]);return e},t.attrs=function(e,r){var n=[],s=e.terse;delete e.terse;var a=Object.keys(e),o=a.length;if(o){n.push("");for(var i=0;o>i;++i){var c=a[i],l=e[c];"boolean"==typeof l||null==l?l&&(s?n.push(c):n.push(c+'="'+c+'"')):0==c.indexOf("data")&&"string"!=typeof l?n.push(c+"='"+JSON.stringify(l)+"'"):"class"==c&&Array.isArray(l)?n.push(c+'="'+t.escape(l.join(" "))+'"'):r&&r[c]?n.push(c+'="'+t.escape(l)+'"'):n.push(c+'="'+l+'"')}}return n.join(" ")},t.escape=function(e){return String(e).replace(/&(?!(\w+|\#\d+);)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},t.rethrow=function(e,t,n){if(!t)throw e;var s=3,a=r(82).readFileSync(t,"utf8"),o=a.split("\n"),i=Math.max(n-s,0),c=Math.min(o.length,n+s),s=o.slice(i,c).map(function(e,t){var r=t+i+1;return(r==n?"  > ":"    ")+r+"| "+e}).join("\n");throw e.path=t,e.message=(t||"Jade")+":"+n+"\n"+s+"\n\n"+e.message,e}},71:function(e){e.exports="function"==typeof Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)}},72:function(e){e.exports=Object.keys||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},73:function(e){e.exports=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.hasOwnProperty.call(e,r)&&t.push(r);return t}},74:function(e){e.exports=Object.create||function(e,t){var r;if(null===e)r={__proto__:null};else{if("object"!=typeof e)throw new TypeError("typeof prototype["+typeof e+"] != 'object'");var n=function(){};n.prototype=e,r=new n,r.__proto__=e}return"undefined"!=typeof t&&Object.defineProperties&&Object.defineProperties(r,t),r}},75:function(e){e.exports=function(e){return e instanceof RegExp||"object"==typeof e&&"[object RegExp]"===Object.prototype.toString.call(e)}},76:function(e){e.exports=function(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0;r<e.length;r++)if(t===e[r])return r;return-1}},77:function(module,exports,require){var jade=require(70);module.exports=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<ul ng-show="entry.effects" class="effects"><li ng-repeat="effect in entry.showEffects" ng-switch on="effect.type"><span ng-switch-when="offer_funded"><span ng-show="effect.sell">你卖出了 <strong>{{effect.gets | rpamount}} {{effect.gets | rpcurrency}}</strong>，得到 <strong>{{effect.pays | rpamount}} {{effect.pays | rpcurrency}}</strong></span><span ng-hide="effect.sell">你以 <strong>{{effect.gets | rpamount}} {{effect.gets | rpcurrency}}</strong> 买到了 <strong>{{effect.pays | rpamount}} {{effect.pays | rpcurrency}}</strong></span>. (<span>价格</span><span>:<strong> {{effect.price | rpamount:{precision: 4} }}</strong></span>).<span>该挂单已全部成交。</span></span><span ng-switch-when="offer_partially_funded"><span ng-show="effect.sell">你卖出了 <strong>{{effect.got | rpamount}} {{effect.got | rpcurrency}}</strong>，得到 <strong>{{effect.paid | rpamount}} {{effect.paid | rpcurrency}}</strong></span><span ng-hide="effect.sell">你以 <strong>{{effect.got | rpamount}} {{effect.got | rpcurrency}}</strong> 买到了 <strong>{{effect.paid | rpamount}} {{effect.paid | rpcurrency}}</strong></span>. (<span>价格</span><span>:<strong> {{effect.price | rpamount:{precision: 4} }}</strong></span>).<span ng-show="effect.cancelled">本挂单的剩余部分由于资金不足已被取消。</span><span ng-hide="effect.deleted">这个挂单还剩 <span> {{effect.remaining | rpamount}} {{effect.remaining | rpcurrency}}</span>。</span></span><span ng-switch-when="offer_cancelled">挂单以(<strong>{{effect.pays | rpamount}} {{effect.pays | rpcurrency}}</strong>卖出<strong>{{effect.gets | rpamount}} {{effect.gets | rpcurrency}}</strong>)由于资金不足已被取消。</span><span ng-switch-when="offer_created"><span ng-show="effect.sell">你建立了卖出 <strong>{{effect.pays | rpamount}} {{effect.gets | rpcurrency}}</strong> 得到 <strong>{{effect.pays | rpamount}} {{effect.pays | rpcurrency}}</strong> 的挂单 </span><span ng-hide="effect.sell">你建立了用 <strong>{{effect.pays | rpamount}} {{effect.gets | rpcurrency}}</strong> 买入 <strong>{{effect.pays | rpamount}} {{effect.pays | rpcurrency}}</strong> 的挂单 </span></span><span ng-switch-when="offer_bought">您花费<strong>{{effect.paid | rpamount}} {{effect.paid | rpcurrency}}</strong>购买了<strong>{{effect.got | rpamount}} {{effect.got | rpcurrency}}</strong>。(\n{3：单价}}<span>:<strong> {{effect.price | rpamount:{precision: 4} }}</strong></span>)。</span><span ng-switch-when="trust_create_local">你现在对 <span> {{effect.counterparty | rpcontactname}}</span> 设置了 <span> {{effect.limit | rpamount}} {{effect.limit | rpcurrency}}</span> 的信任额度。</span><span ng-switch-when="trust_create_remote"><span>{{effect.counterparty | rpcontactname}}</span> is trusting you\n for<span> {{effect.limit | rpamount}} {{effect.limit | rpcurrency}}</span>.</span><span ng-switch-when="trust_change_local">你已把对 <span> {{effect.counterparty | rpcontactname}}</span> 的 <span> {{effect.limit | rpcurrency}}</span> 信任额度从 <span> {{effect.prevLimit | rpamount}}</span> 调整到了 <span> {{effect.limit | rpamount}}</span>。</span><span ng-switch-when="trust_change_remote"><span>{{effect.counterparty | rpcontactname}}</span> changed the<span> {{effect.limit | rpcurrency}}</span> trust\n from<span> {{effect.prevLimit | rpamount}}</span> to<span> {{effect.limit | rpamount}}</span>.</span><span ng-switch-when="trust_change_balance">你和 <span> {{effect.counterparty | rpcontactname}}</span> 之间的信任线余额变化了 <span> {{effect.amount | rpamount}} {{effect.amount | rpcurrency}}</span>。</span><span ng-switch-when="balance_change">你的余额变化了 <span> {{effect.amount | rpamount}} {{effect.amount | rpcurrency}}</span>。</span></li></ul>');return buf.join("")}},78:function(module,exports,require){var jade=require(70);module.exports=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<div id="status" ng-controller="StatusCtrl" ng-class="{expand: show_secondary &amp;&amp; balance_count &gt;= 2}" ng-show="userCredentials.username" class="row"><div class="nav-toggle col-xs-2"><a href="" class="snapper-toggle"><div class="fa fa-align-justify"></div></a></div><div class="user col-xs-10 col-md-12"><div class="row"><div class="col-xs-8"><span ng-show="shortUsername" rp-tooltip="{{userCredentials.username}}" rp-tooltip-placement="bottom" class="username">{{shortUsername}}</span><span ng-hide="shortUsername" class="username">{{userCredentials.username}}</span></div><a href="" ng-click="logout()" class="col-xs-4 logout">退出</a></div><div class="row balances"><div ng-show="!loadState.account" class="col-xs-12">正在载入账户余额...</div><div ng-show="loadState.account" class="col-xs-6"><span ng-show="!account.Account" class="balance primary">未激活的账户</span><span ng-show="account.Account" class="balance primary"><span class="amount">{{account.Balance | rpamount:{precision: 2} }}</span><span class="currency">XRP</span></span><i ng-show="account.Account" rp-popover="rp-popover" rp-popover-placement="bottom" l10n-rp-popover-title="XRP Balance" rp-popover-trigger="click" l10n-data-content="Your current XRP balance is {{account.Balance | rpamount:{precision: 2, max_sig_digits: 20} }}. Account reserve is {{ account.reserve | rpamount }} XRP. &lt;br /&gt;&lt;a href=\'https://ripple.com/wiki/Reserves\' target=\'_blank\'&gt;More information&lt;/a&gt;" class="fa fa-question-circle"></i></div><div class="col-xs-6"><ul class="secondary"><li ng-repeat="(index, balance) in orderedBalances" ng-class="{negative: balance.total.is_negative()}" class="balance">{{balance.total | rpamount:{rel_precision: 0} }}<span class="currency">{{balance.total.currency().to_human()}}</span></li></ul><a ng-click="toggle_secondary()" ng-show="balance_count &gt;= 2" class="toggle-secondary"></a></div></div></div></div><a id="status-anon" ng-hide="userCredentials.username" href="#/options"><span>选项</span></a>');return buf.join("")}},79:function(module,exports,require){var jade=require(70);module.exports=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<nav class="col-xs-12 col-md-2"><h2 ng-bind="$route.current.tabName | rpucfirst"></h2><ul><li ng-class="{active: $route.current.tabName == \'trust\'}"><a href="#/trust">信任额度</a></li><li ng-class="{active: $route.current.tabName == \'options\'}"><a href="#/options">选项</a></li></ul></nav>');return buf.join("")}},80:function(module,exports,require){var jade=require(70);module.exports=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<nav class="col-xs-12 col-md-2"><h2 ng-bind="$route.current.tabName | rpucfirst"></h2><ul><li ng-class="{active: $route.current.tabName == \'balance\'}"><a href="#/balance">余额</a></li><li ng-class="{active: $route.current.tabName == \'history\'}"><a href="#/history">历史</a></li><li ng-class="{active: $route.current.tabName == \'contacts\'}"><a href="#/contacts">联系人</a></li><li ng-class="{active: $route.current.tabName == \'convert\'}"><a href="#/convert">兑换</a></li><li ng-class="{active: $route.current.tabName == \'cashin\'}"><a href="#/cashin">存入现金</a></li><li ng-class="{active: $route.current.tabName == \'security\'}"><a href="#/security">安全</a></li></ul></nav>');return buf.join("")}},81:function(module,exports,require){var jade=require(70);module.exports=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<div class="form-group"><label for="login_username">钱包名</label><input id="login_username" name="login_username" type="text" ng-model="username" required="required" rp-focus-on-empty="rp-focus-on-empty" rp-autofill="$routeParams.username" class="form-control"/></div><div class="form-group"><label for="login_password">密码</label><input id="login_password" name="login_password" type="password" ng-model="password" required="required" rp-focus="rp-focus" class="form-control"/></div>');return buf.join("")}},82:function(e,t){var r={};t.setFile=function(e,t){r[e]=t},t.readFileSync=function(e){return r[e]||""}}});