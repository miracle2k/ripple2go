/*!
 * Ripple Client v0.2.46-17-g8d439f2
 * Copyright (c) 2014 Ripple Labs, Inc.
 * Licensed under the ISC license.
 */
!function(e){function n(r){if(t[r])return t[r].exports;var a=t[r]={exports:{},id:r,loaded:!1};return e[r].call(null,a,a.exports,n),a.loaded=!0,a.exports}var t={};return n.e=function(e,t){t.call(null,n)},n.modules=e,n.cache=t,n(0)}({c:"",0:function(e,n,t){var r=t(1);t(2),t(3),t(4),t(5),t(6),t(7),t(8),t(9),t(10),t(11),t(12),t(13),t(14),t(15),t(16),t(17),t(18),t(19),t(20),t(21),t(22),t(23),t(24),t(25),t(26),t(27);var a=["ng","ngRoute","app","status","id","tracker","charts","effects","events","fields","formatters","directives","validators","datalinks","jade","errors","filters","zipzap"],s=[t(28),t(29),t(30),t(31),t(32),t(33),t(34),t(35),t(36),t(37),t(38),t(39),t(40),t(41)],o=s.map(function(e){var n=new e;if(n.angular){var t=angular.module(n.tabName,n.angularDeps);n.angular(t),a.push(n.tabName)}return n}),i=angular.module("rp",a),c=window.rippleclient={};c.app=i,c.types=r,angular.element("body").prepend(t(48)()),i.config(["$routeProvider","$injector",function(e){_.each(o,function(n){if("function"==typeof n.generateHtml){var t=n.generateHtml(),r={tabName:n.tabName,tabClass:"t-"+n.tabName,pageMode:"pm-"+n.pageMode,mainMenu:n.mainMenu,template:t};e.when("/"+n.tabName,r),n.extraRoutes&&_.each(n.extraRoutes,function(n){$.extend({},r,n.config),e.when(n.name,r)}),_.each(n.aliases,function(n){e.when("/"+n,r)})}}),e.when("/lang/:language",{redirectTo:function(e){lang=e.language,"en"==lang&&(lang=""),store.disabled||store.set("ripple_language",lang?lang:"");var n=location.port.length>0?":"+location.port:"";location.href=location.protocol+"//"+location.hostname+n+location.pathname}}),e.otherwise({redirectTo:"/balance"})}]),i.run(["$rootScope","$injector","$compile","$route","$routeParams","$location",function(e,n,t,r,a,s){"object"==typeof c&&(c.$scope=e,c.version=e.version=angular.element("#version").text()),e.isEmpty=function(e){return angular.equals({},e)},_.isArray(s.$$absUrl.match(/%2B|\+/gi))&&(window.location=s.$$absUrl.replace(/%2B|\+/gi,"%20"));var o=e;e.$route=r,e.$routeParams=a,$("#main").data("$scope",o);var i=s.search().amnt;i&&(s.search("amnt",null),s.search("amount",i)),o.$watch("app_loaded",function(){$("nav a").click(function(){location.hash==this.hash&&o.$apply(function(){r.reload()})})})}]),Options.blobvault||(Options.blobvault=Options.BLOBVAULT_SERVER),"function"==typeof angular.resumeBootstrap&&angular.resumeBootstrap()},1:function(e,n,t){var r=t(45),a=function(){function e(e,n){return[].concat(e,n>>24,255&n>>16,255&n>>8,255&n)}function n(e){return sjcl.bitArray.bitSlice(sjcl.hash.sha512.hash(sjcl.codec.bytes.toBits(e)),0,256)}function t(e){return sjcl.hash.ripemd160.hash(sjcl.hash.sha256.hash(e))}return function(a){if(this.seed=r.decode_base_check(33,a),!this.seed)throw"Invalid seed.";this.getAddress=function(a){a=a||0;var s,o,i=0;do s=sjcl.bn.fromBits(n(e(this.seed,i))),i++;while(!sjcl.ecc.curves.c256.r.greaterEquals(s));o=sjcl.ecc.curves.c256.G.mult(s);var c;i=0;do c=sjcl.bn.fromBits(n(e(e(o.toBytesCompressed(),a),i))),i++;while(!sjcl.ecc.curves.c256.r.greaterEquals(c));var l=sjcl.ecc.curves.c256.G.mult(c).toJac().add(o).toAffine();return r.encode_base_check(0,sjcl.codec.bytes.fromBits(t(sjcl.codec.bytes.toBits(l.toBytesCompressed()))))}}}();n.RippleAddress=a},2:function(e,n,t){var r=(t(42),t(43),t(49)),a=ripple.Amount,e=angular.module("app",[]);e.controller("AppCtrl",["$rootScope","$compile","rpId","rpNetwork",function(e,n,s,o){function i(){e.account={},e.lines={},e.offers={},e.events=[],e.history=[],e.balances={},e.loadState=[]}function c(n,t){var r=o.remote;S=t.account,i(),r.set_secret(t.account,t.secret);var a=r.account(t.account);A=h,P=m,a.on("transaction",A),a.on("entry",function(n){e.$apply(function(){P(n)})}),a.entry(function(n){n&&(e.loadState.account=!0)}),r.request_account_lines(t.account).on("success",u).on("error",d).request(),r.request_account_tx({account:t.account,ledger_index_min:-1,descending:!0,limit:Options.transactions_per_page,count:!0}).on("success",g).on("error",v).request(),r.request_account_offers(t.account).on("success",p).on("error",f).request()}function l(e,n){var t=o.remote,r=t.account(n.account);r.removeListener("transaction",A),r.removeListener("entry",P)}function u(n){e.$apply(function(){e.lines={};for(var t=0,r=n.lines.length;r>t;t++){var a=n.lines[t];a=$.extend({},a,{limit:ripple.Amount.from_json({value:a.limit,currency:a.currency,issuer:a.account}),limit_peer:ripple.Amount.from_json({value:a.limit_peer,currency:a.currency,issuer:S}),balance:ripple.Amount.from_json({value:a.balance,currency:a.currency,issuer:S})}),e.lines[a.account+a.currency]=a,k(a.currency,a.account,a.balance)}console.log("lines updated:",e.lines),e.loadState.lines=!0})}function d(){e.$apply(function(){e.loadState.lines=!0})}function p(n){e.$apply(function(){n.offers.forEach(function(e){var n={seq:+e.seq,gets:ripple.Amount.from_json(e.taker_gets),pays:ripple.Amount.from_json(e.taker_pays),flags:e.flags};b(n)}),console.log("offers updated:",e.offers),e.loadState.offers=!0})}function f(){e.$apply(function(){e.loadState.offers=!0})}function m(n){var t=o.remote;e.account=n;var r=t._getServer(),s=e.account.OwnerCount||0;e.account.reserve_base=r.reserve(0),e.account.reserve=r.reserve(s),e.account.reserve_to_add_trust=r.reserve(s+1),e.account.reserve_low_balance=e.account.reserve.product_human(2);var i=a.from_json(n.Balance);e.account.max_spend=i.subtract(e.account.reserve),e.loadState.account=!0}function g(n){e.$apply(function(){e.history_count=n.count,e.tx_marker=n.marker,n.transactions&&n.transactions.reverse().forEach(function(e){y(e.tx,e.meta,!0)}),e.loadState.transactions=!0})}function v(){e.$apply(function(){e.loadState.transactions=!0})}function h(n){e.$apply(function(){y(n.transaction,n.meta)})}function y(n,t,a){var s=r.processTxn(n,t,S);if(s){var o=s.transaction;s.accountRoot&&m(s.accountRoot),"tesSUCCESS"===s.tx_result&&o&&!a&&e.$broadcast("$appTxNotification",o),"tesSUCCESS"===s.tx_result&&e.events.unshift(s),e.history.unshift(s),s.effects&&!a&&w(s.effects),s.effects&&!a&&s.effects.forEach(function(e){if(_.contains(["offer_created","offer_funded","offer_partially_funded","offer_cancelled"],e.type)){var n={seq:+e.seq,gets:e.gets,pays:e.pays,deleted:e.deleted,flags:e.flags};b(n)}})}}function b(n){n.flags&&n.flags===ripple.Remote.flags.offer.Sell?(n.type="sell",n.first=n.gets,n.second=n.pays):(n.type="buy",n.first=n.pays,n.second=n.gets),n.deleted?delete e.offers[""+n.seq]:e.offers[""+n.seq]=n}function w(n){$.isArray(n)&&$.each(n,function(){if(_.contains(["trust_create_local","trust_create_remote","trust_change_local","trust_change_remote","trust_change_balance","trust_change_no_ripple"],this.type)){var n=this,t={},r=n.counterparty+n.currency;if(t.currency=n.currency,t.account=n.counterparty,t.flags=n.flags,t.no_ripple=n.noRipple,n.balance&&(t.balance=n.balance,k(n.currency,n.counterparty,n.balance)),n.deleted)return delete e.lines[r],void 0;n.limit&&(t.limit=n.limit),n.limit_peer&&(t.limit_peer=n.limit_peer),e.lines[r]=$.extend(e.lines[r],t)}})}function k(n,t,r){e.balances[n]||(e.balances[n]={components:{},total:null});var a=e.balances[n];t&&(a.components[t]=r),$(a.components).sort(function(e,n){return e.compareTo(n)}),a.total=null;for(var s in a.components){var o=a.components[s];a.total=a.total?a.total.add(o):o}}function x(e,n){return e.order<n.order?1:e.order>n.order?-1:0}function q(){T()}i();var S;"object"==typeof rippleclient&&(rippleclient.id=s,rippleclient.net=o);var A,P;e.currencies_all=t(50),$.extend(!0,e.currencies_all,store.get("ripple_currencies_all")||{}),store.disabled||store.get("ripple_pairs_all")||store.set("ripple_pairs_all",t(51)),e.pairs_all=store.get("ripple_pairs_all")?store.get("ripple_pairs_all"):t(51),e.currencies_all.sort(x),e.pairs_all.sort(x),e.$watch("currencies_all",function(){store.disabled||store.set("ripple_currencies_all",e.currencies_all)},!0),e.$watch("pairs_all",function(){store.disabled||store.set("ripple_pairs_all",e.pairs_all)},!0),e.pairs=e.pairs_all.slice(1),e.app_loaded=!0,e.$on("$idAccountLoad",function(n,t){e.connected&&c(n,t),e.$on("$netConnected",function(){$.isEmptyObject(e.account)&&c(n,t)})}),e.$on("$idAccountUnload",l);var T=e.$on("$netConnected",q);o.listenId(s),o.init(),s.init(),this.reset=i,this.handleAccountLoad=c,this.handleAccountUnload=l,this.handleRippleLines=u,this.handleRippleLinesError=d,this.handleOffers=p,this.handleOffersError=f,this.handleAccountEntry=m,this.handleAccountTx=g,this.handleAccountTxError=v,this.handleAccountEvent=h,this.processTxn=y,this.updateOffer=b,this.updateLines=w,this.updateRippleBalance=k,this.compare=x,this.handleFirstConnection=q}])},3:function(e,n,t){ripple.Amount;var e=angular.module("status",[]);e.controller("StatusCtrl",["$scope","$element","$compile","rpId",function(e,n,r,a){function s(n){e.connected=!!n,n?p.find(".type-offline").remove():p.append('<div class="notification active type-offline">OFFLINE</div>')}function o(e){c.push(e),u||setImmediate(i)}function i(){if(f){f.removeClass("active");var n=f;setTimeout(function(){n.remove()},1e3),f=null}if(u=!1,c.length){e.$apply(function(){e.show_secondary=!1});var t=c.shift(),r=$(t);r.addClass("notification"),r.appendTo(p),setImmediate(function(){r.addClass("active")}),f=r,u=!0,setTimeout(i,l)}}var c=[],l=4e3,u=!1,d=t(52);e.toggle_secondary=function(){e.show_secondary=!e.show_secondary},e.$watch("balances",function(){e.orderedBalances=_.filter(e.balances,function(e){return!e.total.is_zero()}),e.orderedBalances.sort(function(e,n){return parseFloat(Math.abs(n.total.to_text()))-parseFloat(Math.abs(e.total.to_text()))}),e.balance_count=e.orderedBalances.length},!0),e.$watch("userCredentials",function(){var n=e.userCredentials.username;e.shortUsername=null,n&&n.length>25&&(e.shortUsername=n.substring(0,24)+"...")},!0),e.logout=function(){setImmediate(function(){a.logout()})},e.$on("$netConnected",function(){s(!0)}),e.$on("$netDisconnected",function(){s(!1)}),e.$on("$appTxNotification",function(n,t){var a=e.$new();a.tx=t;var s=d(a);if(s.length){var i=r(s)(a);o(i)}}),c.length&&i();var p=$("<div>").attr("id","notification").insertAfter(n);setTimeout(function(){s(e.connected)},3e3);var f=null;this.setConnectionStatus=s,this.enqueue=o,this.tick=i}])},4:function(e){var e=angular.module("charts",[]);e.directive("rpTrustLine",["$filter",function(e){function n(n,t){function r(e){return e=Math.min(e,y),e=Math.max(e,h),Math.round((e-h)*_+a)}var a=30,s=5,o=6,i=16,c=-10,l=n.canvas.width,u=n.canvas.height,d=l-2*a,p=Math.floor(u/2);n.clearRect(0,0,l,u);var f,m,g;try{f=-t.limit_peer.to_number(),m=t.limit.to_number(),g=t.balance.to_number()}catch(v){return}var h=Math.min(g,f),y=Math.max(g,m),_=d/(y-h);n.lineWidth=2,n.strokeStyle="#333",g>0?(n.beginPath(),n.rect(r(0),p-o,r(g)-r(0),o),n.fillStyle="green",n.fill()):(n.beginPath(),n.rect(r(g),p,r(0)-r(g),o),n.fillStyle=0===g?"black":"red",n.fill()),n.beginPath(),n.moveTo(r(f),p),n.lineTo(r(m),p),n.moveTo(r(f),p-s),n.lineTo(r(f),p+s),n.moveTo(r(m),p-s),n.lineTo(r(m),p+s),n.moveTo(r(0),p-s),n.lineTo(r(0),p+s),n.stroke();var b=e("rpamount"),w={rel_precision:0};n.font="11px sans-serif",n.textAlign="center",n.fillText(b(t.balance,w),r(g),p+c),n.fillStyle="#333";var k=b(t.limit_peer,w);0!==f&&(k="-"+k),f===m&&0===f?k="0 / 0":n.fillText(b(t.limit,w),r(m),p+i),n.fillText(k,r(f),p+i)}return{restrict:"E",template:'<canvas width="200" height="50">',scope:{data:"=rpLineData"},link:function(e,t){var r=t.find("canvas")[0].getContext("2d");n(r,e.data),e.$watch("data",function(){n(r,e.data)},!0)}}}])},5:function(e,n,t){var r=t(46),e=angular.module("fields",[]);e.directive("rpCombobox",[function(){return{restrict:"A",require:"?ngModel",link:function(e,n,t,a){function s(e){n.parent()[e?"addClass":"removeClass"]("active"),f[e?"fadeIn":"fadeOut"]("fast")}function o(){var n,o=a.$viewValue,l=[],u=null;if(n=e.$eval(t.rpCombobox),"function"!=typeof n&&(n=r.queryFromOptions(n)),"string"==typeof o&&o.length){var d=r.escapeRegExp(o);u=new RegExp("("+d+")","i"),l=n(o,u)}return l.length?(i(l,u),c(),void 0):(s(!1),void 0)}function i(e,t){f.empty(),p=-1,e.forEach(function(e){e=d(e),t&&(e=e.replace(t,"<u>$1</u>"));var r=$("<li>"+e+"</li>");n.parent().find(".completions").append(r)})}function c(){var e=f.children(),t=!!e.length;1===e.length&&e.eq(0).text()===n.val()&&(t=!1),s(t)}function l(){var e=f.find("li");p=Math.max(p,0),p=Math.min(p,e.length-1),e.removeClass("cursor"),e.eq(p).addClass("cursor")}function u(t){var r=$(t).text();e.$apply(function(){n.val(r),a.$setViewValue(r),s(!1)})}function d(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}var p=-1;n.wrap('<div class="rp-combobox">'),n.attr("autocomplete","off");var f=$('<ul class="completions"></ul>').hide();if(n.parent().append(f),t.rpComboboxSelect){var m=$("<div>").appendTo(n.parent());m.addClass("select"),m.mousedown(function(e){e.preventDefault()}),m.click(function(){var a=e.$eval(t.rpCombobox);"function"!=typeof a&&(a=r.queryFromOptions(a)),i(a()),f.is(":visible")?n.blur():(i(a()),n.focus())})}n.keydown(function(e){if(38===e.which||40===e.which)f.children().length||o(),e.preventDefault(),38===e.which?p--:p++,l();else if(13===e.which){var n=f.find("li.cursor");f.is(":visible")&&e.preventDefault(),1===f.find("li").length?u(f.find("li")):1===n.length&&u(n)}else 27===e.which&&s(!1)}),n.keyup(function(e){e.which>=37&&e.which<=40||13!==e.which&&27!==e.which&&o()}),n.focus(function(){p=-1,c()}),n.blur(function(){s(!1)}),f.mousedown(function(e){e.preventDefault()}),f.on("click","li",function(){u(this)})}}}]),e.directive("rpDatepicker",[function(){return{restrict:"A",require:"?ngModel",link:function(e,n,t,r){t.$observe("rpDatepicker",function(){var a=$(n).datepicker();a.on("changeDate",function(n){e.$apply(function(){r.$setViewValue(n.date.getMonth()?n.date:new Date(n.date))})}),e.$watch(t.ngModel,function(){function e(e){return"0"==e||"false"==e}var n=r.$viewValue;(e(t.ignoreInvalidUpdate)||!(null==n||n instanceof Date&&isNaN(n.getYear())))&&a.datepicker("setValue",n).datepicker("update")})})}}}])},6:function(e){var e=angular.module("effects",[]);e.directive("rpAnimate",function(){return{restrict:"A",link:function(e,n,t){("rp-animate"===t.rpAnimate||e.$eval(t.rpAnimate))&&(n=jQuery(n),n.hide(),n.fadeIn(600),n.css("background-color","#E2F5E4"),n.addClass("rp-animate-during rp-animate"),n.animate({"background-color":"#fff"},{duration:600,complete:function(){n.removeClass("rp-animate-during").addClass("rp-animate-after")}}))}}})},7:function(e,n,t){var r=t(46),a=ripple.Base;ripple.Amount;var e=angular.module("validators",[]);e.directive("rpMasterKey",function(){return{restrict:"A",require:"?ngModel",link:function(e,n,t,r){if(r){var s=function(e){return e&&!a.decode_check(33,e)?(r.$setValidity("rpMasterKey",!1),void 0):(r.$setValidity("rpMasterKey",!0),e)};r.$formatters.push(s),r.$parsers.unshift(s),t.$observe("rpMasterKey",function(){s(r.$viewValue)})}}}}),e.directive("rpDest",function(){var e=/^\S+@\S+\.[^\s.]+$/;return{restrict:"A",require:"?ngModel",link:function(n,t,s,o){if(o){var i=function(t){var i=r.stripRippleAddress(t),c=ripple.UInt160.from_json(i);return o.rpDestType=null,s.rpDestAddress&&c.is_valid()?(o.rpDestType="address",o.$setValidity("rpDest",!0),t):s.rpDestContact&&n.userBlob&&r.getContact(n.userBlob.data.contacts,i)?(o.rpDestType="contact",o.$setValidity("rpDest",!0),t):s.rpDestBitcoin&&!isNaN(a.decode_check([0,5],i,"bitcoin"))?(o.rpDestType="bitcoin",o.$setValidity("rpDest",!0),t):s.rpDestEmail&&e.test(i)?(o.rpDestType="email",o.$setValidity("rpDest",!0),t):(o.$setValidity("rpDest",!1),void 0)};o.$formatters.push(i),o.$parsers.unshift(i),s.$observe("rpDest",function(){i(o.$viewValue)})}}}}),e.directive("rpStdt",function(){return{restrict:"A",require:"?ngModel",link:function(e,n,t,r){if(r){var a=function(e){return!e||!isNaN(parseFloat(e))&&isFinite(e)&&e>=0&&e<Math.pow(2,32)-1?(r.$setValidity("rpStdt",!0),e):(r.$setValidity("rpStdt",!1),void 0)};r.$formatters.push(a),r.$parsers.unshift(a),t.$observe("rpStdt",function(){a(r.$viewValue)})}}}}),e.directive("rpNotMe",function(){return{restrict:"A",require:"?ngModel",link:function(e,n,t,a){if(a){var s=function(n){var t=r.getContact(e.userBlob.data.contacts,n);return n&&(t&&t.address===e.userBlob.data.account_id||e.userBlob.data.account_id===n)?(a.$setValidity("rpNotMe",!1),void 0):(a.$setValidity("rpNotMe",!0),n)};a.$formatters.push(s),a.$parsers.unshift(s),t.$observe("rpNotMe",function(){s(a.$viewValue)})}}}}),e.directive("rpIssuer",function(){return{restrict:"A",require:"?ngModel",link:function(e,n,t,a){if(a){var s=function(n){if(!n)return a.$setValidity("rpIssuer",!1),void 0;var t=n.slice(0,3).toUpperCase();return"XRP"===t||r.findIssuer(e.lines,t)?(a.$setValidity("rpIssuer",!0),n):(a.$setValidity("rpIssuer",!1),void 0)};a.$formatters.push(s),a.$parsers.unshift(s),t.$observe("rpIssuer",function(){s(a.$viewValue)})}}}}),e.directive("rpSameInSet",[function(){return{require:"ngModel",link:function(e,n,t,r){function a(e){var n=e!==r.$modelValue?r.$modelValue:e!==r.$viewValue?r.$viewValue:e;return e!==n&&(s[n]=(s[n]||1)-1,0===s[n]&&delete s[n],e&&(s[e]=(s[e]||0)+1)),e}var s=e.$eval(t.rpSameInSet);r.$formatters.push(a),r.$parsers.push(a),e.$watch(function(){return 1===_.size(s)},function(e){r.$setValidity("rpSameInSet",e)})}}}]),e.directive("rpUnique",function(){return{restrict:"A",require:"?ngModel",link:function(e,n,t,r){if(r){var a=function(n){var a=e.$eval(t.rpUnique)||[];if(t.rpUniqueOrig&&n===e.$eval(t.rpUniqueOrig))r.$setValidity("rpUnique",!0);else if(t.rpUniqueField){for(var s=0,o=a.length;o>s;s++)if(a[s][t.rpUniqueField]===n)return r.$setValidity("rpUnique",!1),void 0;r.$setValidity("rpUnique",!0)}else r.$setValidity("rpUnique",-1===a.indexOf(n));return n};r.$formatters.push(a),r.$parsers.unshift(a),e.$watch(t.rpUnique,function(){a(r.$viewValue)},!0)}}}}),e.directive("rpStrongPassword",function(){return{restrict:"A",require:"?ngModel",link:function(e,n,t,r){if(r){var a=function(n){var t=0,a=""+e.username;return n?n.length<6?(r.$setValidity("rpStrongPassword",!1),e.strength="weak",void 0):n.toLowerCase()===a.toLowerCase()?(r.$setValidity("rpStrongPassword",!1),e.strength="weak",void 0):(checkRepetition=function(e,n){for(var t="",r=0;r<n.length;r++){for(var a=!0,s=0;e>s&&s+r+e<n.length;s++)a=a&&n.charAt(s+r)===n.charAt(s+r+e);e>s&&(a=!1),a?(r+=e-1,a=!1):t+=n.charAt(r)}return t},t+=4*n.length,t+=1*(checkRepetition(1,n).length-n.length),t+=1*(checkRepetition(2,n).length-n.length),t+=1*(checkRepetition(3,n).length-n.length),t+=1*(checkRepetition(4,n).length-n.length),n.match(/(.*[0-9].*[0-9].*[0-9])/)&&(t+=5),n.match(/(.*[!,@,#,$,%,&,*,?,_,~].*[!,@,#,$,%,&,*,?,_,~])/)&&(t+=5),n.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)&&(t+=10),n.match(/([a-zA-Z])/)&&n.match(/([0-9])/)&&(t+=15),n.match(/([!,@,#,$,%,&,*,?,_,~])/)&&n.match(/([0-9])/)&&(t+=15),n.match(/([!,@,#,$,%,&,*,?,_,~])/)&&n.match(/([a-zA-Z])/)&&(t+=15),(n.match(/^\w+$/)||n.match(/^\d+$/))&&(t-=10),0>t&&(t=0),t>100&&(t=100),34>t?(r.$setValidity("rpStrongPassword",!1),e.strength="weak",void 0):(r.$setValidity("rpStrongPassword",!0),68>t?(e.strength="medium",n):(e.strength="strong",n))):(e.strength="",n)};r.$formatters.push(a),r.$parsers.unshift(a),t.$observe("rpStrongPassword",function(){a(r.$viewValue)})}}}}),e.directive("rpAmount",function(){return{restrict:"A",require:"?ngModel",link:function(e,n,t,r){if(r){var a=function(e){e&&-1!=e.toString().indexOf(",")&&(e=e.split(",").join(""));var n=parseFloat(e);return r.$setValidity("rpAmount",n==e),n?n:e};r.$formatters.push(a),r.$parsers.unshift(a)}}}}),e.directive("rpAmountPositive",function(){return{restrict:"A",require:"?ngModel",link:function(e,n,t,r){if(r){var a=function(e){return r.$setValidity("rpAmountPositive",e>0),e};r.$formatters.push(a),r.$parsers.unshift(a)}}}}),e.directive("rpAmountXrpLimit",function(){return{restrict:"A",require:"?ngModel",link:function(e,n,t,r){if(r){var a=function(e){var n=t.rpAmountXrpLimitCurrency;return n&&"xrp"===n.toLowerCase()?r.$setValidity("rpAmountXrpLimit",1e11>=e&&e>=1e-6):r.$setValidity("rpAmountXrpLimit",!0),e};r.$formatters.push(a),r.$parsers.unshift(a),t.$observe("rpAmountXrpLimitCurrency",function(){a(r.$viewValue)})}}}}),e.directive("rpPortNumber",function(){return{restrict:"A",require:"?ngModel",link:function(e,n,t,r){if(r){var a=function(e){return r.$setValidity("rpPortNumber",parseInt(e,10)==e&&e>=1&&65535>=e),e};r.$formatters.push(a),r.$parsers.unshift(a),t.$observe("rpPortNumber",function(){a(r.$viewValue)})}}}}),e.directive("rpHostname",function(){return{restrict:"A",require:"?ngModel",link:function(e,n,t,r){function a(e){var n=/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$|^(([a-zA-Z]|[a-zA-Z][a-zA-Z0-9\-_]*[a-zA-Z0-9])\.)*([A-Za-z]|[A-Za-z][A-Za-z0-9\-]*[A-Za-z0-9])$|^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/.test(e);return n}if(r){var s=function(e){return r.$setValidity("rpHostname",a(e)),e};r.$formatters.push(s),r.$parsers.unshift(s),t.$observe("rpHostname",function(){s(r.$viewValue)})}}}}),e.directive("rpNotXrp",function(){return{restrict:"A",require:"?ngModel",link:function(e,n,t,r){if(r){var a=function(e){return r.$setValidity("rpNotXrp",!e||"xrp"!==e.toLowerCase()),e};r.$formatters.push(a),r.$parsers.unshift(a),t.$observe("rpNotXrp",function(){a(r.$viewValue)})}}}}),e.directive("rpEmail",function(){return{restrict:"A",require:"?ngModel",link:function(e,n,t,r){if(r){var a=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,s=function(e){return r.$setValidity("rpEmail",a.test(e)),e};r.$formatters.push(s),r.$parsers.unshift(s),t.$observe("rpEmail",function(){s(r.$viewValue)})}}}})},8:function(e){var e=angular.module("events",[]);e.directive("ngEnter",function(){return function(e,n,t){n.bind("keypress",function(n){13===n.charCode&&e.$apply(t.ngEnter)})}})},9:function(e,n,t){var r=t(46),e=angular.module("formatters",["domainalias"]);e.directive("rpPrettyIssuer",["rpDomainAlias",function(e){return{restrict:"EA",scope:{issuer:"=rpPrettyIssuer",contacts:"=rpPrettyIssuerContacts"},template:"{{alias || name || issuer}}",compile:function(){return function(n,t,a){function s(){if(!n.issuer)return n.alias=a.rpPrettyIssuerDefault?a.rpPrettyIssuerDefault:"???",void 0;var t=e.getAliasForAddress(n.issuer);n.alias=null,t.then(function(e){n.alias=e}),n.name=null,n.contacts&&(n.name=r.isContact(n.contacts,n.issuer)),!n.name&&a.rpPrettyIssuerOrShort&&(n.name=""+n.issuer.substring(0,7)+"…")}n.$watch("issuer",s),n.$watch("contacts",s,!0),s()}}}}]),e.directive("rpBindColorAmount",function(){return{restrict:"A",compile:function(){return function(e,n,t){e.$watch(t.rpBindColorAmount,function(e){if(e){var t=e.split("."),r=t[1].replace(/0(0+)$/,'0<span class="insig">$1</span>');n[0].innerHTML=r.length>0?t[0]+"."+r:t[0]}})}}}})},10:function(e){var e=angular.module("directives",["popup"]);e.directive("inlineEdit",function(){var e='<span ng-hide="mode">{{model}}</span>',n='<input ng-show="mode" ng-model="model" />';return{restrict:"E",scope:{model:"=",mode:"="},template:e+n}});var n="rp-errors";e.directive("rpErrors",[function(){return{restrict:"EA",compile:function(e,t){var r=t.rpErrors||t.on,a={};return e.data(n,a),function(e,n){function s(){var s=l[r];if(s){var u=s&&s.$error;i&&(c.$destroy(),i.remove(),i=c=null),s.$pristine||(o=!1,$.each(a,function(e,n){return e.length<=1?void 0:u&&u[e.slice(1)]?(o=n,!1):void 0}),!o&&a["+"]&&s.$valid&&(o=a["+"]),!o&&a["?"]&&s.$invalid&&(o=a["?"]),o&&(e.$eval(t.change),c=e.$new(),o(c,function(e){i=e,n.append(e)})))}}var o,i,c,l=n.inheritedData("$formController"),u=l.$name;e.$watch(u+"."+r+".$error",s,!0),e.$watch(u+"."+r+".$pristine",s)}}}}]),e.directive("rpErrorOn",[function(){return{transclude:"element",priority:500,compile:function(e,t,r){var a=e.inheritedData(n);a&&(a["!"+t.rpErrorOn]=r)}}}]),e.directive("rpErrorUnknown",[function(){return{transclude:"element",priority:500,compile:function(e,t,r){var a=e.inheritedData(n);a&&(a["?"]=r)}}}]),e.directive("rpErrorValid",[function(){return{transclude:"element",priority:500,compile:function(e,t,r){var a=e.inheritedData(n);a&&(a["+"]=r)}}}]),e.directive("rpConfirm",["rpPopup",function(e){return{restrict:"E",link:function(n,t,r){var a={};t.find("a,button").click(function(t){t.preventDefault(),e.confirm(r.title,r.actionText,r.actionButtonText,r.actionFunction,r.actionButtonCss,r.cancelButtonText,r.cancelFunction,r.cancelButtonCss,n,a)})}}}]),e.directive("rpPopup",["rpPopup",function(e){return{restrict:"E",link:function(n,t){t.find("a[rp-popup-link]").click(function(r){r.preventDefault(),e.blank((new XMLSerializer).serializeToString(t.find("[rp-popup-content]")[0]),n)})}}}]),e.directive("rpDownload",[function(){return{restrict:"A",scope:{data:"=rpDownload",filename:"@rpDownloadFilename"},compile:function(){return function(e,n){var t=n.find("[rp-download-trigger]");t.length||(t=n),"download"in document.createElement("a")?(e.$watch("data",function(e){t.attr("href","data:text/plain,"+e)}),e.$watch("filename",function(e){t.attr("download",e)})):swfobject.hasFlashPlayerVersion("10.0.0")&&(n.css("position","relative"),setImmediate(function(){var r=t.innerWidth(),a=t.innerHeight(),s=t.offset(),o=n.offset(),i=s.top-o.top,c=s.left-o.left,l=Downloadify.create(n[0],{filename:function(){return e.filename},data:function(){return e.data},transparent:!0,swf:"swf/downloadify.swf",downloadImage:"img/transparent_l.gif",width:r,height:a,append:!0}),u=l.flashContainer.id;$("#"+u).css({position:"absolute",top:i+"px",left:c+"px"})}))}}}}]),e.directive("rpTooltip",[function(){return function(e,n,t){t.$observe("rpTooltip",function(e){var r={title:e};t.rpTooltipPlacement&&(r.placement=t.rpTooltipPlacement),$(n).tooltip("destroy"),$(n).tooltip(r)})}}]),e.directive("rpPopover",[function(){return function(e,n,t){t.rpPopoverTrigger||(t.rpPopoverTrigger="click"),$(n).popover({html:!0,placement:t.rpPopoverPlacement,title:t.rpPopoverTitle,trigger:t.rpPopoverTrigger}),$("html").click(function(){$(n).popover("hide")}),$(n).click(function(e){e.stopPropagation()})}}]),e.directive("rpAutofill",["$parse",function(){return{restrict:"A",require:"?ngModel",link:function(e,n,t,r){r&&e.$watch(t.rpAutofill,function(a){if(a){if(t.rpAutofillAmount||t.rpAutofillCurrency){a===""+parseInt(a,10)&&(a+=".0");var s=ripple.Amount.from_json(a);if(!s.is_valid())return;a=t.rpAutofillAmount?+s.to_human({group_sep:!1}):s.currency().to_json()}n.val(a),r.$setViewValue(a),e.$eval(t.rpAutofillOn)}},!0)}}}]),e.directive("rpSelectEl",[function(){return{restrict:"A",scope:{target:"@rpSelectEl"},link:function(e,n){n.click(function(){var n=document,t=n.getElementById(e.target);if(n.body.createTextRange){var r=n.body.createTextRange();r.moveToElementText(t),r.select()}else if(window.getSelection){var a=window.getSelection(),s=n.createRange();s.selectNodeContents(t),a.removeAllRanges(),a.addRange(s)}})}}}]),e.directive("rpNoPropagate",[function(){return{restrict:"A",link:function(e,n){n.click(function(e){e.stopPropagation()})}}}]),e.directive("rpSpinner",[function(){return{restrict:"A",link:function(e,n,t){var r=null;t.$observe("rpSpinner",function(e){n.removeClass("spinner"),r&&(r.stop(),r=null),e>0&&(n.addClass("spinner"),r=new Spinner({lines:9,length:3,width:2,radius:e,className:"spinnerInner"}).spin(n[0]))})}}}]),e.directive("ngUpload",function(){return{restrict:"A",link:function(e,n,t){var r={};if(r.enableControls=t.uploadOptionsEnableControls,t.ngUpload){n.attr("target","upload_iframe"),n.attr("method","post"),n.attr("action",n.attr("action")+"?_t="+(new Date).getTime()),n.attr("enctype","multipart/form-data"),n.attr("encoding","multipart/form-data");var a=t.ngUpload.split("(")[0],s=e.$eval(a);if(null===s||void 0===s||!angular.isFunction(s)){var o="The expression on the ngUpload directive does not point to a valid function.";throw o+"\n"}var i=function(t){var r=$("<iframe id='upload_iframe' name='upload_iframe' border='0' width='0' height='0' style='width: 0px; height: 0px; border: none; display: none' />");r.bind("load",function(){var n=r.contents().find("body").text();e.$apply(function(){s(n,""!==n)}),""!==n&&setTimeout(function(){r.remove()},250),t.attr("disabled",null),t.attr("title","Click to start upload.")}),n.parent().append(r)};$(".upload-submit",n).click(function(){i($(this)),e.$apply(function(){s("Please wait...",!1)});var t=!0;(null===r.enableControls||void 0===r.enableControls||r.enableControls.length>=0)&&($(this).attr("disabled","disabled"),t=!1),$(this).attr("title",(t?"[ENABLED]: ":"[DISABLED]: ")+"Uploading, please wait..."),$(n).submit()}).attr("title","Click to start upload.")}else console.log("No callback function found on the ngUpload directive.")}}}),e.directive("rpFocus",["$timeout",function(e){return function(n,t){e(function(){n.$watch(function(){return t.is(":visible")},function(e){e===!0&&t.focus()})})}}]),e.directive("rpOffCanvasMenu",function(){return{restrict:"A",link:function(e,n){n.find("h2").click(function(){n.parent().toggleClass("off-canvas-nav-expand")})}}}),e.directive("rpSnapper",["rpId",function(e){return function(n){var t=n.$watch(function(){return e.loginStatus},function(){var n;if(e.loginStatus){setImmediate(function(){n=new Snap({element:document.getElementById("wrapper"),disable:"right"}),r(),$(".snapper-toggle").click(function(){"closed"==n.state().state?n.open("left"):n.close()}),$(".mobile-nav").find("a").click(function(){n.close()})}),$(window).resize(function(){r()});var r=function(){"object"==typeof n&&($(window).width()>991?(n.close(),n.disable()):($(".mobile-nav").show(),n.enable()))};t()}})}}])},11:function(e){var e=angular.module("datalinks",[]);e.directive("rpLinkTx",["$location",function(e){return{restrict:"A",link:function(n,t,r){var a;n.$watch(r.rpLinkTx,function(e){a="/tx?id="+e}),t.click(function(){n.$apply(function(){a&&e.url(a)})})}}}])},12:function(e,n,t){var e=angular.module("jade",[]);e.directive("rpJadeReplace",["$rootScope","$compile",function(e,n){return{restrict:"A",scope:!1,link:function(r,a,s){r={parent:r.$parent,root:e}[s.scope]||r,template=t(44)("./"+s.rpJadeReplace)(),n(template)(r,function(e){a.replaceWith(e)})}}}])},13:function(e,n,t){var e=angular.module("errors",[]);e.directive("rpTransactionStatus",function(){return{restrict:"E",template:t(66),scope:{engine_result:"@rpEngineResult",engine_result_message:"@rpEngineResultMessage",accepted:"@rpAccepted"},link:function(){}}})},14:function(e,n,t){var e=angular.module("filters",[]),r=t(46),a=ripple.Amount,s=ripple.Base,o=t(67);e.filter("rpamount",function(){return function(e,n){if("number"==typeof n?n={rel_min_precision:n}:"object"!=typeof n&&(n={}),!e)return"n/a";n.xrp_human&&e===""+parseInt(e,10)&&(e+=".0");var t=a.from_json(e);if(!t.is_valid())return"n/a";var r=o[t.currency().to_json()],s="undefined"!=typeof r?r[1]:4;"number"==typeof n.rel_precision&&(n.precision=s+n.rel_precision),"number"==typeof n.rel_min_precision&&(n.min_precision=s+n.rel_min_precision),"number"!=typeof n.precision&&(n.precision=16),"number"!=typeof n.max_sig_digits&&(n.max_sig_digits=5);
var i=t.to_human(n);return i.length>1&&0===+i&&!n.hard_precision&&(n.precision=20,i=t.to_human(n)),i}}),e.filter("rpcurrency",function(){return function(e){if(!e)return"";var n=a.from_json(e);return n.currency().to_json()}}),e.filter("rpissuer",function(){return function(e){if(!e)return"";var n=a.from_json(e);return n.issuer().to_json()}}),e.filter("rpcurrencyfull",["$rootScope",function(e){return function(n){if(!n)return"";var t=a.from_json(n),r=$.grep(e.currencies_all,function(e){return e.value==t.currency().to_json()})[0];return r?r.name:t.currency().to_json()}}]),e.filter("rpamountratio",function(){return function(e,n){try{return a.from_json(e).ratio_human(n)}catch(t){return a.NaN()}}}),e.filter("rpamountadd",function(){return function(e,n){try{return n=a.from_json(n),n.is_zero()?e:a.from_json(e).add(n)}catch(t){return a.NaN()}}}),e.filter("rpamountsubtract",function(){return function(e,n){try{return a.from_json(e).subtract(n)}catch(t){return a.NaN()}}}),e.filter("rpfromnow",function(){return function(e){return moment(e).fromNow()}}),e.filter("rpcontactname",["$rootScope",function(e){return function(n){n=n?""+n:"";var t=r.getContact(e.userBlob.data.contacts,n);return t?t.name:""+n.substring(0,7)+"…"}}]),e.filter("rpcontactnamefull",["$rootScope",function(e){return function(n){n=n?""+n:"";var t=r.getContact(e.userBlob.data.contacts,n);return t?t.name:""+n}}]),e.filter("rponlycontactname",["$rootScope",function(e){return function(n){n=n?""+n:"";var t=r.getContact(e.userBlob.data.contacts,n);return t?t.name:void 0}}]),e.filter("rpmask",function(){return function(e){return e=""+e,Array(e.length+1).join("•")}}),e.filter("rptruncate",function(){return function(e,n){return e?e.slice(0,n):""}}),e.filter("rpfilesize",function(){function e(e,n,t,r){var a=e,s=isNaN(n=Math.abs(n))?2:n,o=void 0===t?",":t,i=void 0===r?".":r,c=0>a?"-":"",l=parseInt(a=Math.abs(+a||0).toFixed(s),10)+"",u=(u=l.length)>3?u%3:0;return c+(u?l.substr(0,u)+i:"")+l.substr(u).replace(/(\d{3})(?=\d)/g,"$1"+i)+(s?o+Math.abs(a-l).toFixed(s).slice(2):"")}var n=1e3,t="kMGTPE",r="B";return function(a){var s=+a;if(n>s)return s+" B";var o=Math.floor(Math.log(s)/Math.log(n)),i=" "+t[o-1]+r;return e(s/Math.pow(n,o),2,".","")+i}}),e.filter("rpucfirst",function(){return function(e){return e=""+e,e.charAt(0).toUpperCase()+e.slice(1)}}),e.filter("rprange",function(){return function(e){var n,t;switch(e.length){case 1:n=0,t=parseInt(e[0],10)-1;break;case 2:n=parseInt(e[0],10),t=parseInt(e[1],10);break;default:return e}for(var r=[],a=n;t>=a;a++)r.push(a);return r}}),e.filter("rpaddressorigin",function(){return function(e){return isNaN(s.decode_check([0,5],e,"bitcoin"))?"ripple":"bitcoin"}})},15:function(){var e=angular.module("app.globals",[]);e.constant("store",store),e.constant("Options",Options)},16:function(e,n,t){var r=(t(42),t(45)),a=t(1).RippleAddress,e=angular.module("id",["blob"]);e.factory("rpId",["$rootScope","$location","$route","$routeParams","rpOldBlob",function(e,n,t,s,o){var i=function(){this.account=null,this.loginStatus=!1,this.blobBackends=store.get("ripple_blobBackends")?store.get("ripple_blobBackends"):["vault","local"]};return i.minimumBlob={data:{contacts:[],preferred_issuer:{},preferred_second_issuer:{}},meta:[]},i.defaultBlob=i.minimumBlob,i.normalizeUsername=function(e){return e=""+e,e=e.trim()},i.normalizePassword=function(e){return e=""+e,e=e.trim()},i.prototype.init=function(){for(var n=this,t=0;8>t;t++)sjcl.random.addEntropy(Math.random(),32,"Math.random()");e.blobBackendCollections=[{name:"Payward",value:"vault"},{name:"Payward, Local Browser",value:"vault,local"},{name:"Local Browser",value:"local"}];var r=store.get("ripple_blobBackends")?$.grep(e.blobBackendCollections,function(e){return e.value==store.get("ripple_blobBackends")})[0]:e.blobBackendCollections[1];if(e.blobBackendCollection={something:r},e.userBlob=i.defaultBlob,e.userCredentials={},e.$watch("userBlob",function(){e.$broadcast("$blobUpdate"),n.username&&n.password&&o.set(n.blobBackends,n.username.toLowerCase(),n.password,e.userBlob,function(){e.$broadcast("$blobSave")})},!0),e.$on("$blobUpdate",function(){!e.address&&e.userBlob.data.account_id&&(e.address=e.userBlob.data.account_id)}),Options.persistent_auth&&store.get("ripple_auth")){var a=store.get("ripple_auth");n.loginStatus=!0,this.login(a.username,a.password,function(){})}},i.prototype.setUsername=function(n){this.username=n,e.userCredentials.username=n,e.$broadcast("$idUserChange",{username:n})},i.prototype.setPassword=function(n){this.password=n,e.userCredentials.password=n},i.prototype.setAccount=function(n,t){null!==this.account&&e.$broadcast("$idAccountUnload",{account:n}),this.account=n,e.userCredentials.account=n,e.userCredentials.master_seed=t,e.$broadcast("$idAccountLoad",{account:n,secret:t})},i.prototype.isReturning=function(){return!!store.get("ripple_known")},i.prototype.isLoggedIn=function(){return this.loginStatus},i.prototype.storeLogin=function(e,n){Options.persistent_auth&&!store.disabled&&store.set("ripple_auth",{username:e,password:n})},i.prototype.register=function(n,t,s,c){var l=this;c=c?c:r.encode_base_check(33,sjcl.codec.bytes.fromBits(sjcl.random.randomWords(4))),"function"!=typeof s&&(s=$.noop),n=i.normalizeUsername(n),t=i.normalizePassword(t);var u={data:{master_seed:c,account_id:new a(c).getAddress(),contacts:[]},meta:{created:(new Date).toJSON(),modified:(new Date).toJSON()}};o.set(l.blobBackends,n.toLowerCase(),t,u,function(){e.userBlob=u,l.setUsername(n),l.setPassword(t),l.setAccount(u.data.account_id,u.data.master_seed),l.storeLogin(n,t),l.loginStatus=!0,e.$broadcast("$blobUpdate"),store.set("ripple_known",!0),s(u.data.master_seed)})},i.prototype.exists=function(e,n,t){var r=this;e=i.normalizeUsername(e),n=i.normalizePassword(n),o.get(r.blobBackends,e.toLowerCase(),n,function(e,n){!e&&n?t(null,!0):t(null,!1)})},i.prototype.login=function(n,t,r){var a=this;"function"!=typeof r&&(r=$.noop),n=i.normalizeUsername(n),t=i.normalizePassword(t),o.get(a.blobBackends,n.toLowerCase(),t,function(s,c){if(s)return r(s),void 0;var l=o.decrypt(n.toLowerCase(),t,c);if(!l){var u="Unable to decrypt blob (Username / Password is wrong)";return r(new Error(u)),void 0}if(l.old&&!a.allowOldBlob){var d=new Error("Old blob format detected");return d.name="OldBlobError",r(d),void 0}$.extend(!0,l,i.minimumBlob),e.userBlob={data:l.data,meta:l.meta},a.setUsername(n),a.setPassword(t),a.setAccount(l.data.account_id,l.data.master_seed),a.storeLogin(n,t),a.loginStatus=!0,e.$broadcast("$blobUpdate"),store.set("ripple_known",!0),l.data.account_id?r(null):r(new Error("Blob format unrecognized!"))})},i.prototype.logout=function(){store.remove("ripple_auth");var e=location.port.length>0?":"+location.port:"";location.href=location.protocol+"//"+location.hostname+e+location.pathname},i.prototype.goId=function(){if(!this.isLoggedIn()){if(_.size(s)){var e=t.current.tabName;n.search("tab",e)}this.isReturning()?n.path("/login"):n.path("/register")}},new i}])},17:function(e){var e=angular.module("tracker",[]);e.factory("rpTracker",["$rootScope",function(){var e=function(e,n){Options.mixpanel&&Options.mixpanel.track&&mixpanel.track(e,n)};return{track:e}}])},18:function(e,n,t){var r=t(46);t(47);var e=angular.module("blob",[]);e.factory("rpOldBlob",["$rootScope",function(e){function n(e){return Array.isArray(e)||(e=[e]),e=e.map(function(e){return"string"==typeof e?a.backends[e]:e})}function t(e,n){this.name="BlobError",this.message=e||"",this.backend=n||"generic"}var a=function(){this.data={},this.meta={}};a.get=function(r,s,o,i){function c(n,r){console.warn("Backend failed:",r.name,n.toString()),"string"==typeof n?n=new t(n,r.name):n instanceof t||(n=new t(n.message,r.name)),e.$broadcast("$blobError",n),l(n)}function l(e){r.length?a.get(r,s,o,i):i(e)}r=n(r);var u=r.shift(),d=sjcl.codec.hex.fromBits(sjcl.hash.sha256.hash(s+o));try{u.get(d,function(n,t){setImmediate(function(){e.$apply(function(){return n?(c(n,u),void 0):(t?i(null,t):c("Wallet not found (Username / Password is wrong)",u),void 0)})})})}catch(p){c(p,u)}},a.enc=function(e,n,t){"object"==typeof t.data.contacts&&(t.data.contacts=angular.fromJson(angular.toJson(t.data.contacts)));var r=""+e.length+"|"+e+n;return btoa(sjcl.encrypt(r,JSON.stringify(t.data),{iter:1e3,adata:JSON.stringify(t.meta),ks:256}))},a.set=function(e,t,r,s,o){"function"!=typeof o&&(o=$.noop),e=n(e);var i=sjcl.codec.hex.fromBits(sjcl.hash.sha256.hash(t+r)),c=a.enc(t,r,s);e.forEach(function(e){e.set(i,c,o)})},a.decrypt=function(e,n,t){function r(e,n){var t=new a;return t.data=JSON.parse(sjcl.decrypt(e,n)),t.meta=JSON.parse(unescape(JSON.parse(n).adata)),t}var s;try{return s=""+e.length+"|"+e+n,r(s,atob(t))}catch(o){console.log("Blob decryption failed with new-style key:",o.toString());try{s=e+n;var i=r(s,atob(t));return i.old=!0,i}catch(c){return console.log("Blob decryption failed with old-style key:",c.toString()),!1}}};var s={name:"Payward",get:function(e,n){var t=Options.blobvault;-1===t.indexOf("://")&&(t="http://"+t),$.ajax({url:t+"/"+e,timeout:8e3}).success(function(e){n(null,e)}).error(r.getAjaxErrorHandler(n,"BlobVault GET"))},set:function(e,n,t){var a=Options.blobvault;-1===a.indexOf("://")&&(a="http://"+a),$.post(a+"/"+e,{blob:n}).success(function(e){t(null,e)}).error(r.getAjaxErrorHandler(t,"BlobVault SET"))}},o={name:"Local browser",get:function(e,n){console.log("local get","ripple_blob_"+e);var t=store.get("ripple_blob_"+e);n(null,t)},set:function(e,n,t){store.disabled||store.set("ripple_blob_"+e,n),t()}};return a.backends={vault:s,local:o},t.prototype=Error.prototype,a.BlobError=t,a}])},19:function(e){var e=angular.module("network",[]);e.factory("rpNetwork",["$rootScope",function(e){var n=function(){this.remote=new ripple.Remote(Options.server,!0),this.remote.on("connected",this.handleConnect.bind(this)),this.remote.on("disconnected",this.handleDisconnect.bind(this)),this.connected=!1};return n.prototype.init=function(){this.remote.connect()},n.prototype.listenId=function(){},n.prototype.handleConnect=function(){var n=this;e.$apply(function(){n.connected=!0,e.connected=!0,e.$broadcast("$netConnected")})},n.prototype.handleDisconnect=function(){var n=this;e.$apply(function(){n.connected=!1,e.connected=!1,e.$broadcast("$netDisconnected")})},new n}])},20:function(e){var e=angular.module("books",["network"]),n=ripple.Amount;e.factory("rpBooks",["rpNetwork","$q","$rootScope","$filter",function(e,t,r,a){function s(n,t,r){return e.remote.book(n.currency,n.issuer,t.currency,t.issuer,r)}function o(e,t,r){var s,o,i=Options.orderbook_max_rows||100,c=a("rpamount"),l=jQuery.extend(!0,{},e),u=0;l=_.values(_.compact(_.map(l,function(e,a){if(u>i)return!1;e.hasOwnProperty("taker_gets_funded")&&(e.TakerGets=e.taker_gets_funded,e.TakerPays=e.taker_pays_funded),e.TakerGets=n.from_json(e.TakerGets),e.TakerPays=n.from_json(e.TakerPays),e.price=n.from_quality(e.BookDirectory,"1","1"),"asks"!==t&&(e.price=n.from_json("1/1/1").divide(e.price)),e["asks"===t?"TakerPays":"TakerGets"].is_native()&&(e.price=e.price.divide(n.from_json("1000000"))),e["asks"===t?"TakerGets":"TakerPays"].is_native()&&(e.price=e.price.multiply(n.from_json("1000000")));var d=c(e.price,{rel_precision:4,rel_min_precision:2});return s===d?(r&&(l[o].TakerPays=n.from_json(l[o].TakerPays).add(e.TakerPays),l[o].TakerGets=n.from_json(l[o].TakerGets).add(e.TakerGets)),e=!1):o=a,s=d,e&&u++,u>i?!1:e})));var d,p="asks"===t?"TakerGets":"TakerPays";return _.each(l,function(e){d=e.sum=d?d.add(e[p]):e[p]}),l}return{get:function(e,n,t){function a(e){r.$apply(function(){p.asks=o(e,"asks",!0)})}function i(e,n){r.$apply(function(){p.last_price=e.ratio_human(n)})}function c(e){r.$apply(function(){p.bids=o(e,"bids",!0)})}function l(e,n){r.$apply(function(){p.last_price=n.ratio_human(e)})}var u=s(e,n,t),d=s(n,e,t),p={asks:o(u.offersSync(),"asks",!0),bids:o(d.offersSync(),"bids",!0)};return u.on("model",a),u.on("trade",i),d.on("model",c),d.on("trade",l),p.unsubscribe=function(){u.removeListener("model",a),u.removeListener("trade",i),d.removeListener("model",c),d.removeListener("trade",l)},p}}}])},21:function(e){var e=angular.module("transactions",["network"]);e.factory("rpTransactions",["$rootScope","rpNetwork",function(e,n){function t(){s||(n.remote.request_subscribe("transactions").request(),s=!0)}function r(n){e.$apply(function(){a.forEach(function(e){e(n)})})}var a=[],s=!1;return n.remote.on("net_transaction",r),{addListener:function(e){a.push(e),t()},removeListener:function(e){for(var n=-1,t=0,r=a.length;r>t;t++)a[t]===e&&(n=t);0>n||a.splice(n,1)}}}])},22:function(e){var e=angular.module("ledger",["network","transactions"]);e.factory("rpLedger",["$q","$rootScope","rpNetwork","rpTransactions",function(e,n,t,r){function a(e,n,t,r,a,s){return e!==s.currency||n!==a.currency?!1:"XRP"!==e&&t&&s.issuer!==t?!1:"XRP"!==n&&r&&a.issuer!==r?!1:!0}function s(e,n,t,r){var s={asks:[],bids:[]};return Array.isArray(m.offers)?(m.offers.forEach(function(i){var c=o(i.TakerGets),l=o(i.TakerPays);return a(e,n,t,r,l,c)?(s.asks.push({i:c,o:l}),void 0):(a(e,n,t,r,c,l)&&s.bids.push({i:l,o:c}),void 0)}),s.asks.sort(function(e,n){var t=e.o.amount.ratio_human(e.i.amount),r=n.o.amount.ratio_human(n.i.amount);return t.compareTo(r)}),s.bids.sort(function(e,n){var t=e.o.amount.ratio_human(e.i.amount),r=n.o.amount.ratio_human(n.i.amount);return r.compareTo(t)}),i(s.asks,"i"),i(s.bids,"i"),s):s}function o(e){var n=ripple.Amount.from_json(e);return{amount:n,num:+n.to_human({group_sep:!1}),currency:n.currency().to_json(),issuer:n.issuer().to_json()}}function i(e,n){for(var t=null,r=0,a=e.length;a>r;r++)t=null===t?e[r][n].amount:t.add(e[r][n].amount),e[r].sum=t}function c(){f||(t.remote.request_ledger("ledger_closed","full").on("success",u).request(),r.addListener(l),f=!0)}function l(){}function u(e){n.$apply(function(){var n=e.ledger.accountState.filter(function(e){return"Offer"===e.LedgerEntryType});d.resolve(n),m.offers=n})}var d=e.defer(),p=e.defer(),f=!1,m={offers:d.promise,tickers:p.promise,getOrders:s};return t.connected&&c(),t.on("connected",function(){c()}),m}])},23:function(e){var e=angular.module("popup",[]);e.factory("rpPopup",["$http","$compile",function(e,n){var t={};return t.getPopup=function(e){return!t.popupElement&&e&&(t.popupElement=$('<div class="modal fade"></div>'),t.popupElement.appendTo("BODY")),t.popupElement},t.compileAndRunPopup=function(e,t,r){n(e)(t),e.modal(r)},t.blank=function(e,n){var r=t.getPopup(!0),a='<div class="modal-dialog"><div class="modal-content">';a+=e,a+="</div></div>",r.html(a),t.compileAndRunPopup(r,n)},t.confirm=function(e,n,r,a,s,o,i,c,l,u){n=n?n:"Are you sure?",r=r?r:"Ok",s=s?s:"btn btn-info",o=o?o:"Cancel",c=c?c:"";var d=t.getPopup(!0),p='<div class="modal-dialog"><div class="modal-content">';e&&(p+='<div class="modal-header"><h1>'+e+"</h1></div>"),p+='<div class="modal-body"><p class="question">'+n+"</p>"+'<p class="actions">',p+=i?'<a class="'+c+' btn-cancel" ng-click="'+i+'">'+o+"</a>":'<a class="'+c+' btn-cancel">'+o+"</a>",p+=a?'<button class="'+s+' btn-cancel" ng-click="'+a+'">'+r+"</button>":'<button class="'+s+' btn-cancel">'+r+"</button>",p+="</p></div></div></div>",d.html(p),a||d.find(".btn-primary").click(function(){t.close()}),i||d.find(".btn-cancel").click(function(){t.close()}),t.compileAndRunPopup(d,l,u)},t.close=function(){var e=t.getPopup();e&&e.modal("hide")},t}])},24:function(e){var e=angular.module("rippletxt",[]);e.factory("rpRippleTxt",["$q","$rootScope",function(e,n){function t(t){if(a[t])return a[t];var s=e.defer();a[t]=s;var o=["https://ripple."+t+"/ripple.txt","https://www."+t+"/ripple.txt","https://"+t+"/ripple.txt"].reverse(),i=function(){if(!o.length)return a[t]={},s.reject(new Error("No ripple.txt found")),void 0;var e=o.pop();$.ajax({url:e,dataType:"text",success:function(e){n.$apply(function(){var n=r(e);a[t]=n,s.resolve(n)})},error:function(e,t){setImmediate(function(){n.$apply(function(){i(e,t)})})}})};return i(),s.promise}function r(e){e=e.replace("\r\n","\n"),e=e.replace("\r","\n"),e=e.split("\n");for(var n="",t={},r=0,a=e.length;a>r;r++){var s=e[r];s.length&&"#"!==s[0]&&("["===s[0]&&"]"===s[s.length-1]?(n=s.slice(1,s.length-1),t[n]=[]):(s=s.replace(/^\s+|\s+$/g,""),t[n]&&t[n].push(s)))}return t}var a={};return{get:t,parse:r}}])},25:function(e){var e=angular.module("federation",[]);e.factory("rpFederation",["$q","$rootScope","rpRippleTxt",function(e,n,t){function r(r){function a(){o.reject({result:"error",error:"noRippleTxt",error_message:"Ripple.txt not available for the requested domain."})}function s(e){e.federation_url?$.ajax({url:e.federation_url[0],dataType:"json",data:{type:"federation",domain:c,destination:l,user:l},error:function(){n.$apply(function(){o.reject({result:"error",error:"unavailable",error_message:"Federation gateway did not respond."})})},success:function(e){n.$apply(function(){"object"!=typeof e||"object"!=typeof e.federation_json||"federation_record"!==e.federation_json.type||e.federation_json.user!==l&&e.federation_json.destination!==l||e.federation_json.domain!==c?"string"==typeof e.error?o.reject({result:"error",error:"remote",error_remote:e.error,error_message:e.error_message?"Service error: "+e.error_message:"Unknown remote service error."}):o.reject({result:"error",error:"unavailable",error_message:"Federation gateway's response was invalid."}):o.resolve(e.federation_json)})}}):o.reject({result:"error",error:"noFederation",error_message:"Federation is not available on the requested domain."})}var o=e.defer(),i=r.split("@"),c=i.pop(),l=i.join("@"),u=t.get(c);return u?"function"==typeof u.then?u.then(s,a):s(u):a(),o.promise}return{check_email:r}}])},26:function(e){var e=angular.module("domainalias",["network","rippletxt"]);e.factory("rpDomainAlias",["$q","$rootScope","rpNetwork","rpRippleTxt",function(e,n,t,r){function a(e,n,t){if(!t.domain||1!==t.domain.length||t.domain[0]!==e)return!1;if(!t.accounts)return!1;for(var r=0,a=t.accounts.length;a>r;r++)if(t.accounts[r]===n)return!0;return!1}function s(s){if(o[s])return o[s];var i=e.defer();return t.remote.request_account_info(s).on("success",function(e){e.account_data.Domain&&n.$apply(function(){var n=sjcl.codec.utf8String.fromBits(sjcl.codec.hex.toBits(e.account_data.Domain)),t=r.get(n);t.then(function(e){var t=a(n,s,e);i.resolve(t?n:!1)},function(){})})}).on("error",function(){}).request(),o[s]=i.promise,i.promise}var o={};return{getAliasForAddress:s}}])},27:function(e){var e=angular.module("zipzap",[]);e.factory("rpZipzap",["$rootScope",function(){var e=function(){this.baseUrl=Options.zipzap.requester,this.params={data:{}}};return e.prototype.register=function(e,n){this.params.action="signup",this.params.type="POST",this.params.data={MerchantCustomerID:e,FirstName:n.firstname,LastName:n.lastname,Address:n.address,City:n.city,State:n.state,PostalCode:n.zipcode,CountryCode:n.countrycode?n.countrycode.toUpperCase():"",Phone:n.phone,DateOfBirth:n.dob,Email:n.email,AcctType:"Multi",ComplianceAnswers:[{QuestionID:"80a06fff-284d-e311-8fba-0653b901631c",Answer:n.ssn}]}},e.prototype.locate=function(e){this.params.action="locate",this.params.type="GET",this.params.q=encodeURIComponent(encodeURIComponent(e))},e.prototype.request=function(e){console.log("request called");var n=this.baseUrl+"?action="+this.params.action;this.params.q&&(n=n+"&q="+this.params.q),$.ajax({type:this.params.type,url:n,data:this.params.data,dataType:"json",success:function(n){n=n?n:{},e(n),console.log("request response",n)},error:function(e){console.log("error",e)}})},new e}])},28:function(e,n,t){var r=t(42),a=t(53).Tab,s=function(){a.call(this)};r.inherits(s,a),s.prototype.tabName="register",s.prototype.pageMode="single",s.prototype.parent="main",s.prototype.generateHtml=function(){return t(54)()},s.prototype.angular=function(e){e.controller("RegisterCtrl",["$scope","$location","$element","rpId","rpTracker",function(e,n,t,r,a){if(r.loginStatus)return n.path("/balance"),void 0;e.backendChange=function(){r.blobBackends=e.blobBackendCollection.something.value.split(","),store.disabled||store.set("ripple_blobBackends",r.blobBackends)},e.reset=function(){e.username="",e.password="",e.passwordSet={},e.password1="",e.password2="",e.master="",e.key="",e.mode="form",e.showMasterKeyInput=!1,e.submitLoading=!1,e.track=!0,e.registerForm&&e.registerForm.$setPristine(!0)},e.register=function(){r.register(e.username,e.password1,function(n){e.password=new Array(e.password1.length+1).join("*"),e.keyOpen=n,e.key=e.keyOpen[0]+new Array(e.keyOpen.length).join("*"),e.mode="welcome"},e.masterkey)};var s=function(){var n,r,a;n=t.find('input[name="register_username"]').eq(0).val(),r=t.find('input[name="register_password1"]').eq(0).val(),a=t.find('input[name="register_password2"]').eq(0).val(),"string"==typeof n&&e.registerForm.register_username.$setViewValue(n),"string"==typeof r&&e.registerForm.register_password1.$setViewValue(r),"string"==typeof a&&e.registerForm.register_password2.$setViewValue(a)};e.submitForm=function(){e.submitLoading=!0,s();var t;r.exists(e.username,e.password1,function(a,s){t||(s?r.login(e.username,e.password1,function(t){e.submitLoading=!1,t?e.mode="loginerror":e.masterkey&&e.masterkey!=e.userCredentials.master_seed?e.mode="masterkeyerror":n.path("/balance")}):(t=!0,Options.mixpanel&&(Options.mixpanel.track=e.track),store.disabled||store.set("ripple_settings",JSON.stringify(Options)),e.register()))})},e.goToBalance=function(){e.mode="form",e.reset(),a.track("Sign Up",{"Used key":!!e.masterkey,"Password strength":e.strength,Blob:e.blobBackendCollection.something.name,"Showed secret key":!!e.showSecret,"Showed password":!!e.showPassword}),n.path("/balance")},e.reset()}])},e.exports=s},29:function(e,n,t){var r=t(42),a=t(53).Tab,s=function(){a.call(this)};r.inherits(s,a),s.prototype.tabName="login",s.prototype.pageMode="single",s.prototype.parent="main",s.prototype.generateHtml=function(){return t(55)()},s.prototype.angular=function(e){e.controller("LoginCtrl",["$scope","$element","$routeParams","$location","rpId","$rootScope","rpPopup","$timeout","rpTracker",function(e,n,t,r,a,s,o,i,c){if(a.loginStatus)return r.path("/balance"),void 0;e.backendChange=function(){a.blobBackends=e.blobBackendCollection.something.value.split(","),store.disabled||store.set("ripple_blobBackends",a.blobBackends)},e.error="",e.username="",e.password="",e.loginForm&&e.loginForm.$setPristine(!0),e.backendMessages=[],i(function(){e.$apply(function(){e.username=n.find('input[name="login_username"]').val(),e.password=n.find('input[name="login_password"]').val()})},1e3),s.$on("$blobError",function(n,t){console.log("BLOB ERROR",arguments),e.backendMessages.push({backend:t.backend,message:t.message})});var l=function(){var t,r;t=n.find('input[name="login_username"]:visible').eq(0).val(),r=n.find('input[name="login_password"]:visible').eq(0).val(),"string"==typeof t&&e.loginForm.login_username.$setViewValue(t),"string"==typeof r&&e.loginForm.login_password.$setViewValue(r)};e.$watch("username",function(){i(function(){e.$apply(function(){l()})},50)}),e.$watch("password"),e.submitForm=function(){e.ajax_loading||(e.backendMessages=[],l(),setImmediate(function(){a.login(e.username,e.password,function(n){return e.ajax_loading=!1,n?(e.status="Login failed:","OldBlobError"===n.name&&(o.confirm("Wallet Upgrade","Ripple is upgrading the wallet encryption format. After the upgrade, only Ripple clients 0.2.24 or higher can access your wallet.<br><br>If you use other clients, please make sure they are upgraded to the current version.","OK","migrateConfirm()",null,"Abort login",null,null,e,{}),e.migrateConfirm=function(){a.allowOldBlob=!0,e.submitForm()}),"BlobError"!==n.name&&e.backendMessages.push({backend:"ID",message:n.message}),c.track("Login",{Status:"error",Message:n.message,Blob:e.blobBackendCollection.something.name}),void 0):(c.track("Login",{Status:"success",Blob:e.blobBackendCollection.something.name}),e.status="",t.tab?r.path("/"+t.tab):r.path("/balance"),void 0)})}),e.ajax_loading=!0,e.error="",e.status="Fetching wallet...")}}]),e.directive("rpFocusOnEmpty",["$timeout",function(e){return function(n,t){e(function(){n.$watch(function(){return t.is(":visible")},function(e){e!==!0||t.val()||t.focus()})},200)}}])},e.exports=s},30:function(e,n,t){var r=t(42),a=t(53).Tab,s=t(49),o=function(){a.call(this)};r.inherits(o,a),o.prototype.tabName="balance",o.prototype.mainMenu="wallet",o.prototype.generateHtml=function(){return t(56)()},o.prototype.angular=function(e){e.controller("BalanceCtrl",["$scope","rpId","rpNetwork","rpTracker",function(e,n,t){if(!n.loginStatus)return n.goId();e.transactions=[],e.current_page=1;var r=function(e){if(!e)return null;var n=jQuery.extend(!0,{},e),t=[];return n.effects&&($.each(n.effects,function(){var e=this;if("offer_funded"==e.type||"offer_partially_funded"==e.type||"offer_bought"==e.type||"trust_change_no_ripple"==e.type||"offer_cancelled"===e.type){if("offer_cancelled"===e.type&&n.transaction&&"offercancel"===n.transaction.type)return;t.push(e)}}),n.showEffects=t),t.length||n.transaction?n:null};e.reset=function(){e.transactions=[],e.has_more=!0};var a;e.loadMore=function(){var o=n.account;if(n.account&&!e.is_loading_more&&e.has_more){e.tx_load_status="loading";var i={account:o,ledger_index_min:-1,limit:Options.transactions_per_page};a&&(i.marker=a),t.remote.request_account_tx(i).on("success",function(n){e.$apply(function(){n.transactions&&(n.marker?a&&"undefined"!=typeof n.marker.ledger&&n.marker.ledger===a.ledger&&"undefined"!=typeof n.marker.seq&&n.marker.seq===a.seq?e.has_more=!1:a=n.marker:e.has_more=!1,n.transactions.forEach(function(n){var t=s.processTxn(n.tx,n.meta,o);t=r(t),t&&e.transactions.push(t)}),e.tx_load_status=!1)})}).on("error",function(n){e.tx_load_status="error",console.log(n)}).request()}},e.reset(),e.loadMore(),e.$on("$idAccountLoad",function(){e.reset(),e.loadMore()})}])},e.exports=o},31:function(e,n,t){var r=t(42),a=t(53).Tab,s=t(49),o=function(){a.call(this)};r.inherits(o,a),o.prototype.tabName="history",o.prototype.mainMenu="wallet",o.prototype.generateHtml=function(){return t(58)()},o.prototype.angular=function(e){e.controller("HistoryCtrl",["$scope","rpId","rpNetwork","rpTracker",function(e,n,t){if(!n.loginStatus)return n.goId();var r;e.historyShow=[],e.$watch("loadState.transactions",function(){e.historyState=e.loadState.transactions?"ready":"loading"}),e.details=[];var a=[];e.types={sent:{types:["sent"],checked:!0},received:{types:["received"],checked:!0},trusts:{types:["trusting","trusted"],checked:!0},offers:{types:["offernew","offercancel","convert"],checked:!0},other:{types:["accountset","failed","rippling"],checked:!0}},e.orderedTypes=["sent","received","trusts","offers","other"],store.get("ripple_history_type_selections")&&(e.types=$.extend(!0,e.types,store.get("ripple_history_type_selections"))),e.filters=store.get("ripple_history_filters")?store.get("ripple_history_filters"):{currencies_is_active:!1,currencies:{},types:["sent","received","convert","trusting","trusted","offernew","offercancel","rippling"],minimumAmount:1e-6};var o=function(r,a,o){var i=!1,c=[],l={account:n.account,ledger_index_min:-1,limit:200},u=function(){t.remote.request_account_tx(l).on("success",function(t){if(t.transactions.length){for(var d=0;d<t.transactions.length;d++){var p=1e3*(t.transactions[d].tx.date+946684800);if(p<r.getTime()){i=!0;break}if(!(p>a.getTime())){var f=s.processTxn(t.transactions[d].tx,t.transactions[d].meta,n.account);f&&c.push(f)}}l.marker={ledger:t.transactions[d-1].tx.inLedger,seq:0},e.tx_marker=l.marker,i?o(c):u()}else o(c)}).request()};u(0)};e.submitDateRangeForm=function(){e.dateMaxView.setDate(e.dateMaxView.getDate()+1),i(e.dateMinView,e.dateMaxView)},e.submitMinimumAmountForm=function(){c()};var i=function(n,t){e.history=[],e.historyState="loading",o(n,t,function(n){e.$apply(function(){e.history=n,e.historyState="ready"})})};e.$watch("balances",function(){l()}),e.$watch("types",function(){var n=[],t={};_.each(e.types,function(e,r){e.checked&&(n=n.concat(e.types)),t[r]={checked:!!e.checked}}),e.filters.types=n,store.disabled||store.set("ripple_history_type_selections",t)},!0),store.disabled||e.$watch("filters",function(){store.set("ripple_history_filters",e.filters)},!0),e.$watch("filters.types",function(){c()},!0),e.$watch("filters.currencies",function(){l(),c()},!0),e.$watchCollection("history",function(){r&&e.history[e.history.length-1]&&r.hash===e.history[e.history.length-1].hash||(c(),e.history.length&&l(),r=$.extend(!0,{},e.history[e.history.length-1]))},!0);var c=function(){if(e.historyShow=[],e.history.length){var n,t;e.minLedger=0;var r=_.map(e.filters.currencies,function(e,n){return e.checked?n:!1});e.history.forEach(function(s){if(e.dateMinView||((!n||n>s.date)&&(n=s.date),(!t||t<s.date)&&(t=s.date)),a=_.union(a,s.affected_currencies),(!e.minLedger||e.minLedger>s.ledger_index)&&(e.minLedger=s.ledger_index),!(s.transaction&&!_.contains(e.filters.types,s.transaction.type)||!s.transaction&&!_.contains(e.filters.types,"offernew")||e.filters.currencies_is_active&&_.intersection(r,s.affected_currencies).length<=0)){var o=[];if(s.effects){$.each(s.effects,function(){var e=this;switch(e.type){case"offer_funded":case"offer_partially_funded":case"offer_bought":case"offer_cancelled":if("offer_cancelled"===e.type&&s.transaction&&"offercancel"===s.transaction.type)return;o.push(e)}}),s.showEffects=o,o=[];var i,c,l=e.filters.minimumAmount;if($.each(s.effects,function(){var e=this;switch(e.type){case"fee":case"balance_change":case"trust_change_balance":o.push(e),("balance_change"===e.type||"trust_change_balance"===e.type)&&(i=e.amount.abs().is_native()?e.amount.abs().to_number()/1e6:e.amount.abs().to_number(),(!c||i>c)&&(c=i))}}),c&&l>c)return;s.balanceEffects=o}s.effects&&1===s.effects.length&&"fee"==s.effects[0].type||e.historyShow.push(s)}}),e.historyShow.length&&!e.dateMinView&&(u("dateMinView",n),u("dateMaxView",t))}},l=function(){if(!$.isEmptyObject(e.balances)){var n=_.union(["XRP"],_.map(e.balances,function(e,n){return n.toUpperCase()}),a),t={},r=$.isEmptyObject(e.filters.currencies);e.filters.currencies_is_active=!1,_.each(n,function(n){var a=e.filters.currencies[n]&&e.filters.currencies[n].checked||r;t[n]={checked:a},a||(e.filters.currencies_is_active=!0)}),e.filters.currencies=t}},u=function(n,t){e[n]=isNaN(t)||null==t?null:new Date(t)};e.loadMore=function(){var r;e.historyState="loading";var a=100,o={account:n.account,ledger_index_min:-1,limit:a,marker:e.tx_marker};t.remote.request_account_tx(o).on("success",function(t){e.$apply(function(){if(t.transactions.length<a,e.tx_marker=t.marker,t.transactions){var o=[];t.transactions.forEach(function(e){var t=s.processTxn(e.tx,e.meta,n.account);t&&(o.push(t),(!r||t.date<r)&&(r=t.date))});var i=_.uniq(e.history.concat(o),!1,function(e){return e.hash});e.historyState=e.history.length===i.length?"full":"ready",e.history=i,u("dateMinView",r)}})}).request()}}])},e.exports=o},32:function(e,n,t){var r=t(42);t(46);var a=t(53).Tab,s=function(){a.call(this)};r.inherits(s,a),s.prototype.tabName="contacts",s.prototype.mainMenu="wallet",s.prototype.aliases=["contact"],s.prototype.generateHtml=function(){return t(57)()},s.prototype.angular=function(e){e.controller("ContactsCtrl",["$scope","rpId","rpTracker",function(e,n){return n.loginStatus?(e.reset_form=function(){e.contact={name:"",address:""},e.addForm&&e.addForm.$setPristine()},e.reset_form(),e.toggle_form=function(){e.addform_visible=!e.addform_visible,e.reset_form()},e.create=function(){var n={name:e.contact.name,address:e.contact.address};e.contact.dt&&(n.dt=e.contact.dt),e.enable_highlight=!0,e.userBlob.data.contacts.unshift(n),e.toggle_form(),e.reset_form()},void 0):n.goId()}]),e.controller("ContactRowCtrl",["$scope","$location",function(e,n){e.editing=!1,e.edit=function(){e.editing=!0,e.editname=e.entry.name,e.editaddress=e.entry.address,e.editdt=e.entry.dt},e.update=function(){e.inlineAddress.editaddress.$error.rpUnique||e.inlineAddress.editaddress.$error.rpDest||e.inlineName.editname.$error.rpUnique||(e.entry.name=e.editname,e.entry.address=e.editaddress,e.editdt&&(e.entry.dt=e.editdt),e.editing=!1)
},e.remove=function(n){e.userBlob.data.contacts.splice(n,1)},e.cancel=function(){e.editing=!1},e.send=function(){var t={to:e.entry.name};n.path("/send"),n.search(t)}}])},e.exports=s},33:function(e,n,t){var r=t(42),a=t(46),s=t(53).Tab,o=ripple.Amount;ripple.Base;var i=function(){s.call(this)};r.inherits(i,s),i.prototype.tabName="convert",i.prototype.mainMenu="wallet",i.prototype.generateHtml=function(){return t(59)()},i.prototype.angular=function(e){e.controller("ConvertCtrl",["$scope","$timeout","$routeParams","rpId","rpNetwork","rpTracker",function(e,n,t,r,s){function i(n,t){switch(e.engine_result=n.engine_result,e.engine_result_message=n.engine_result_message,n.engine_result.slice(0,3)){case"tes":e.tx_result=t?"cleared":"pending";break;case"tem":e.tx_result="malformed";break;case"ter":e.tx_result="failed";break;case"tep":e.tx_result="partial";break;case"tec":e.tx_result="claim";break;case"tef":e.tx_result="failure";break;case"tel":e.tx_result="local";break;default:console.warn("Unhandled engine status encountered!")}}if(!r.loginStatus)return r.goId();var c;e.xrp=_.where(e.currencies_all,{value:"XRP"})[0],e.$watch("convert.amount",function(){e.update_convert()},!0),e.$watch("convert.currency",function(){e.convert.currency_code=e.convert.currency?e.convert.currency.slice(0,3).toUpperCase():"XRP",e.update_convert()},!0);var l;e.update_convert=function(){var t=e.convert,a=t.currency_code,s=""+t.amount+" "+a.slice(0,3);return 0===parseFloat(s)?(e.error_type="required",!1):(t.amount_feedback=o.from_human(s),t.amount_feedback.set_issuer(r.account),t.amount_feedback.is_valid()?(t.path_status="pending",t.alt=null,l&&clearTimeout(l),l=n(e.update_paths,500)):t.path_status="waiting",void 0)},e.update_paths=function(){e.$apply(function(){e.convert.path_status="pending";var n=e.convert.amount_feedback;if(!n.is_zero()){var t,a=s.remote.path_find(r.account,r.account,n);a.on("update",function(n){e.$apply(function(){t=new Date,clearInterval(c),c=setInterval(function(){e.$apply(function(){var n=Math.round((new Date-t)/1e3);e.lastUpdate=n?n:0})},1e3),n.alternatives&&n.alternatives.length?(e.convert.path_status="done",e.convert.alternatives=_.map(n.alternatives,function(e){var n={};return n.amount=o.from_json(e.source_amount),n.send_max=n.amount.product_human(o.from_json("1.01")),n.paths=e.paths_computed?e.paths_computed:e.paths_canonical,n})):e.convert.path_status="no-path"})})}})},e.currency_query=a.queryFromOptions(e.currencies_all),e.$watch("lines",function(n){var t=_.uniq(_.map(_.keys(n),function(e){return e.slice(-3)}));t=_.map(t,function(n){return _.each(e.currencies_all,function(e){return n===e.value?(n=e.name,!1):void 0}),n}),e.source_currency_query=a.queryFromArray(t)},!0),e.reset=function(){e.mode="form",e.convert={amount:"",currency:e.xrp.name,currency_code:"XRP",path_status:"waiting",fund_status:"none"},e.nickname="",e.error_type="",e.convertForm&&e.convertForm.$setPristine(!0)},e.cancelConfirm=function(){e.mode="form",e.convert.alt=null},e.reset_goto=function(n){e.reset(),document.location="#"+n},e.convert_prepared=function(){e.confirm_wait=!0,n(function(){e.confirm_wait=!1},1e3,!0),e.mode="confirm"},e.convert_confirmed=function(){var n=e.convert.currency.slice(0,3).toUpperCase(),t=o.from_human(""+e.convert.amount+" "+n);t.set_issuer(r.account);var c=s.remote.transaction();c.destination_tag(a.getDestTagFromAddress(r.account)),c.payment(r.account,r.account,t.to_json()),c.send_max(e.convert.alt.send_max),c.paths(e.convert.alt.paths),c.on("proposed",function(n){e.$apply(function(){i(n,!1),e.converted(c.hash);for(var t,r=0;r<e.currencies_all.length;r++)if(e.currencies_all[r].value.toLowerCase()===e.convert.amount_feedback.currency().to_human().toLowerCase()){e.currencies_all[r].order++,t=!0;break}t||e.currencies_all.push({name:e.convert.amount_feedback.currency().to_human().toUpperCase(),value:e.convert.amount_feedback.currency().to_human().toUpperCase(),order:1})})}),c.on("success",function(e){i(e,!0)}),c.on("error",function(n){setImmediate(function(){e.$apply(function(){e.mode="error","remoteError"===n.error&&"noPath"===n.remote.error&&(e.mode="status",e.tx_result="noPath")})})}),c.submit(),e.mode="sending"},e.converted=function(n){function t(r){e.$apply(function(){r.transaction.hash===n&&(i(r,!0),s.remote.removeListener("transaction",t))})}e.mode="status",s.remote.on("transaction",t)},e.reset()}]),e.directive("unique",function(){return{restrict:"A",require:"?ngModel",link:function(e,n,t,r){if(r){var s=function(n){var t=!a.getContact(e.userBlob.data.contacts,n);return r.$setValidity("unique",t),t?n:void 0};r.$formatters.push(s),r.$parsers.unshift(s),t.$observe("unique",function(){s(r.$viewValue)})}}}})},e.exports=i},34:function(e,n,t){var r=t(42),a=t(53).Tab;t(49);var s=function(){a.call(this)};r.inherits(s,a),s.prototype.tabName="cashin",s.prototype.mainMenu="wallet",s.prototype.generateHtml=function(){return t(60)()},s.prototype.angular=function(e){e.controller("CashinCtrl",["$scope","$rootScope","rpId","rpNetwork","rpZipzap","rpTracker",function(e,n,t,r,a,s){return t.loginStatus?(e.form={countrycode:"US"},e.$watch("address",function(t){if(!n.zipzap&&t){var a=r.remote.account(t);e.loading=!0,e.userBlob.data.zipzap&&!$.isEmptyObject(e.userBlob.data.zipzap)?a.line("USD","rMwjYedjc7qqtKYVLiAccJSmCwih4LnE2q",function(n,t){e.$apply(function(){e.mode=t&&t.limit>0?"details":"step2",e.zipzap=e.userBlob.data.zipzap,e.loading=!1})}):(e.mode="step1",e.loading=!1)}}),e.signup=function(){e.signupProgress="loading",a.register(t.account,e.form),a.request(function(n){var t=r.remote.account(e.address);e.signupProgress=!1,n.ZipZapAcctNum?(e.userBlob.data.zipzap=n,t.line("USD","rMwjYedjc7qqtKYVLiAccJSmCwih4LnE2q",function(t,r){e.$apply(function(){e.displaySignupForm=!1,e.mode=r&&r.limit>0?"details":"step2",e.zipzap=n,e.loading=!1})}),s.track("ZipZap register",{Status:"success"})):e.$apply(function(){n&&n.Message?(e.error={code:n.Code,message:n.Message,verboseMessage:n.VerboseMessage},s.track("ZipZap register",{Status:"error",Message:n.VerboseMessage})):(e.error={code:null,message:"Invalid form",verboseMessage:"Form is invalid, please make sure entered information is correct"},s.track("ZipZap register",{Status:"error",Message:"Form is invalid"}))})})},e.locate=function(){e.locateStatus="loading",a.locate(e.query),a.request(function(n){e.$apply(function(){e.locations=n,e.locateStatus=!1,!n.PayCenters||n.PayCenters&&!n.PayCenters.length?(e.locateStatus="notfound",s.track("ZipZap locate payment center",{Status:"success"})):s.track("ZipZap locate payment center",{Status:"notfound"})})})},void 0):t.goId()}]),e.directive("rpDob",function(){return{restrict:"A",require:"?ngModel",link:function(e,n,t,r){if(r){var a=/^([0-9]{4})-([0-9]{2})-([0-9]{2})$/,s=function(e){return r.$setValidity("rpDob",a.test(e)),e};r.$formatters.push(s),r.$parsers.unshift(s),t.$observe("rpDob",function(){s(r.$viewValue)})}}}})},e.exports=s},35:function(e,n,t){var r=t(42),a=t(46),s=t(53).Tab;ripple.Amount;var o=function(){s.call(this)};r.inherits(o,s),o.prototype.tabName="trust",o.prototype.mainMenu="advanced",o.prototype.generateHtml=function(){return t(61)()},o.prototype.angular=function(e){e.controller("TrustCtrl",["$scope","$timeout","$routeParams","rpId","$filter","rpNetwork","rpTracker",function(e,n,t,r,s,o){function i(n,t){switch(e.engine_result=n.engine_result,e.engine_result_message=n.engine_result_message,n.engine_result.slice(0,3)){case"tes":e.tx_result=t?"cleared":"pending";break;case"tem":e.tx_result="malformed";break;case"ter":e.tx_result="failed";break;case"tec":e.tx_result="failed";break;case"tel":e.tx_result="local";break;case"tep":console.warn("Unhandled engine status encountered!")}}return r.loginStatus?(e.sorting={predicate:"balance",reverse:!0,sort:function(n){return"currency"===e.sorting.predicate?n.currency:n.balance.to_number()}},e.$watch("lines",function(n){e.linesArray=_.toArray(n)},!0),e.validation_pattern=/^0*(([1-9][0-9]*.?[0-9]*)|(.0*[1-9][0-9]*))$/,e.reset=function(){if(e.mode="main",e.currency="USD",e.addform_visible=!1,e.editform_visible=!1,e.edituser="",e.amount="",e.allowrippling=!1,e.counterparty="",e.saveAddressName="",e.error_account_reserve=!1,t.to&&t.amount)var n=e.$watch("counterparty_address",function(t){t&&(e.grant(),n())})},e.toggle_form=function(){e.addform_visible||e.editform_visible?e.reset():e.addform_visible=!0},e.$watch("account",function(){e.can_add_trust=!1,e.account.Balance&&e.account.reserve_to_add_trust&&(!e.account.reserve_to_add_trust.subtract(e.account.Balance).is_positive()||$.isEmptyObject(e.lines))&&(e.can_add_trust=!0)},!0),e.$watch("counterparty",function(){e.error_account_reserve=!1,e.contact=a.getContact(e.userBlob.data.contacts,e.counterparty),e.contact?(e.counterparty_name=e.contact.name,e.counterparty_address=e.contact.address):(e.counterparty_name="",e.counterparty_address=e.counterparty)},!0),e.grant=function(){e.verifying=!0,e.error_account_reserve=!1,o.remote.request_account_info(e.counterparty_address).on("success",function(){e.$apply(function(){e.verifying=!1;var t=ripple.Amount.from_human(""+e.amount+" "+e.currency.slice(0,3).toUpperCase());e.amount_feedback=t.to_human(),e.currency_feedback=t.currency().to_json(),e.confirm_wait=!0,n(function(){e.confirm_wait=!1},1e3,!0),e.mode="confirm";var r=t.currency().to_json(),a=e.balances[r];if(e.currencyWarning=!1,a){for(var s in a.components)s===e.counterparty_address&&(e.currencyWarning="sameIssuer");e.currencyWarning||(e.currencyWarning="multipleIssuers")}else e.currencyWarning="firstIssuer"})}).on("error",function(){setImmediate(function(){e.$apply(function(){e.verifying=!1,e.error_account_reserve=!0})})}).request()},e.grant_confirmed=function(){var n=e.currency.slice(0,3).toUpperCase(),t=e.amount+"/"+n+"/"+e.counterparty_address,a=o.remote.transaction();a.rippleLineSet(r.account,t).setFlags(e.allowrippling?"ClearNoRipple":"NoRipple").on("proposed",function(t){e.$apply(function(){i(t,!1),e.granted(a.hash);for(var r,s=0;s<e.currencies_all.length;s++)if(e.currencies_all[s].value.toLowerCase()===n.toLowerCase()){e.currencies_all[s].order++,r=!0;break}r||e.currencies_all.push({name:n,value:n,order:1})})}).on("success",function(n){e.$apply(function(){i(n,!0)})}).on("error",function(){setImmediate(function(){e.$apply(function(){e.mode="error"})})}).submit(),e.mode="granting"},e.granted=function(n){function t(r){e.$apply(function(){r.transaction.hash===n&&(i(r,!0),o.remote.removeListener("transaction",t))})}e.mode="granted",o.remote.on("transaction",t)},e.saveAddress=function(){e.addressSaving=!0;var n={name:e.saveAddressName,address:e.counterparty_address},t=e.$on("$blobSave",function(){t(),e.contact=n,e.addressSaved=!0});e.userBlob.data.contacts.unshift(n)},e.edit_line=function(){var t=this.line,r=s("rpcontactnamefull"),a=r(t.account);e.edituser=a?a:"User",e.validation_pattern=a?/^[0-9.]+$/:/^0*(([1-9][0-9]*.?[0-9]*)|(.0*[1-9][0-9]*))$/,e.currency=t.currency,e.counterparty=t.account,e.amount=+t.limit.to_text(),console.log("line",t),e.allowrippling=!t.no_ripple,e.addform_visible=!1,e.editform_visible=!1,n(function(){e.editform_visible=!0})},e.counterparty_query=function(n,t){var r=e.userBlob.data.contacts.map(function(e){return e.name});return t instanceof RegExp?r.filter(function(e){return e.toLowerCase().match(n.toLowerCase())}):r},e.currency_query=a.queryFromOptions(e.currencies_all),e.reset(),void 0):r.goId()}])},e.exports=o},36:function(e,n,t){var r=t(42),a=t(46),s=t(53).Tab,o=ripple.Amount,i=ripple.Base;ripple.RippleError;var c=function(){s.call(this)};r.inherits(c,s),c.prototype.tabName="send",c.prototype.mainMenu="send",c.prototype.angularDeps=s.prototype.angularDeps.concat(["federation"]),c.prototype.generateHtml=function(){return t(64)()},c.prototype.angular=function(e){e.controller("SendCtrl",["$scope","$timeout","$routeParams","rpId","rpNetwork","rpFederation","rpTracker",function(e,n,t,r,s,c,l){if(!r.loginStatus)return r.goId();var u;e.xrp=_.where(e.currencies_all,{value:"XRP"})[0],e.$watch("send.recipient",function(){var n=a.stripRippleAddress(e.send.recipient);e.contact=a.getContact(e.userBlob.data.contacts,n),e.contact?(e.send.recipient===e.contact.address&&(e.send.recipient=e.contact.name),e.send.recipient_name=e.contact.name,e.send.recipient_address=e.contact.address,e.contact.dt&&(e.send.dt=e.contact.dt)):(e.send.recipient_name="",e.send.recipient_address=n),e.update_destination()},!0),e.$watch("send.currency",function(){e.send.currency_code=e.send.currency?e.send.currency.slice(0,3).toUpperCase():"XRP",e.update_currency()},!0),e.$watch("send.amount",function(){e.update_amount()},!0),e.$watch("send.extra_fields",function(){e.update_amount()},!0),e.$watch("sendForm.$valid",function(){e.update_amount()});var d;e.reset_destination_deps=function(){var n=e.send;n.self=!1,n.bitcoin=!1,n.quote_url=!1,n.federation=!1,n.fund_status="none",n.extra_fields=[],e.sendForm.send_destination.$setValidity("federation",!0),n.recipient_resolved=!1,e.reset_currency_deps()},e.check_dt_visibility=function(){var n=e.send;n.show_dt_field=(t.dt||n.dt||n.recipient_info.dest_tag_required)&&!n.bitcoin&&!n.federation},e.update_destination=function(){var t=e.send,r=t.recipient_address;r!==t.last_recipient&&(t.last_recipient=r,e.reset_destination_deps(),t.self=r===e.address,t.bitcoin=!isNaN(i.decode_check([0,5],r,"bitcoin")),t.federation="string"==typeof r&&~r.indexOf("@"),e.check_dt_visibility(),d&&n.cancel(d),d=n(e.update_destination_remote,500))},e.update_destination_remote=function(){var n=e.send,t=n.recipient_address;e.sendForm&&e.sendForm.send_destination&&e.sendForm.send_destination.$setValidity("federation",!0),n.bitcoin?(n.quote_url=Options.bridge.out.bitcoin,n.quote_destination=t,e.update_currency_constraints()):n.federation?(n.path_status="fed-check",c.check_email(t).then(function(r){var a=n.recipient_actual||n.recipient_address;t===a&&(n.federation_record=r,r.extra_fields&&(n.extra_fields=r.extra_fields),n.dt="number"==typeof r.dt?r.dt:void 0,r.destination_address?(n.recipient_name=t,n.recipient_address=r.destination_address,e.check_destination()):r.quote_url?(n.quote_url=r.quote_url,n.quote_destination=r.destination,n.path_status="waiting",e.update_currency_constraints()):(n.path_status="waiting",e.sendForm.send_destination.$setValidity("federation",!1)))},function(){var r=n.recipient_actual||n.recipient_address;t===r&&(n.path_status="waiting",e.sendForm.send_destination.$setValidity("federation",!1))})):e.check_destination()},e.check_destination=function(){var n=e.send,t=n.recipient_actual||n.recipient_address;if(ripple.UInt160.is_valid(t)){var r=s.remote.account(t);n.path_status="checking",r.entry(function(r,a){e.$apply(function(){var s=n.recipient_actual||n.recipient_address;if(t===s)if(n.recipient_resolved=!0,r)"actNotFound"===r.remote.error&&(n.recipient_info={loaded:!0,exists:!1,Balance:"0"},e.update_currency_constraints());else{if(n.recipient_info={loaded:!0,exists:!0,Balance:a.account_data.Balance,disallow_xrp:a.account_data.Flags&ripple.Remote.flags.account_root.DisallowXRP,dest_tag_required:a.account_data.Flags&ripple.Remote.flags.account_root.RequireDestTag},e.check_dt_visibility(),!e.account||!e.account.reserve_base)return;var o=e.account.reserve_base;n.xrp_deficiency=o.subtract(a.account_data.Balance),n.recipient_lines=!1,e.update_currency_constraints()}})})}},e.update_currency_constraints=function(){var n=e.send;if(n.currency_choices=e.currencies_all,n.currency_force=!1,n.bitcoin)return n.currency_choices=["BTC"],n.currency_force="BTC",n.currency="BTC",void 0;if(n.federation_record&&"undefined"!=typeof n.federation_record.amount&&(n.force_amount=o.from_json(n.federation_record.amount),n.amount=n.force_amount.to_text(),n.currency_choices=[n.force_amount.currency().to_json()],n.currency_force=n.force_amount.currency().to_json(),n.currency=n.currency_force),n.federation_record&&$.isArray(n.federation_record.currencies)&&n.federation_record.currencies.length>=1&&"object"==typeof n.federation_record.currencies[0]&&"string"==typeof n.federation_record.currencies[0].currency&&(n.currency_choices=[],$.each(n.federation_record.currencies,function(){n.currency_choices.push(this.currency)}),n.currency_force=n.currency_choices[0],n.currency=n.currency_choices[0]),n.recipient_info.loaded){if(n.recipient_info.exists&&n.recipient_lines){var t=n.recipient_lines;n.currency_choices=_.uniq(_.compact(_.map(t,function(e){return e.currency}))),n.recipient_info.disallow_xrp||n.currency_choices.unshift("XRP")}else n.recipient_info.exists||(n.currency_choices=["XRP"],n.currency_force="XRP",n.currency="XRP");e.update_currency()}},e.reset_currency_deps=function(){e.reset_amount_deps()},e.update_currency=function(){var n=e.send,t=n.recipient_actual||n.recipient_address;n.currency,e.reset_currency_deps(),ripple.UInt160.is_valid(t)&&e.update_amount()};var p;e.reset_amount_deps=function(){var n=e.send;n.sender_insufficient_xrp=!1,n.quote=!1,e.reset_paths()},e.update_amount=function(){var t=e.send,r=t.recipient_actual||t.recipient_address,a=t.currency,s=""+t.amount+" "+a.slice(0,3),i=t.amount_feedback=o.from_human(s);if(e.reset_amount_deps(),t.path_status="waiting",p&&n.cancel(p),!e.sendForm.$invalid)if(t.quote_url){if(!t.amount_feedback.is_valid())return;t.amount_feedback.set_issuer(1),p=n(e.update_quote,500)}else{if(!ripple.UInt160.is_valid(r)||!ripple.Amount.is_valid(i))return;if(t.amount_feedback.is_native()||t.amount_feedback.set_issuer(r),!t.recipient_info)return;t.sender_insufficient_xrp=t.amount_feedback.is_native()&&e.account.max_spend&&e.account.max_spend.to_number()>1&&e.account.max_spend.compareTo(t.amount_feedback)<0;var c=t.amount_feedback.add(t.recipient_info.Balance),l=e.account.reserve_base;if(c.compareTo(l)<0&&(t.fund_status="insufficient-xrp",t.xrp_deficiency=l.subtract(t.recipient_info.Balance)),!t.recipient_info.exists)return t.path_status="none",void 0;t.path_status="pending",p=n(e.update_paths,500)}},e.update_quote=function(){var n=e.send,t=n.recipient_actual||n.recipient_address;e.reset_paths();try{n.path_status="bridge-quote";var r={type:"quote",amount:n.amount_feedback.to_text()+"/"+n.amount_feedback.currency().to_json(),destination:n.quote_destination};$.isArray(n.extra_fields)&&$.each(n.extra_fields,function(){r[this.name]=this.value}),$.ajax({url:n.quote_url,dataType:"json",data:r,error:function(){setImmediate(function(){e.$apply(function(){e.send.path_status="error-quote"})})},success:function(r){e.$apply(function(){var a=n.recipient_actual||n.recipient_address;if(t===a){var s=n.amount_feedback;if(s.equals(n.amount_feedback)){if(!r||!r.quote||"success"!==r.result&&"success"!==r.status||!Array.isArray(r.quote.send)||!r.quote.send.length||!r.quote.address)return e.send.path_status="error-quote",void 0;var i=o.from_json(r.quote.send[0]);n.quote=r.quote,n.recipient_actual=r.quote.address,n.amount_actual=i,e.update_paths()}}})}})}catch(a){console.error(a.stack?a.stack:a),e.send.path_status="error-quote"}},e.reset_paths=function(){var n=e.send;n.alternatives=[]},e.update_paths=function(){var n,t=e.send,a=t.recipient_actual||t.recipient_address,i=t.amount_actual||t.amount_feedback;if(e.reset_paths(),t.last_am_recipient=a,t.last_amount=t.amount_feedback,t.path_status="pending",!t.pathfind||t.pathfind.src_account!==r.account||t.pathfind.dst_account!==a||!t.pathfind.dst_amount.equals(i)){var c=s.remote.path_find(r.account,a,i);t.pathfind=c;var d;c.on("update",function(r){e.$apply(function(){d=new Date,clearInterval(u),u=setInterval(function(){e.$apply(function(){var n=Math.round((new Date-d)/1e3);e.lastUpdate=n?n:0})},1e3);var s=t.recipient_actual||t.recipient_address;if(a===s){var c=t.amount_actual||t.amount_feedback;if(c.equals(i)){if(r.alternatives&&r.alternatives.length){var p;e.send.path_status="done",e.send.alternatives=_.map(r.alternatives,function(n,t){var r={};return r.amount=o.from_json(n.source_amount),r.send_max=r.amount.product_human(o.from_json("1.01")),r.paths=n.paths_computed?n.paths_computed:n.paths_canonical,n.source_amount.currency?n.source_amount.currency===e.send.currency_code&&(p=t):"XRP"===e.send.currency_code&&(p=t),r}),p&&e.send.alternatives.splice(0,0,e.send.alternatives.splice(p,1)[0])}else e.send.path_status="no-path";n||(l.track("Send pathfind",{Status:"success",Currency:e.send.currency_code,"Address Type":e.send.bitcoin?"bitcoin":e.send.federation?"federation":"ripple","Destination Tag":!!e.send.dt,Paths:r.alternatives.length}),n=!0)}}})}),c.on("error",function(n){setImmediate(function(){e.$apply(function(){t.path_status="error"})}),l.track("Send pathfind",{Status:"error",Message:n.engine_result,Currency:e.send.currency_code,"Address Type":e.send.bitcoin?"bitcoin":e.send.federation?"federation":"ripple","Destination Tag":!!e.send.dt})})}},e.handle_paths=function(n){n.alternatives&&n.alternatives.length?(e.send.path_status="done",e.send.alternatives=_.map(n.alternatives,function(e){var n={};return n.amount=o.from_json(e.source_amount),n.send_max=n.amount.product_human(o.from_json("1.01")),n.paths=e.paths_computed?e.paths_computed:e.paths_canonical,n})):e.send.path_status="no-path"},e.$watch("userBlob.data.contacts",function(n){e.recipient_query=a.queryFromOptions(n)},!0),e.$watch("lines",function(n){var t=_.uniq(_.map(_.keys(n),function(e){return e.slice(-3)}));t=_.map(t,function(n){return _.each(e.currencies_all,function(e){return n===e.value?(n=e.name,!1):void 0}),n}),e.source_currency_query=a.queryFromArray(t)},!0),e.$watch("account.max_spend",function(){e.update_amount()},!0),e.reset=function(){e.mode="form",e.send={recipient:"",recipient_name:"",recipient_address:"",recipient_prev:"",recipient_info:{},amount:"",amount_prev:new o,currency:e.xrp.name,currency_choices:e.currencies_all,currency_code:"XRP",path_status:"waiting",fund_status:"none",sender_insufficient_xrp:!1},e.nickname="",e.error_type="",e.resetAddressForm(),e.sendForm&&e.sendForm.$setPristine(!0)},e.cancelConfirm=function(){e.mode="form",e.send.alt=null,e.send.last_am_recipient=null,e.update_paths()},e.resetAddressForm=function(){e.show_save_address_form=!1,e.addressSaved=!1,e.saveAddressName="",e.addressSaving=!1,e.saveAddressForm&&e.saveAddressForm.$setPristine(!0)},e.reset_goto=function(n){e.reset(),document.location="#"+n},e.send_prepared=function(){e.send.indirect=e.send.alt?e.send.alt.paths.length:!1,e.confirm_wait=!0,n(function(){e.confirm_wait=!1},1e3,!0),e.send.pathfind&&(e.send.pathfind.close(),delete e.send.pathfind),e.mode="confirm",l.track("Send confirmation page",{Currency:e.send.currency_code,"Address Type":e.send.bitcoin?"bitcoin":e.send.federation?"federation":"ripple","Destination Tag":!!e.send.dt})},e.onTransactionProposed=function(n,t){e.$apply(function(){e.setEngineStatus(n,!1),e.sent(t.hash);for(var r,a=0;a<e.currencies_all.length;a++)if(e.currencies_all[a].value.toLowerCase()===e.send.amount_feedback.currency().to_human().toLowerCase()){e.currencies_all[a].order++,r=!0;break}r||e.currencies_all.push({name:e.send.amount_feedback.currency().to_human().toUpperCase(),value:e.send.amount_feedback.currency().to_human().toUpperCase(),order:1})})},e.onTransactionSuccess=function(n){e.$apply(function(){e.setEngineStatus(n,!0)})},e.onTransactionError=function(n){setImmediate(function(){e.$apply(function(){n.engine_result?e.setEngineStatus(n):"remoteError"===n.error?(e.mode="error",e.error_type=n.remote.error):(e.mode="error",e.error_type="unknown")})})},e.send_confirmed=function(){e.send;var n=e.send.currency.slice(0,3).toUpperCase(),t=o.from_human(""+e.send.amount+" "+n),c=e.send.recipient_address;t.set_issuer(c);var u=s.remote.transaction();if(e.send.st&&u.source_tag(e.send.st),e.send.quote){if("number"==typeof e.send.quote.destination_tag&&u.destination_tag(e.send.quote.destination_tag),"string"==typeof e.send.quote.invoice_id&&(u.tx_json.InvoiceID=e.send.quote.invoice_id.toUpperCase()),e.send.bitcoin){var d=i.decode(c,"bitcoin");for(d=sjcl.codec.bytes.toBits(d),d=sjcl.codec.hex.fromBits(d).toUpperCase();d.length<64;)d+="0";u.tx_json.InvoiceID=d}u.payment(r.account,e.send.quote.address,e.send.quote.send[0])}else{var p;p=e.send.dt?e.send.dt:a.getDestTagFromAddress(e.send.recipient),u.destination_tag(p?+p:void 0),u.payment(r.account,c,t.to_json())}e.send.alt?(u.send_max(e.send.alt.send_max),u.paths(e.send.alt.paths)):t.is_native()||u.build_path(!0),u.on("success",function(n){e.onTransactionSuccess(n,u),l.track("Send result",{Status:"success",Currency:e.send.currency_code,"Address Type":e.send.bitcoin?"bitcoin":e.send.federation?"federation":"ripple","Destination Tag":!!e.send.dt,Time:(+new Date-+e.confirmedTime)/1e3})}),u.on("proposed",function(n){e.onTransactionProposed(n,u)}),u.on("error",function(n){e.onTransactionError(n,u),l.track("Send result",{Status:"error",Message:n.engine_result,Currency:e.send.currency_code,"Address Type":e.send.bitcoin?"bitcoin":e.send.federation?"federation":"ripple","Destination Tag":!!e.send.dt,Time:(+new Date-+e.confirmedTime)/1e3})}),u.submit(),e.mode="sending",e.confirmedTime=new Date},e.sent=function(n){function t(r){e.$apply(function(){r.transaction.hash===n&&(e.setEngineStatus(r,!0),s.remote.removeListener("transaction",t))})}e.mode="status",s.remote.on("transaction",t)},e.setEngineStatus=function(n,t){switch(e.engine_result=n.engine_result,e.engine_result_message=n.engine_result_message,e.engine_status_accepted=!!t,e.mode="status",e.tx_result="partial",n.engine_result.slice(0,3)){case"tes":e.mode="status",e.tx_result=t?"cleared":"pending";break;case"tep":e.mode="status",e.tx_result="partial";break;default:e.mode="rippleerror"}},e.saveAddress=function(){e.addressSaving=!0;var n={name:e.saveAddressName,address:e.send.recipient_address},t=e.$on("$blobSave",function(){t(),e.contact=n,e.addressSaved=!0});e.userBlob.data.contacts.unshift(n)},e.$on("$destroy",function(){e.send.pathfind&&(e.send.pathfind.close(),delete e.send.pathfind)}),e.reset()}]),e.directive("unique",function(){return{restrict:"A",require:"?ngModel",link:function(e,n,t,r){if(r){var s=function(n){var t=!a.getContact(e.userBlob.data.contacts,n);return r.$setValidity("unique",t),t?n:void 0};r.$formatters.push(s),r.$parsers.unshift(s),t.$observe("unique",function(){s(r.$viewValue)})}}}})},e.exports=c},37:function(e,n,t){var r=t(42),a=t(53).Tab,s=function(){a.call(this)};r.inherits(s,a),s.prototype.tabName="receive",s.prototype.mainMenu="receive",s.prototype.angular=function(e){e.controller("ReceiveCtrl",["$scope","rpId","rpTracker",function(e,n){return n.loginStatus?(e.$watch("address",function(){void 0!==e.address&&$("#qr-code").qrcode("https://ripple.com//contact?to="+e.address)},!0),void 0):n.goId()}])},s.prototype.generateHtml=function(){return t(62)()},e.exports=s},38:function(e,n,t){var r=t(42),a=t(46),s=t(53).Tab;ripple.Amount;var o=function(){s.call(this)};r.inherits(o,s),o.prototype.tabName="trade",o.prototype.mainMenu="trade",o.prototype.generateHtml=function(){return t(65)()},o.prototype.angularDeps=s.prototype.angularDeps.concat(["books"]),o.prototype.extraRoutes=[{name:"/trade/:first/:second"}],o.prototype.angular=function(e){e.controller("TradeCtrl",["rpBooks","$scope","rpId","rpNetwork","$routeParams","$location","$filter","rpTracker",function(e,n,t,r,s,o,i,c){function l(e,t,r){var a=n.order[r];switch(a.engine_result=e.engine_result,a.engine_result_message=e.engine_result_message,e.engine_result.slice(0,3)){case"tes":a.tx_result=t?"cleared":"pending";break;case"tem":a.tx_result="malformed";break;case"ter":a.tx_result="failed";break;case"tec":a.tx_result="claim";break;case"tel":a.tx_result="local";break;default:a.tx_result="unknown",console.warn("Unhandled engine status encountered:"+e.engine_result)}}function u(){var e=n.order,t=e.currency_pair;if("string"!=typeof t||!t.match(/^[a-z]{3}\/[a-z]{3}$/i))return e.first_currency="XRP",e.second_currency="XRP",e.valid_settings=!1,void 0;var r=e.first_currency=t.slice(0,3),a=e.second_currency=t.slice(4,7),s=ripple.UInt160.from_json(e.first_issuer),o=ripple.UInt160.from_json(e.second_issuer);if("XRP"!==r&&!s.is_valid()||"XRP"!==a&&!o.is_valid()||"XRP"===r&&"XRP"===a)return e.valid_settings=!1,void 0;e.valid_settings=!0;var i=""+e.first_currency+("XRP"===e.first_currency?"":"/"+e.first_issuer)+":"+e.second_currency+("XRP"===e.second_currency?"":"/"+e.second_issuer);e.prev_settings!==i&&(f(),e.prev_settings=i),["buy","sell"].forEach(function(e){n.update_first(e),n.update_price(e),n.update_second(e)}),v()}function d(e,t){var r;try{if(r=n.userBlob.data.preferred_issuer[e],r&&r===t&&(r=n.userBlob.data.preferred_second_issuer[e]),r)return r}catch(a){}try{var s=n.balances[e].components;for(var o in s)if(o!=t)return o}catch(a){}return null}function p(e){var t,r=n.order;e&&(r.first_issuer=null,r.second_issuer=null),["first","second"].forEach(function(e){!r[e+"_issuer"]&&r[e+"_currency"]&&"XRP"!==r[e+"_currency"]&&(t=d(r[e+"_currency"]))&&(r[e+"_issuer"]=t)}),r.first_currency===r.second_currency&&r.first_issuer===r.second_issuer&&(t=d(r.first_currency,r.first_issuer))&&(r.second_issuer=t)}function f(){n.book&&"function"==typeof n.book.unsubscribe&&n.book.unsubscribe(),n.book=e.get({currency:n.order.first_currency,issuer:n.order.first_issuer},{currency:n.order.second_currency,issuer:n.order.second_issuer},n.address)}if(!t.loginStatus)return t.goId();n.pairs_query=a.queryFromOptions(n.pairs_all);var m={first:"",price:"",second:"",mode:"trade"},g={precision:5,min_precision:5,max_sig_digits:20};n.reset=function(e){var r,a=e?n.order.currency_pair:store.get("ripple_trade_currency_pair")||n.pairs_all[0].name,s=e?n.order.first_issuer:t.account,o=e?n.order.second_issuer:t.account;r=n.order?n.order.listing:store.get("ripple_trade_listing")?store.get("ripple_trade_listing"):"orderbook",n.order={currency_pair:a,first_currency:a.slice(0,3),second_currency:a.slice(4,7),first_issuer:s,second_issuer:o,listing:r,buy:jQuery.extend(!0,{},m),sell:jQuery.extend(!0,{},m),valid_settings:!1},u()},n.reset_widget=function(e){n.order[e]=jQuery.extend(!0,{},m),u()},n.setListing=function(e){n.order.listing=e,store.disabled||store.set("ripple_trade_listing",e)},n.fill_widget=function(e,t,r){n.reset_widget(e),n.order[e].price=t.price.to_human().replace(",",""),r&&(n.order[e].first=t.sum.to_human().replace(",",""),n.calc_second(e))},n.place_order=function(e){n.order[e].mode="confirm","buy"===e?(n.order.buy.sell_amount=n.order.buy.second_amount,n.order.buy.buy_amount=n.order.buy.first_amount):(n.order.sell.sell_amount=n.order.sell.first_amount,n.order.sell.buy_amount=n.order.sell.second_amount),c.track("Trade order confirmation page",{"Currency pair":n.order.currency_pair})},n.cancel_order=function(){var e=r.remote.transaction();e.offer_cancel(t.account,this.entry.seq),e.on("success",function(){c.track("Trade order cancellation",{Status:"success"})}),e.on("error",function(e){c.track("Trade order cancellation",{Status:"error",Message:e.engine_result})}),e.submit(),this.cancelling=!0},n.order_confirmed=function(e){var a=n.order[e],s=r.remote.transaction();s.offer_create(t.account,a.buy_amount,a.sell_amount),"sell"===e&&s.set_flags("Sell"),s.on("proposed",function(t){n.$apply(function(){l(t,!1,e);for(var r,a=0;a<n.pairs_all.length;a++)if(n.pairs_all[a].name===n.order.currency_pair){n.pairs_all[a].order++,r=!0;break}r||n.pairs_all.push({name:n.order.currency_pair,order:1})})}),s.on("success",function(t){n.$apply(function(){l(t,!0,e),a.mode="done",c.track("Trade order result",{Status:"success","Currency pair":n.order.currency_pair})})}),s.on("error",function(t){n.$apply(function(){l(t,!1,e),a.mode="done"}),c.track("Trade order result",{Status:"error",Message:t.engine_result,"Currency pair":n.order.currency_pair})}),s.submit(),a.mode="sending"},n.update_first=function(e){var t=n.order[e],r=n.order.first_currency||"XRP",a=""+t.first+" "+r;t.first_amount=ripple.Amount.from_human(a),"XRP"!==r&&t.first_amount.set_issuer(n.order.first_issuer)},n.update_price=function(e){var t=n.order[e],r=n.order.second_currency||"XRP",a=""+t.price+" "+r;t.price_amount=ripple.Amount.from_human(a),"XRP"!==r&&t.price_amount.set_issuer(n.order.second_issuer)
},n.update_second=function(e){var t=n.order[e],r=n.order.second_currency||"XRP",a=""+t.second+" "+r;t.second_amount=ripple.Amount.from_human(a),"XRP"!==r&&t.second_amount.set_issuer(n.order.second_issuer)},n.calc_second=function(e){var t=n.order[e];n.update_first(e),n.update_price(e),t.price_amount&&t.price_amount.is_valid()&&t.first_amount&&t.first_amount.is_valid()&&(t.second_amount=t.price_amount.product_human(t.first_amount),t.second=+t.second_amount.to_human({group_sep:!1}))},n.calc_first=function(e){var t=n.order[e];n.update_second(e),n.update_price(e),t.price_amount&&t.price_amount.is_valid()&&t.second_amount&&t.second_amount.is_valid()&&(t.first_amount=t.second_amount.ratio_human(t.price_amount),t.first=+t.first_amount.to_human({group_sep:!1}))},["first","second"].forEach(function(e){n["edit_"+e+"_issuer"]=function(){n.show_issuer_form=e,n.order[e+"_issuer_edit"]=a.unresolveContact(n.userBlob.data.contacts,n.order[e+"_issuer"]),setImmediate(function(){$("#"+e+"_issuer").select()})},n["save_"+e+"_issuer"]=function(){n.order[e+"_issuer"]=a.resolveContact(n.userBlob.data.contacts,n.order[e+"_issuer_edit"]),n.show_issuer_form=!1,u(),n.order.valid_settings&&"XRP"!==n.order[e+"_currency"]&&("first"===e?n.userBlob.data.preferred_issuer[n.order.first_currency]=n.order.first_issuer:n.order.first_currency===n.order.second_currency?n.userBlob.data.preferred_second_issuer[n.order.second_currency]=n.order.second_issuer:n.userBlob.data.preferred_issuer[n.order.second_currency]=n.order.second_issuer)}});var v=function(){var e=n.order.first_currency,t=n.order.first_issuer,r=n.order.second_currency,a=n.order.second_issuer,s="XRP"===r.toUpperCase()||a==n.address||n.lines[a+r]&&n.lines[a+r].balance.is_positive(),o="XRP"===e.toUpperCase()||t==n.address||n.lines[t+e]&&n.lines[t+e].balance.is_positive();n.order.buy.showWidget=s,n.order.sell.showWidget=o},h=i("rpamount");if(n.$watchCollection("book",function(){jQuery.isEmptyObject(n.book)||["asks","bids"].forEach(function(e){n.book[e]&&n.book[e].forEach(function(n){n.showSum=h(n.sum,g),n.showPrice=h(n.price,g);var t="bids"===e?"TakerPays":"TakerGets";n["show"+t]=h(n[t],g)})})}),["buy","sell"].forEach(function(e){n.$watch("order."+e+".first",function(){n.update_first(e)},!0),n.$watch("order."+e+".price",function(){n.update_price(e)},!0),n.$watch("order."+e+".second",function(){n.update_second(e)},!0)}),n.$watch("order.currency_pair",function(e){store.disabled||store.set("ripple_trade_currency_pair",e),u(),p(!0)},!0),n.$watch("userBlob",function(){p(!1)},!0),n.$watch("order.type",function(){v()}),n.$watch("order.first_issuer",function(){u()}),n.$watch("order.second_issuer",function(){u()}),n.$watch("balances",function(){v(),p(!1)},!0),n.$watch("userBlob.data.contacts",function(e){n.issuer_query=a.queryFromOptions(e)},!0),n.$watch("offers",function(e){n.offersCount=_.size(e)},!0),n.reset(),s.first&&s.second){var y={},b={};["first","second"].forEach(function(e){y[e]=s[e].match(/:(.+)$/),b[e]=s[e].match(/^(\w{3})/),y[e]&&(ripple.UInt160.is_valid(y[e][1])?n.order[e+"_issuer"]=y[e][1]:o.path("/trade"))}),b.first&&b.second&&(b.first[1]!==b.second[1]?n.order.currency_pair=b.first[1]+"/"+b.second[1]:o.path("/trade")),u()}}])},e.exports=o},39:function(e,n,t){var r=t(42);t(46);var a=t(53).Tab,s=function(){a.call(this)};r.inherits(s,a),s.prototype.tabName="options",s.prototype.mainMenu="advanced",s.prototype.generateHtml=function(){return t(63)()},s.prototype.angular=function(e){e.controller("OptionsCtrl",["$scope","$rootScope","rpId","rpTracker",function(e){e.options=Options,e.save=function(){store.disabled||store.set("ripple_settings",JSON.stringify(e.options)),location.reload()}}])},e.exports=s},40:function(e,n,t){var r=t(42),a=t(53).Tab,s=function(){a.call(this)};r.inherits(s,a),s.prototype.tabName="security",s.prototype.mainMenu="wallet",s.prototype.generateHtml=function(){return t(68)()},s.prototype.angular=function(e){e.controller("SecurityCtrl",["$scope","rpId","rpOldBlob","rpTracker",function(e,n,t){function r(){"string"==typeof n.username&&"string"==typeof n.password&&e.userBlob&&(e.enc=t.enc(n.username.toLowerCase(),n.password,e.userBlob))}return n.loginStatus?(e.$watch("userBlob",r,!0),void 0):n.goId()}])},e.exports=s},41:function(e,n,t){var r=t(42),a=t(53).Tab,s=function(){a.call(this)};r.inherits(s,a),s.prototype.tabName="tx",s.prototype.generateHtml=function(){return t(69)()},s.prototype.angular=function(e){e.controller("TxCtrl",["$scope","rpNetwork","$routeParams",function(e,n,t){function r(){var r=n.remote.request_ledger_hash();r.message.command="tx",r.message.transaction=t.id,r.on("success",function(n){e.$apply(function(){e.state="loaded";var t=n.tx?n.tx:n;if(_.extend(e.transaction,n),"Payment"===t.TransactionType){var r,a,s,o,i=t.Account;if(t.Amount.currency){if(t.meta.AffectedNodes)for(o=0;o<t.meta.AffectedNodes.length&&(r=t.meta.AffectedNodes[o],!r.ModifiedNode||"RippleState"!==r.ModifiedNode.LedgerEntryType||r.ModifiedNode.FinalFields.HighLimit.issuer!==i&&r.ModifiedNode.FinalFields.LowLimit.issuer!==i||r.ModifiedNode.FinalFields.Balance.currency!==t.SendMax.currency);o++)r=null;r&&(a=r.ModifiedNode.PreviousFields.Balance.value-r.ModifiedNode.FinalFields.Balance.value,r.ModifiedNode.FinalFields.HighLimit.issuer===i&&(a*=-1),s=r.ModifiedNode.FinalFields.Balance.currency)}else{if(t.meta.AffectedNodes)for(o=0;o<t.meta.AffectedNodes.length&&(r=t.meta.AffectedNodes[o],!r.ModifiedNode||"AccountRoot"!==r.ModifiedNode.LedgerEntryType||r.ModifiedNode.FinalFields.Account!==i);o++)r=null;r&&(a=r.ModifiedNode.PreviousFields.Balance-r.ModifiedNode.FinalFields.Balance-t.Fee)}var c;c=s?{value:String(a),currency:s}:a,e.amountSent=c}})}),r.on("error",function(n){e.$apply(function(){e.state="error",console.log(n)})}),r.request()}if(e.state="loading",e.transaction={hash:t.id},n.connected)r();else var a=e.$on("$netConnected",function(){a(),r()})}])},e.exports=s},42:function(e,n,t){function r(e){if(e instanceof Date)return!0;if("object"!=typeof e)return!1;var n=Date.prototype&&o(Date.prototype),t=e.__proto__&&o(e.__proto__);return JSON.stringify(t)===JSON.stringify(n)}t(43);var a=t(70),s=t(72),o=t(73),i=t(74),c=t(75);n.isArray=a,n.isDate=r,n.isRegExp=c,n.print=function(){},n.puts=function(){},n.debug=function(){},n.inspect=function(e,t,i,l){function u(e,i){if(e&&"function"==typeof e.inspect&&e!==n&&(!e.constructor||e.constructor.prototype!==e))return e.inspect(i);switch(typeof e){case"undefined":return p("undefined","undefined");case"string":var l="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return p(l,"string");case"number":return p(""+e,"number");case"boolean":return p(""+e,"boolean")}if(null===e)return p("null","null");var f=s(e),m=t?o(e):f;if("function"==typeof e&&0===m.length){if(c(e))return p(""+e,"regexp");var g=e.name?": "+e.name:"";return p("[Function"+g+"]","special")}if(r(e)&&0===m.length)return p(e.toUTCString(),"date");var v,h,y;if(a(e)?(h="Array",y=["[","]"]):(h="Object",y=["{","}"]),"function"==typeof e){var _=e.name?": "+e.name:"";v=c(e)?" "+e:" [Function"+_+"]"}else v="";if(r(e)&&(v=" "+e.toUTCString()),0===m.length)return y[0]+v+y[1];if(0>i)return c(e)?p(""+e,"regexp"):p("[Object]","special");d.push(e);var b=m.map(function(n){var t,r;if(e.__lookupGetter__&&(e.__lookupGetter__(n)?r=e.__lookupSetter__(n)?p("[Getter/Setter]","special"):p("[Getter]","special"):e.__lookupSetter__(n)&&(r=p("[Setter]","special"))),f.indexOf(n)<0&&(t="["+n+"]"),r||(d.indexOf(e[n])<0?(r=null===i?u(e[n]):u(e[n],i-1),r.indexOf("\n")>-1&&(r=a(e)?r.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+r.split("\n").map(function(e){return"   "+e}).join("\n"))):r=p("[Circular]","special")),"undefined"==typeof t){if("Array"===h&&n.match(/^\d+$/))return r;t=JSON.stringify(""+n),t.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(t=t.substr(1,t.length-2),t=p(t,"name")):(t=t.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),t=p(t,"string"))}return t+": "+r});d.pop();var w=0,k=b.reduce(function(e,n){return w++,n.indexOf("\n")>=0&&w++,e+n.length+1},0);return b=k>50?y[0]+(""===v?"":v+"\n ")+" "+b.join(",\n  ")+" "+y[1]:y[0]+v+" "+b.join(", ")+" "+y[1]}var d=[],p=function(e,n){var t={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r={special:"cyan",number:"blue","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"}[n];return r?"["+t[r][0]+"m"+e+"["+t[r][1]+"m":e};return l||(p=function(e){return e}),u(e,"undefined"==typeof i?2:i)},n.log=function(){},n.pump=null,n.inherits=function(e,n){e.super_=n,e.prototype=i(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})};var l=/%[sdj%]/g;n.format=function(e){if("string"!=typeof e){for(var t=[],r=0;r<arguments.length;r++)t.push(n.inspect(arguments[r]));return t.join(" ")}for(var r=1,a=arguments,s=a.length,o=String(e).replace(l,function(e){if("%%"===e)return"%";if(r>=s)return e;switch(e){case"%s":return String(a[r++]);case"%d":return Number(a[r++]);case"%j":return JSON.stringify(a[r++]);default:return e}}),i=a[r];s>r;i=a[++r])o+=null===i||"object"!=typeof i?" "+i:" "+n.inspect(i);return o}},43:function(e,n,t){var r=n.EventEmitter=function(){},a=t(70);t(71);var s=10;r.prototype.setMaxListeners=function(e){this._events||(this._events={}),this._maxListeners=e},r.prototype.emit=function(e){if("error"===e&&(!this._events||!this._events.error||a(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var n=this._events[e];if(!n)return!1;if("function"==typeof n){switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:var t=Array.prototype.slice.call(arguments,1);n.apply(this,t)}return!0}if(a(n)){for(var t=Array.prototype.slice.call(arguments,1),r=n.slice(),s=0,o=r.length;o>s;s++)r[s].apply(this,t);return!0}return!1},r.prototype.addListener=function(e,n){if("function"!=typeof n)throw new Error("addListener only takes instances of Function");if(this._events||(this._events={}),this.emit("newListener",e,n),this._events[e]?a(this._events[e])?this._events[e].push(n):this._events[e]=[this._events[e],n]:this._events[e]=n,a(this._events[e])&&!this._events[e].warned){var t;t=void 0!==this._maxListeners?this._maxListeners:s,t&&t>0&&this._events[e].length>t&&(this._events[e].warned=!0,console.error("(events) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),console.trace())}return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,n){function t(){r.removeListener(e,t),n.apply(this,arguments)}if("function"!=typeof n)throw new Error(".once only takes instances of Function");var r=this;return t.listener=n,r.on(e,t),this},r.prototype.removeListener=function(e,n){if("function"!=typeof n)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[e])return this;var t=this._events[e];if(a(t)){for(var r=-1,s=0,o=t.length;o>s;s++)if(t[s]===n||t[s].listener&&t[s].listener===n){r=s;break}if(0>r)return this;t.splice(r,1),0==t.length&&delete this._events[e]}else(t===n||t.listener&&t.listener===n)&&delete this._events[e];return this},r.prototype.removeAllListeners=function(e){return 0===arguments.length?(this._events={},this):(e&&this._events&&this._events[e]&&(this._events[e]=null),this)},r.prototype.listeners=function(e){return this._events||(this._events={}),this._events[e]||(this._events[e]=[]),a(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]}},44:function(e,n,t){function r(e){return t(a(e))}function a(e){return s[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var s={"./client/index.jade":48,"./client/status.jade":78,"./directives/transactionerror.jade":66,"./menu/advanced.jade":79,"./menu/wallet.jade":80,"./notification/account.jade":52,"./tabs/balance.jade":56,"./tabs/cashin.jade":60,"./tabs/contacts.jade":57,"./tabs/convert.jade":59,"./tabs/history.jade":58,"./tabs/history/effects.jade":77,"./tabs/login.jade":55,"./tabs/login/form.jade":81,"./tabs/options.jade":63,"./tabs/receive.jade":62,"./tabs/register.jade":54,"./tabs/security.jade":68,"./tabs/send.jade":64,"./tabs/trade.jade":65,"./tabs/trust.jade":61,"./tabs/tx.jade":69};r.keys=function(){return Object.keys(s)},r.resolve=a,e.exports=r},45:function(e){var n=function(){var e={ripple:"rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz",bitcoin:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"},t=function(e){return sjcl.codec.bytes.fromBits(sjcl.hash.sha256.hash(sjcl.codec.bytes.toBits(e)))};return{encode_base:function(n,t){for(var r=e[t||"ripple"],a=new sjcl.bn(r.length),s=sjcl.bn.fromBits(sjcl.codec.bytes.toBits(n)),o=[];s.greaterEquals(a);){var i=s.mod(a);o.push(r[i.limbs[0]]),s=s.div(a)}o.push(r[s.limbs[0]]);for(var c=0;c!=n.length&&!n[c];c+=1)o.push(r[0]);return o.reverse().join("")},decode_base:function(n,t){for(var r,a=e[t||"ripple"],s=new sjcl.bn(a.length),o=new sjcl.bn(0);r!=n.length&&n[r]===a[0];)r+=1;for(r=0;r!=n.length;r+=1){var i=a.indexOf(n[r]);if(0>i)return null;o=o.mul(s).addM(i)}for(var c=sjcl.codec.bytes.fromBits(o.toBits()).reverse();0===c[c.length-1];)c.pop();for(r=0;n[r]===a[0];r++)c.push(0);return c.reverse(),c},encode_base_check:function(e,r,a){var s=[].concat(e,r),o=t(t(s)).slice(0,4);return n.encode_base([].concat(s,o),a)},decode_base_check:function(e,r,a){var s=n.decode_base(r,a);if(!s||s[0]!==e||s.length<5)return 0/0;var o,i=t(t(s.slice(0,-4))).slice(0,4),c=s.slice(-4);for(o=0;4!=o;o+=1)if(i[o]!==c[o])return 0/0;return s.slice(1,-4)}}}();e.exports=n},46:function(e,n){n.stripRippleAddress=function(e){if("string"==typeof e){var n=e.indexOf("?");if(n>=0)return e.slice(0,n)}return e},n.getDestTagFromAddress=function(e){var n=e.indexOf("?");if(n>=0){if(e=e.slice(n,e.length),n=e.indexOf("dt="),n>=0)return e=e.slice(n+3,e.length),n=e.indexOf("&"),n>0?e.slice(0,n):e;if(n=e.indexOf("d="),n>=0)return e=e.slice(n+2,e.length),n=e.indexOf("&"),n>0?e.slice(0,n):e}return void 0},n.removeClassPrefix=function(e,n){var t=$(e),r=t.attr("class");r&&r.length&&(r=r.split(" ").map(function(e){return 0===e.indexOf(n)?"":e}),t.attr("class",r.join(" ")))},n.getAjaxErrorHandler=function(e){return function(n,t){switch(t){case"timeout":message="The request timed out.";break;case"notmodified":message="The request was not modified but was not retrieved from the cache.";break;case"parsererror":message="XML/Json format is bad.";break;default:message="HTTP Error ("+n.status+" "+n.statusText+")."}e(new Error(message))}},n.scrollToTop=function(){$("html, body").animate({scrollTop:0},"fast")},n.findIssuer=function(e,n){var t=null,r=0;for(var a in e)if(e.hasOwnProperty(a)&&e[a].currency===n){var s=+e[a].limit.to_text();s>r&&(r=s,t=e[a].account)}return t},n.getContact=function(e,n){for(var t=0;t<e.length;t++)if(e[t].name===n||e[t].address===n)return e[t];return!1},n.isContact=function(e,n){try{for(var t=0,r=e.length;r>t;t++)if(e[t].address===n)return e[t].name}catch(a){}},n.resolveContact=function(e,n){for(var t=0,r=e.length;r>t;t++)if(e[t].name===n)return e[t].address;return ripple.UInt160.is_valid(n)?ripple.UInt160.json_rewrite(n):""},n.unresolveContact=function(e,t){var r;return(r=n.isContact(e,t))?r:t},n.queryFromOptions=function(e){var t=_.map(e,function(e){return"string"==typeof e?e:"object"==typeof e?e.name:null});return n.queryFromArray(t)},n.queryFromArray=function(e){return function(n,t){return t instanceof RegExp?e.filter(function(e){return"string"==typeof e?e.match(t):!1}):e}},n.escapeRegExp=function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}},47:function(e,n){n.exception=function(e){console.log("function"==typeof e.getStack?e.getStack():e.stack)}},48:function(module,exports,require){var jade=require(76);module.exports=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<div rp-snapper="rp-snapper" class="mobile-nav"><div class="logo"></div><a href="#/balance" ng-class="{active: $route.current.mainMenu == \'wallet\'}" class="wallet"><span class="nav-icon nav-icon-wallet"></span><span l10n="l10n">Wallet</span></a><a href="#/balance" ng-class="{active: $route.current.mainMenu == \'balance\'}" l10n="l10n" class="sub">Balance</a><a href="#/history" ng-class="{active: $route.current.mainMenu == \'history\'}" l10n="l10n" class="sub">History</a><a href="#/contacts" ng-class="{active: $route.current.mainMenu == \'contacts\'}" l10n="l10n" class="sub">Contacts</a><a href="#/convert" ng-class="{active: $route.current.mainMenu == \'convert\'}" l10n="l10n" class="sub">Convert</a><a href="#/cashin" ng-class="{active: $route.current.mainMenu == \'cashin\'}" l10n="l10n" class="sub">Cash In</a><a href="#/security" ng-class="{active: $route.current.mainMenu == \'security\'}" l10n="l10n" class="sub">Security</a><a href="#/send" ng-class="{active: $route.current.mainMenu == \'send\'}" class="send"><span class="nav-icon nav-icon-send"></span><span l10n="l10n">Send</span></a><a href="#/receive" ng-class="{active: $route.current.mainMenu == \'receive\'}" class="receive"><span class="nav-icon nav-icon-receive"></span><span l10n="l10n">Receive</span></a><a href="#/trade" ng-class="{active: $route.current.mainMenu == \'trade\'}" class="send"><span class="nav-icon nav-icon-trade"></span><span l10n="l10n">Trade</span></a><a href="#/trust" ng-class="{active: $route.current.mainMenu == \'advanced\'}" class="advanced"><span class="nav-icon nav-icon-advanced"></span><span l10n="l10n">Advanced</span></a><a href="#/trust" ng-class="{active: $route.current.mainMenu == \'trust\'}" l10n="l10n" class="sub">Trust</a><a href="#/options" ng-class="{active: $route.current.mainMenu == \'options\'}" l10n="l10n" class="sub">Options</a></div><!-- Wrapper--><div id="wrapper"><div class="container"><!-- Header--><header><!-- Logo--><div id="logo"><a href="#/" title="Ripple"></a></div><!-- Nav--><nav class="row top-nav"><ul class="col-xs-12"><li id="nav-wallet" ng-class="{active: $route.current.mainMenu == \'wallet\'}" class="col-xs-2 col-md-1"><a href="#/balance" class="nav-icon nav-icon-wallet"><span l10n="l10n">Wallet</span></a></li><li id="nav-send" ng-class="{active: $route.current.mainMenu == \'send\'}" class="col-xs-2 col-md-1"><a href="#/send" class="nav-icon nav-icon-send"><span l10n="l10n">Send</span></a></li><li id="nav-receive" ng-class="{active: $route.current.mainMenu == \'receive\'}" class="col-xs-2 col-md-1"><a href="#/receive" class="nav-icon nav-icon-receive"><span l10n="l10n">Receive</span></a></li><li id="nav-trade" ng-class="{active: $route.current.mainMenu == \'trade\'}" class="col-xs-2 col-md-1"><a href="#/trade" class="nav-icon nav-icon-trade"><span l10n="l10n">Trade</span></a></li><li id="nav-advanced" ng-class="{active: $route.current.mainMenu == \'advanced\'}" class="col-xs-2 col-md-1"><a href="#/trust" class="nav-icon nav-icon-advanced"><span l10n="l10n">Advanced</span></a></li></ul></nav><div scope="root" rp-jade-replace="client/status.jade"></div></header><!-- Main--><div role="main" id="{{$route.current.tabClass}}" ng-view="ng-view" class="row main"></div><!-- Footer--><footer class="row"><div class="col-xs-12 col-sm-5"><a href="https://ripple.com/wiki/index.php?title=Ripple_Client_Release_Notes">Version: {{version}}</a></div><div class="col-xs-12 col-sm-7 right-links"><a href="http://ripple.com/terms" target="_blank" l10n="l10n">Terms of Service</a><a href="https://support.ripplelabs.com" target="_blank" l10n="l10n">Support</a><a href="https://ripplelabs.atlassian.net/browse/WC" target="_blank" l10n="l10n">Bug reports</a><a href="#/lang/en">English</a><a href="#/lang/cn">中文</a><a href="#/lang/it">Italiano</a><!-- Language selector--><rp-popup><a href="" rp-popup-link="rp-popup-link" l10n="l10n" class="last">more...</a><div rp-popup-content="rp-popup-content" class="languageSelector"><div class="modal-header"><button type="button" data-dismiss="modal" aria-hidden="true" class="close">&times;</button><div class="modal-title">Select a language</div></div><div class="modal-body row list"><div class="col-sm-6"><a href="#/lang/en">English</a></div><div class="col-sm-6"><a href="#/lang/cn">中文</a></div><div class="col-sm-6"><a href="#/lang/nl">Nederlands</a></div><div class="col-sm-6"><a href="#/lang/it">Italiano</a></div><div class="col-sm-6"><a href="#/lang/pl">Polski</a></div><div class="col-sm-6"><a href="#/lang/es">Español</a></div><div class="col-sm-6"><a href="#/lang/pt">Português</a></div><div class="col-sm-6"><a href="#/lang/de">Deutsch</a></div><div class="col-sm-6"><a href="#/lang/nb">Norsk</a></div><div class="col-sm-6"><a href="#/lang/sk">Slovenská</a></div><div class="col-sm-6"><a href="#/lang/ca">Català</a></div><div class="col-sm-6"><a href="#/lang/he">עברית</a></div><div class="col-sm-6"><a href="#/lang/ru">Русский</a></div><div class="col-sm-6"><a href="#/lang/ro">Român</a></div><div class="col-sm-6"><a href="#/lang/ja">日本の</a></div></div></div></rp-popup></div></footer></div></div>');return buf.join("")}},49:function(e,n,t){var r=t(51),a=function(e){var n,t=e.got?e.got:e.gets,a=e.paid?e.paid:e.pays;return _.find(r,function(e){e.name==t.currency().to_human()+"/"+a.currency().to_human()&&(n=a.ratio_human(t))}),n||(n=t.ratio_human(a)),n},s=function(e){return e&&e.length&&2===e.length&&"trust_change_balance"==e[0].type&&"trust_change_balance"==e[1].type&&e[0].currency==e[1].currency&&!e[0].amount.compareTo(e[1].amount.negate())?!0:void 0},o=e.exports={filterAnodes:function(e,n){return e?e.filter(function(e){return e=e.CreatedNode?e.CreatedNode:e.ModifiedNode?e.ModifiedNode:{},e.LedgerEntryType===n}):[]},getAnodeResult:function(e){e=e.CreatedNode?e.CreatedNode:e.ModifiedNode?e.ModifiedNode:{};var n=$.extend({},e.NewFields,e.FinalFields);return n},processAnode:function(e){var n={};return["CreatedNode","ModifiedNode","DeletedNode"].forEach(function(t){e[t]&&(n.diffType=t)}),n.diffType?(e=e[n.diffType],n.entryType=e.LedgerEntryType,n.ledgerIndex=e.LedgerIndex,n.fields=$.extend({},e.PreviousFields,e.NewFields,e.FinalFields),n.fieldsPrev=e.PreviousFields||{},n.fieldsNew=e.NewFields||{},n.fieldsFinal=e.FinalFields||{},n):null},processTxn:function(e,n,t){var r={},i=[];if(e.Account===t||e.Destination&&e.Destination===t||e.LimitAmount&&e.LimitAmount.issuer===t){var c={};if("tesSUCCESS"===n.TransactionResult){switch(e.TransactionType){case"Payment":var l=ripple.Amount.from_json(e.Amount);e.Account===t?e.Destination===t?(c.type="convert",c.spent=ripple.Amount.from_json(e.SendMax)):(c.type="sent",c.counterparty=e.Destination):(c.type="received",c.counterparty=e.Account),c.amount=l,c.currency=l.currency().to_json();break;case"TrustSet":c.type=e.Account===t?"trusting":"trusted",c.counterparty=e.Account===t?e.LimitAmount.issuer:e.Account,c.amount=ripple.Amount.from_json(e.LimitAmount),c.currency=e.LimitAmount.currency;break;case"OfferCreate":c.type="offernew",c.pays=ripple.Amount.from_json(e.TakerPays),c.gets=ripple.Amount.from_json(e.TakerGets),c.sell=e.Flags&ripple.Transaction.flags.OfferCreate.Sell;break;case"OfferCancel":c.type="offercancel";break;case"AccountSet":if(1===n.AffectedNodes.length&&2===_.size(n.AffectedNodes[0].ModifiedNode.PreviousFields))break;c.type="accountset";break;default:console.log('Unknown transaction type: "'+e.TransactionType+'"',e)}e.Flags&&(c.flags=e.Flags)}else c.type="failed";$.isEmptyObject(c)||(r.transaction=c)}return"tesSUCCESS"===n.TransactionResult&&n.AffectedNodes.forEach(function(n){var s,c=o.processAnode(n),l={};if("AccountRoot"===c.entryType&&c.fields.Account===t&&(r.accountRoot=c.fields,c.fieldsPrev.Balance)){var u=ripple.Amount.from_json(c.fields.Balance);e.Account===t&&e.Fee&&(s={type:"fee",amount:ripple.Amount.from_json(e.Fee).negate(),balance:u}),e.Fee!=c.fieldsPrev.Balance-c.fields.Balance&&(s&&(u=u.subtract(s.amount)),l.type="balance_change",l.amount=u.subtract(c.fieldsPrev.Balance),l.balance=u,r.balance_changer=l.balance_changer=!0,i.push("XRP"))}if("RippleState"!==c.entryType||c.fields.HighLimit.issuer!==t&&c.fields.LowLimit.issuer!==t){if("Offer"===c.entryType){var d=c.fields;c.fields.Account===t?("ModifiedNode"===c.diffType||"DeletedNode"===c.diffType&&c.fieldsPrev.TakerGets&&!ripple.Amount.from_json(c.fieldsFinal.TakerGets).is_zero()?(l.type="offer_partially_funded","DeletedNode"!==c.diffType?l.remaining=ripple.Amount.from_json(c.fields.TakerGets):l.cancelled=!0):(l.type="CreatedNode"===c.diffType?"offer_created":c.fieldsPrev.TakerPays?"offer_funded":"offer_cancelled","offer_funded"===l.type&&(d=c.fieldsPrev),"offer_cancelled"===l.type&&r.transaction&&"offercancel"===r.transaction.type&&(r.transaction.gets=d.TakerGets,r.transaction.pays=d.TakerPays)),l.seq=+c.fields.Sequence):e.Account!==t||$.isEmptyObject(c.fieldsPrev)||(l.type="offer_bought"),l.type&&(l.gets=ripple.Amount.from_json(d.TakerGets),l.pays=ripple.Amount.from_json(d.TakerPays),("offer_partially_funded"===l.type||"offer_bought"===l.type)&&(l.got=ripple.Amount.from_json(c.fieldsPrev.TakerGets).subtract(c.fields.TakerGets),l.paid=ripple.Amount.from_json(c.fieldsPrev.TakerPays).subtract(c.fields.TakerPays))),l.gets&&l.pays&&(l.price=a(l)),c.fields.Flags&&(l.flags=c.fields.Flags,l.sell=c.fields.Flags&ripple.Remote.flags.offer.Sell)}}else{var p=c.fields.HighLimit,f=c.fields.LowLimit;if("CreatedNode"===c.diffType)l.limit=ripple.Amount.from_json(p.value>0?p:f),l.limit_peer=ripple.Amount.from_json(p.value>0?f:p),l.type=p.value>0&&p.issuer===t||f.value>0&&f.issuer===t?"trust_create_local":"trust_create_remote";else if("ModifiedNode"===c.diffType||"DeletedNode"===c.diffType){var m=c.fieldsPrev.HighLimit,g=c.fieldsPrev.LowLimit;if(c.fieldsPrev.Balance){l.type="trust_change_balance";var v=c.fields.Balance.value>0||c.fieldsPrev.Balance.value>0?p.issuer:f.issuer;l.amount=l.amount=p.issuer===t?ripple.Amount.from_json(c.fieldsPrev.Balance.value+"/"+c.fieldsPrev.Balance.currency+"/"+v).subtract(c.fields.Balance):ripple.Amount.from_json(c.fields.Balance.value+"/"+c.fields.Balance.currency+"/"+v).subtract(c.fieldsPrev.Balance),r.balance_changer=l.balance_changer=!0,i.push(p.currency.toUpperCase())}else if(m||g)p.issuer===t?(l.limit=ripple.Amount.from_json(p),l.limit_peer=ripple.Amount.from_json(f)):(l.limit=ripple.Amount.from_json(f),l.limit_peer=ripple.Amount.from_json(p)),m?(l.prevLimit=ripple.Amount.from_json(m),l.type=p.issuer===t?"trust_change_local":"trust_change_remote"):g&&(l.prevLimit=ripple.Amount.from_json(g),l.type=p.issuer===t?"trust_change_remote":"trust_change_local");else if(c.fieldsPrev.Flags){var h=p.issuer===t?"HighNoRipple":"LowNoRipple";c.fields.Flags&ripple.Remote.flags.state[h]&&!(c.fieldsPrev.Flags&ripple.Remote.flags.state[h])?(l.noRipple=!0,l.type="trust_change_no_ripple"):c.fieldsPrev.Flags&ripple.Remote.flags.state[h]&&!(c.fields.Flags&ripple.Remote.flags.state[h])&&(l.noRipple=!1,l.type="trust_change_no_ripple"),l.type&&(l.flags=c.fields.Flags)}}$.isEmptyObject(l)||(l.counterparty=p.issuer===t?f.issuer:p.issuer,l.currency=p.currency,l.balance=p.issuer===t?ripple.Amount.from_json(c.fields.Balance).negate(!0):ripple.Amount.from_json(c.fields.Balance),r.transaction&&"trust_change_balance"===r.transaction.type&&(r.transaction.balance=l.balance))}$.isEmptyObject(l)||("DeletedNode"===c.diffType&&(l.deleted=!0),r.effects||(r.effects=[]),r.effects.push(l)),s&&(r.effects||(r.effects=[]),r.effects.push(s))}),r.accountRoot&&r.transaction&&"undefined"==typeof r.transaction.balance&&(r.transaction.balance=ripple.Amount.from_json(r.accountRoot.Balance)),!$.isEmptyObject(r)&&("OfferCancel"!==e.TransactionType||!r.transaction||r.transaction.gets&&r.transaction.pays)?(s(r.effects)&&(r.transaction||(r.transaction={}),r.transaction.type="rippling"),r.tx_type=e.TransactionType,r.tx_result=n.TransactionResult,r.fee=e.Fee,r.date=1e3*(e.date+946684800),r.hash=e.hash,r.affected_currencies=i?i:[],r.ledger_index=e.ledger_index,r):void 0}}},50:function(e){e.exports=[{value:"XRP",name:"XRP - Ripples",order:5},{value:"USD",name:"USD - US Dollar",order:4},{value:"EUR",name:"EUR - Euro",order:3},{value:"BTC",name:"BTC - Bitcoin",order:2},{value:"LTC",name:"LTC - Litecoin",order:1},{value:"JPY",name:"JPY - Japanese Yen",order:0},{value:"CNY",name:"CNY - Chinese Yuan",order:0},{value:"INR",name:"INR - Indian Rupee",order:0},{value:"RUB",name:"RUB - Russian Ruble",order:0},{value:"GBP",name:"GBP - British Pound",order:0},{value:"CAD",name:"CAD - Canadian Dollar",order:0},{value:"BRL",name:"BRL - Brazilian Real",order:0},{value:"CHF",name:"CHF - Swiss Franc",order:0},{value:"DKK",name:"DKK - Danish Krone",order:0},{value:"NOK",name:"NOK - Norwegian Krone",order:0},{value:"SEK",name:"SEK - Swedish Krona",order:0},{value:"CZK",name:"CZK - Czech Koruna",order:0},{value:"PLN",name:"PLN - Polish Zloty",order:0},{value:"AUD",name:"AUD - Australian Dollar",order:0},{value:"MXN",name:"MXN - Mexican Peso",order:0},{value:"KRW",name:"KRW - South Korean Won",order:0},{value:"TWD",name:"TWD - New Taiwan Dollar",order:0},{value:"HKD",name:"HKD - Hong Kong Dollar",order:0},{value:"KES",name:"KES - Kenyan Shilling",order:0},{value:"AMD",name:"AMD - Armenian Drams",order:0},{value:"RUR",name:"RUR - Russian Rubles",order:0}]},51:function(e){e.exports=[{name:"BTC/XRP",order:1},{name:"XRP/USD",order:1},{name:"XRP/EUR",order:1},{name:"XRP/JPY",order:0},{name:"XRP/GBP",order:0},{name:"XRP/AUD",order:0},{name:"XRP/CHF",order:0},{name:"XRP/CAD",order:0},{name:"XRP/CNY",order:0},{name:"BTC/USD",order:0},{name:"BTC/EUR",order:0},{name:"EUR/USD",order:0},{name:"USD/JPY",order:0},{name:"GBP/USD",order:0},{name:"AUD/USD",order:0},{name:"USD/CHF",order:0}]},52:function(module,exports,require){var jade=require(76);module.exports=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})switch(tx.type){case"sent":buf.push('<div l10n="l10n" class="type-info">You sent&#32;<span class="number">{{tx.amount | rpamount}}</span>&#32;<span class="currency">{{tx.currency}}</span> to&#32;<span title="{{tx.counterparty}}">{{tx.counterparty | rpcontactname}}</span></div>');break;case"received":buf.push('<div class="type-success"><span title="{{tx.counterparty}}" l10n="l10n">{{tx.counterparty | rpcontactname}} sent you</span>&#32;<span class="number">{{tx.amount | rpamount}}</span>&#32;<span class="currency">{{tx.currency}}</span></div>');break;case"trusted":buf.push('<div class="type-success"><span title="{{tx.counterparty}}" l10n="l10n">{{tx.counterparty | rpcontactname}} now trusts you for</span>&#32;<span class="number">{{tx.amount | rpamount}}</span>&#32;<span class="currency">{{tx.currency}}</span></div>');break;case"trusting":buf.push('<div class="type-success"><span title="{{tx.counterparty}}" l10n="l10n">You now trust {{tx.counterparty | rpcontactname}} for</span>&#32;<span class="number">{{tx.amount | rpamount}}</span>&#32;<span class="currency">{{tx.currency}}</span></div>')}return buf.join("")}},53:function(e,n,t){t(42),t(46),t(47);var r=function(){};r.prototype.pageMode="default",r.prototype.mainMenu="none",r.prototype.angularDeps=["charts","effects","events","fields","formatters","directives","validators","datalinks","filters"],r.prototype.aliases=[],n.Tab=r},54:function(module,exports,require){var jade=require(76);module.exports=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<section ng-controller="RegisterCtrl" class="col-xs-12 content"><div ng-show="mode==&quot;form&quot;" class="row mode-form"><div class="col-xs-12 col-md-10 col-md-offset-1"><h1 l10n="l10n">Create a Ripple Wallet</h1><p l10n="l10n" class="literal">Ripple is a global open payments system — a fast, easy way to send any kind of money to\n anyone in the world.</p><p l10n="l10n" class="literal hint">Your Wallet is only as safe as your Wallet username and passphrase, used to encrypt your Wallet data.\n Choose a passphrase you can easily remember but others cannot guess. Hint: Mix letters, numbers, and symbols.</p><p l10n="l10n" class="literal hint important">Only you have this Wallet username and passphrase and are responsible for their safekeeping. Ripple cannot\n recover them if you forget them!&#32;<a href="https://ripple.com/blog/how-to-protect-your-account/" target="_blank">Read more</a></p><form name="registerForm" ng-submit="submitForm()"><div class="row"><div class="col-sm-5 col-lg-4"><div class="form-group"><label for="register_username" l10n="l10n">Create Wallet username</label><input id="register_username" name="register_username" type="text" ng-model="username" required="required" rp-focus="rp-focus" class="form-control"/></div></div></div><div class="row"><div class="col-sm-5 col-lg-4 form-group"><label for="register_password" l10n="l10n">Create Wallet passphrase</label><input id="register_password" name="register_password1" type="password" ng-model="password1" rp-strong-password="rp-strong-password" required="required" rp-same-in-set="passwordSet" class="form-control"/></div><div class="col-sm-5 col-lg-4 form-group"><label for="register_password2" l10n="l10n">Re-enter passphrase</label><input id="register_password2" name="register_password2" type="password" ng-model="password2" required="required" rp-same-in-set="passwordSet" class="form-control"/></div><div class="col-sm-2 col-lg-4 strength {{strength}}">{{strength}}</div></div><div class="row"><div class="col-xs-12"><p ng-show="registerForm.register_password1.$error.rpSameInSet &amp;&amp; registerForm.register_password2.$dirty" l10n="l10n" class="text-error">Passwords do not match</p><p ng-show="strength==\'weak\'" l10n="l10n" class="text-error">Your password is weak. It is not a mix of letters, numbers and symbols or it is the same as your Wallet name.</p></div></div><div ng-show="showMasterKeyInput" class="row"><div class="col-sm-5 col-lg-4 form-group"><label for="register_masterkey" l10n="l10n">Secret Account Key&#32;<a href="" ng-click="showMasterKeyInput=false;" l10n="l10n">hide</a></label><input id="register_masterkey" name="register_masterkey" type="text" autocomplete="off" ng-model="masterkey" rp-master-key="rp-master-key" rp-focus="rp-focus" class="form-control"/><div ng-show="registerForm.register_masterkey.$error.rpMasterKey" class="errorBox"><p l10n="l10n" class="text-error">Secret Account Key is invalid</p></div></div></div><label for="track"><input id="track" name="track" type="checkbox" ng-model="track" class="track"/>&#32;<span l10n="l10n">Help Ripple Labs make a better product through sending anonymous client usage data.</span></label><div class="row"><div class="col-sm-5 col-lg-4"><button type="submit" ng-disabled="registerForm.$invalid || submitLoading" class="btn btn-block btn-success"><span ng-show="submitLoading" l10n="l10n">Loading...</span><span ng-hide="submitLoading" l10n="l10n">Create Wallet</span></button></div><div l10n="l10n" class="col-sm-5 col-lg-4 storeinfo">Store your Wallet with:&#32;<br/><span ng-hide="storeChange"><strong>{{blobBackendCollection.something.name}}&#32;</strong><a href="" ng-click="storeChange=true" l10n="l10n">change</a></span><span ng-show="storeChange" class="storeChange"><select ng-model="blobBackendCollection.something" ng-options="b.name for b in blobBackendCollections" ng-change="backendChange()"></select></span></div></div><div class="row"><div class="col-xs-12 literal throw"><span l10n="l10n">Already have a Wallet?&#32;</span><a href="#/login" l10n="l10n">Open wallet</a><br/><span ng-hide="showMasterKeyInput" l10n="l10n">Need to use your Secret Key?&#32;<a href="" ng-click="showMasterKeyInput=true" l10n="l10n">Use Key</a></span></div></div></form></div></div><div ng-show="mode==&quot;masterkeyerror&quot;" class="row mode-masterkeyerror"><div class="col-xs-12 col-md-10 col-md-offset-1"><h1 l10n="l10n">Secret Account Key error</h1><p l10n="l10n" class="literal">There is a Wallet with your Wallet username and passphrase, but the given Secret Account Key is not connected to it. If you decide to continue registration your new Secret Account Key will be used for current Wallet name and passphrase.</p><p><button ng-click="mode=&quot;form&quot;" l10n="l10n" class="btn btn-primary">Back</button>&#32;<button ng-click="register()" l10n="l10n" class="btn btn-default">Overwrite current key</button></p></div></div><div ng-show="mode==&quot;loginerror&quot;" class="row mode-masterkeyerror"><div class="col-xs-12 col-md-10 col-md-offset-1"><h1 l10n="l10n">Existing account error</h1><p l10n="l10n" class="literal">There is a Wallet with a similar Wallet name and passphrase, but this wallet could not be decrypted. Try choosing a different wallet name and/or passphrase.</p><p><button ng-click="mode=&quot;form&quot;" l10n="l10n" class="btn btn-primary">Back</button></p></div></div><div ng-show="mode==&quot;welcome&quot;" class="row mode-welcome"><div class="col-xs-12 col-md-10 col-md-offset-1"><h1 l10n="l10n">Welcome To ripple</h1><p l10n="l10n" class="important">Important:</p><p l10n="l10n" class="hint">The Secret Account Key below gives access to your money in the unlikely case that you lose your wallet name or passphrase.\nIn that case your contacts will be lost, but with this Secret Account Key alone anyone can retrieve your money. So please\nstore it somewhere PRIVATE AND SAFE. Read more about keys and wallet safety in&#32;<a href="#" l10n="l10n">Security</a></p><div class="credentials"><span l10n="l10n" class="username">Wallet name:<span class="value">{{username}}</span></span><span l10n="l10n" class="password">Pass phrase:<span ng-show="showPassword==true" class="value">{{password1}}&#32;</span><span ng-hide="showPassword==true" class="value">{{password}}</span><rp-confirm action-text="Are you in a safe place where no person or camera can see your screen?" action-button-text="Yes, show me" action-function="showPassword=true" cancel-button-text="no" ng-hide="showPassword==true"><a href="" l10n="l10n">Show</a></rp-confirm><a href="" ng-click="showPassword=false" ng-show="showPassword==true" l10n="l10n">Hide</a></span></div><div class="secret"><p l10n="l10n" class="important">Ripple Address</p><p class="key">{{address}}</p><p l10n="l10n" class="important">Secret Account key:</p><p ng-show="showSecret==true" class="key">{{keyOpen}}</p><p ng-hide="showSecret==true" class="key">{{key}}</p><p ng-hide="showSecret==true"><rp-confirm action-text="Are you in a safe place where no person or camera can see your screen?" action-button-text="Yes, show me" action-function="showSecret=true" cancel-button-text="no"><button l10n="l10n" class="btn btn-info btn-sm">Show secret account key</button></rp-confirm></p><p ng-show="showSecret==true"><button ng-click="showSecret=false" l10n="l10n" class="btn btn-info btn-sm">Hide secret account key</button></p></div><p l10n="l10n" class="important">Have you saved your Secret Account Key somewhere safe?</p><div class="row"><div class="col-xs-12 col-sm-5 col-lg-4"><a href="#balance" ng-click="goToBalance()" l10n="l10n" class="btn btn-info btn-block btn-big">Yes, I saved my secret account key</a></div></div></div></div></section>');
return buf.join("")}},55:function(module,exports,require){var jade=require(76);module.exports=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<section ng-controller="LoginCtrl" class="col-xs-12 content"><div ng-hide="$routeParams.tab" class="row normal-login"><h1 l10n="l10n">Open Wallet</h1><div class="col-sm-10 col-sm-offset-1"><div class="row"><div class="col-xs-12"><p l10n="l10n" class="literal">Enter the Name and Passphrase used to encrypt your Wallet below.</p></div></div><form name="loginForm" ng-submit="submitForm()"><div class="row"><div class="col-xs-12 col-sm-6 col-md-5"><div class="form-group"><label for="login_username" l10n="l10n">Wallet name</label><input id="login_username" name="login_username" type="text" ng-model="username" required="required" rp-focus-on-empty="rp-focus-on-empty" rp-autofill="$routeParams.username" class="form-control"/></div><div class="form-group"><label for="login_password" l10n="l10n">Passphrase</label><input id="login_password" name="login_password" type="password" ng-model="password" required="required" rp-focus="rp-focus" class="form-control"/></div></div></div><div class="row"><div class="col-xs-12"><div ng-show="status" class="text-status"><span>{{status}}</span><br/><div ng-repeat="message in backendMessages" class="backend"><b>{{message.backend}} &#32;</b><span>{{message.message}}</span></div></div></div><div class="col-xs-12"><div class="row"><div class="col-xs-12 col-sm-6 col-md-5"><button type="submit" ng-disabled="loginForm.$invalid || ajax_loading" rp-spinner="{{ajax_loading ? 4 : null}}" class="btn btn-lg btn-submit btn-block btn-primary"><span l10n="l10n">Open Wallet</span></button></div><div class="col-xs-12 col-sm-5 col-md-4"><div class="storageinfo"><span l10n="l10n" class="fetch">Fetch wallet from</span><span ng-hide="storeChange"><strong>{{blobBackendCollection.something.name}}&#32;</strong><a href="" ng-click="storeChange=true" l10n="l10n">change</a></span><span ng-show="storeChange"><select ng-model="blobBackendCollection.something" ng-options="b.name for b in blobBackendCollections" ng-change="backendChange()"></select><a href="" ng-click="storeChange=false" l10n="l10n">ok</a></span></div></div></div></div></div><div class="row"><div class="col-xs-12"><p class="literal"><span l10n="l10n">New to ripple?&#32;</span><a href="#register" l10n="l10n">Create a wallet</a></p></div></div></form></div></div><div ng-show="$routeParams.tab" class="row action-login"><h1 ng-show="\'send\' == $routeParams.tab" l10n="l10n">Transaction summary</h1><h1 ng-show="\'trust\' == $routeParams.tab" l10n="l10n">Grant Trust</h1><h1 ng-show="\'contacts\' == $routeParams.tab" l10n="l10n">Add contact</h1><div class="col-xs-12 col-sm-6 col-md-6"><div ng-show="\'send\' == $routeParams.tab" class="info"><p class="literal">{{$routeParams.label}}</p><p ng-show="$routeParams.amount" l10n="l10n">you will send</p><p ng-hide="$routeParams.amount" l10n="l10n">you will send money to the ripple address</p><div ng-show="$routeParams.amount" class="amount"><span class="number">{{$routeParams.amount | rpamount:{xrp_human: true} }}</span><span class="currency">{{$routeParams.amount | rpcurrency}}</span></div><p ng-show="$routeParams.amount" l10n="l10n">To the ripple address</p><div class="address">{{$routeParams.to}}</div></div><div ng-show="\'trust\' == $routeParams.tab" class="info"><p class="literal">{{$routeParams.label}}</p><p l10n="l10n">you will trust</p><div ng-show="$routeParams.amount" class="amount"><span class="number">{{$routeParams.amount | rpamount:{xrp_human: true} }}</span><span class="currency">{{$routeParams.amount | rpcurrency}}</span></div><p ng-hide="$routeParams.name" l10n="l10n">To ripple address</p><p ng-show="$routeParams.name" l10n="l10n">To <b>{{$routeParams.name}}</b> with a ripple address</p><div class="address">{{$routeParams.to}}</div></div><div ng-show="\'contacts\' == $routeParams.tab" class="info"><p class="literal">{{$routeParams.label}}</p><span><p l10n="l10n">you will add the user</p><div class="address">{{$routeParams.to}}</div><p l10n="l10n">To your ripple contacts</p></span></div></div><div class="col-xs-12 col-sm-6 col-md-5 col-lg-4 col-lg-offset-1"><form name="loginForm" ng-submit="submitForm()"><div class="form-group"><label for="login_username" l10n="l10n">Wallet name</label><input id="login_username" name="login_username" type="text" ng-model="username" required="required" rp-focus-on-empty="rp-focus-on-empty" rp-autofill="$routeParams.username" class="form-control"/></div><div class="form-group"><label for="login_password" l10n="l10n">Passphrase</label><input id="login_password" name="login_password" type="password" ng-model="password" required="required" rp-focus="rp-focus" class="form-control"/></div><label class="storageinfo"><span ng-hide="storeChange"><strong>{{blobBackendCollection.something.name}}&#32;</strong><a href="" ng-click="storeChange=true" l10n="l10n">change</a></span><span ng-show="storeChange"><select ng-model="blobBackendCollection.something" ng-options="b.name for b in blobBackendCollections" ng-change="backendChange()"></select><a href="" ng-click="storeChange=false" l10n="l10n">ok</a></span></label><div class="row"><div ng-show="status" class="col-xs-12 text-status"><span>{{status}}</span><br/><div ng-repeat="message in backendMessages" class="backend"><b>{{message.backend}} &#32;</b><span>{{message.message}}</span></div></div></div><div class="row"><div class="col-xs-12"><button type="submit" ng-disabled="loginForm.$invalid || ajax_loading" rp-spinner="{{ajax_loading ? 4 : null}}" class="btn btn-lg btn-submit btn-block btn-primary">Open Wallet</button></div></div><p l10n="l10n" class="literal hint">You can confirm this transaction on the next page.</p><p l10n="l10n" class="literal">New to ripple?&#32;<a href="#/register" l10n-inc="l10n-inc">Create a wallet</a></p></form></div></div></section>');return buf.join("")}},56:function(module,exports,require){var jade=require(76);module.exports=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{}){buf.push('<nav class="col-xs-12 col-md-2"><h2 ng-bind="$route.current.tabName | rpucfirst"></h2><ul><li ng-class="{active: $route.current.tabName == \'balance\'}"><a href="#/balance" l10n="l10n">Balance</a></li><li ng-class="{active: $route.current.tabName == \'history\'}"><a href="#/history" l10n="l10n">History</a></li><li ng-class="{active: $route.current.tabName == \'contacts\'}"><a href="#/contacts" l10n="l10n">Contacts</a></li><li ng-class="{active: $route.current.tabName == \'convert\'}"><a href="#/convert" l10n="l10n">Convert</a></li><li ng-class="{active: $route.current.tabName == \'cashin\'}"><a href="#/cashin" l10n="l10n">Cash In</a></li><li ng-class="{active: $route.current.tabName == \'security\'}"><a href="#/security" l10n="l10n">Security</a></li></ul></nav><section ng-controller="BalanceCtrl" class="col-xs-12 col-md-10 content"><group ng-hide="connected" class="disconnected"><p l10n="l10n" class="literal">You have to be online to see this screen</p></group><group ng-hide="!connected || loadState.account" class="disconnected"><p l10n="l10n" class="literal">Loading...</p></group><group ng-show="connected &amp;&amp; loadState.account"><div id="welcome" ng-hide="account.Balance" class="div"><p l10n="l10n" class="title">Welcome to Ripple.</p><p l10n="l10n">You currently don&#39;t have any ripples (XRP). To get started you can:</p><div class="actions"><a href="#receive" class="receive"></a><a href="https://support.ripplelabs.com/hc/en-us/articles/201209016" class="buy"></a><a href="https://support.ripplelabs.com/hc/en-us/articles/201082577-Current-Ripple-Labs-giveaways" class="giveaway"></a></div></div><div ng-show="account.Balance" class="row row-padding-small currency-summary positive"><div class="col-xs-6 col-md-4 col-lg-3 balancebox"><div class="lbl">XRP - Ripple</div><div class="balance xrp"><span rp-tooltip="{{account.Balance | rpamount:{rel_precision: 2, max_sig_digits: 20} }}">{{account.Balance | rpamount:{rel_precision: 2} }}</span><span class="secondary">(reserve: {{ account.reserve | rpamount }} XRP)</span></div></div><div ng-repeat="entry in balances" ng-hide="entry.total.is_zero()" class="col-xs-6 col-md-4 col-lg-3 balancebox"><div class="lbl">{{entry.total | rpcurrencyfull}}</div><div class="balance"><span rp-tooltip="{{entry.total | rpamount}}">{{entry.total | rpamount:{rel_precision: 0} }}</span></div></div></div><div class="row"><table ng-show="account.Balance" class="table events"><caption l10n="l10n">Activity</caption><thead><tr><th l10n="l10n" class="date">Date</th><th l10n="l10n" class="desc">Event</th></tr></thead><tbody ng-class="{passive: loading}"><tr ng-repeat="entry in transactions" ng-class="entry.transaction.type" rp-link-tx="entry.hash"><td class="date">{{entry.date | rpfromnow}}</td><td ng-switch on="entry.transaction.type" class="desc"><div ng-switch-when="sent" class="transaction"><span l10n="l10n">You sent<strong class="nowrap"> {{entry.transaction.amount | rpamount}} {{entry.transaction.amount | rpcurrency}}</strong> to&#32;<span title="{{entry.transaction.counterparty}}" class="address">{{entry.transaction.counterparty | rpcontactname}}</span></span><a ng-hide="entry.transaction.counterparty | rponlycontactname" href="#/contact?to={{entry.transaction.counterparty}}" rp-no-propagate="rp-no-propagate" title="Add to contacts" class="add btn btn-default btn-sm">+&#32;<span l10n="l10n" class="hidden-xs">Add to contacts</span><span class="visible-xs"><i class="fa fa-user"></i></span></a>');var __val__=require(77)();buf.push(null==__val__?"":__val__),buf.push('</div><div ng-switch-when="received" class="transaction"><span title="{{entry.transaction.counterparty}}" l10n="l10n" class="address">{{entry.transaction.counterparty | rpcontactname}} sent you</span><strong class="nowrap"> {{entry.transaction.amount | rpamount}} {{entry.transaction.amount | rpcurrency}}</strong><a ng-hide="entry.transaction.counterparty | rponlycontactname" href="#/contact?to={{entry.transaction.counterparty}}" rp-no-propagate="rp-no-propagate" title="Add to contacts" class="add btn btn-default btn-sm">+&#32;<span l10n="l10n" class="hidden-xs">Add to contacts</span><span class="visible-xs"><i class="fa fa-user"></i></span></a>');var __val__=require(77)();buf.push(null==__val__?"":__val__),buf.push('</div><div ng-switch-when="convert" class="transaction"><span l10n="l10n">You requested to convert<strong class="nowrap"> {{entry.transaction.spent | rpamount}}\n{{entry.transaction.spent | rpcurrency}}</strong> to<strong class="nowrap"> {{entry.transaction.amount | rpamount}}\n{{entry.transaction.amount | rpcurrency}}</strong></span>');var __val__=require(77)();buf.push(null==__val__?"":__val__),buf.push('</div><div ng-switch-when="trusted" class="transaction"><span title="{{entry.transaction.counterparty}}" l10n="l10n" class="address">{{entry.transaction.counterparty | rpcontactname}} now trusts you for</span><strong class="nowrap"> {{entry.transaction.amount | rpamount}}\n{{entry.transaction.amount | rpcurrency}}</strong><a ng-hide="entry.transaction.counterparty | rponlycontactname" href="#/contact?to={{entry.transaction.counterparty}}" rp-no-propagate="rp-no-propagate" title="Add to contacts" class="add btn btn-default btn-sm">+&#32;<span l10n="l10n" class="hidden-xs">Add to contacts</span><span class="visible-xs"><i class="fa fa-user"></i></span></a>');var __val__=require(77)();buf.push(null==__val__?"":__val__),buf.push('</div><div ng-switch-when="trusting" class="transaction"><span l10n="l10n">You now trust&#32;<span title="{{entry.transaction.counterparty}}" class="address">{{entry.transaction.counterparty | rpcontactname}}</span> for<strong class="nowrap"> {{entry.transaction.amount | rpamount}}\n{{entry.transaction.amount | rpcurrency}}</strong>.</span><a ng-hide="entry.transaction.counterparty | rponlycontactname" href="#/contact?to={{entry.transaction.counterparty}}" rp-no-propagate="rp-no-propagate" title="Add to contacts" class="add btn btn-default btn-sm">+&#32;<span l10n="l10n" class="hidden-xs">Add to contacts</span><span class="visible-xs"><i class="fa fa-user"></i></span></a>');var __val__=require(77)();buf.push(null==__val__?"":__val__),buf.push('</div><div ng-switch-when="offernew" class="transaction"><span ng-show="entry.transaction.sell" l10n="l10n">You created an offer to sell&#32;<strong>{{entry.transaction.gets | rpamount}} {{entry.transaction.gets | rpcurrency}}</strong> for&#32;<strong>{{entry.transaction.pays | rpamount}} {{entry.transaction.pays | rpcurrency}}</strong></span><span ng-hide="entry.transaction.sell" l10n="l10n">You created an offer to buy&#32;<strong>{{entry.transaction.pays | rpamount}} {{entry.transaction.pays | rpcurrency}}</strong> for&#32;<strong>{{entry.transaction.gets | rpamount}} {{entry.transaction.gets | rpcurrency}}</strong></span>');var __val__=require(77)();buf.push(null==__val__?"":__val__),buf.push('</div><div ng-switch-when="offercancel" class="transaction"><span l10n="l10n">You cancelled an offer accepting&#32;<strong class="nowrap">{{entry.transaction.pays | rpamount}}\n{{entry.transaction.pays | rpcurrency}}</strong> for&#32;<strong class="nowrap">{{entry.transaction.gets | rpamount}}\n{{entry.transaction.gets | rpcurrency}}</strong></span>');var __val__=require(77)();buf.push(null==__val__?"":__val__),buf.push('</div><div ng-switch-when="accountset" l10n="l10n" class="transaction">Account details have been changed</div><div ng-switch-when="rippling" class="transaction"><span l10n="l10n">Rippling</span>');var __val__=require(77)();buf.push(null==__val__?"":__val__),buf.push('</div><div ng-switch-when="failed" l10n="l10n" class="transaction">Failed transaction</div><div ng-switch-default="ng-switch-default" class="transaction">');var __val__=require(77)();buf.push(null==__val__?"":__val__),buf.push('</div></td></tr></tbody><tfoot><tr><td colspan="2"><a href="" ng-click="loadMore()" ng-show="!tx_load_status &amp;&amp; has_more" l10n="l10n">Load more</a><span ng-show="tx_load_status == \'loading\'" l10n="l10n"> Loading...</span><span ng-show="tx_load_status == \'error\'" l10n="l10n"> Error</span><span ng-show="!transactions.length &amp;&amp; !tx_load_status" l10n="l10n"> No past transactions found</span></td></tr></tfoot></table></div></group></section>')}return buf.join("")}},57:function(module,exports,require){var jade=require(76);module.exports=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<nav class="col-xs-12 col-md-2"><h2 ng-bind="$route.current.tabName | rpucfirst"></h2><ul><li ng-class="{active: $route.current.tabName == \'balance\'}"><a href="#/balance" l10n="l10n">Balance</a></li><li ng-class="{active: $route.current.tabName == \'history\'}"><a href="#/history" l10n="l10n">History</a></li><li ng-class="{active: $route.current.tabName == \'contacts\'}"><a href="#/contacts" l10n="l10n">Contacts</a></li><li ng-class="{active: $route.current.tabName == \'convert\'}"><a href="#/convert" l10n="l10n">Convert</a></li><li ng-class="{active: $route.current.tabName == \'cashin\'}"><a href="#/cashin" l10n="l10n">Cash In</a></li><li ng-class="{active: $route.current.tabName == \'security\'}"><a href="#/security" l10n="l10n">Security</a></li></ul></nav><section ng-controller="ContactsCtrl" class="col-xs-12 col-md-10 content"><div class="row row-padding-small head hidden-xs"><div l10n="l10n" class="col-xs-3">Name</div><div l10n="l10n" class="col-xs-6">Address</div><div class="col-xs-3 text-right"><a ng-click="toggle_form()" ng-disabled="addform_visible" l10n="l10n" class="btn btn-success btn-sm sign">Add contact</a></div></div><div class="row head visible-xs"><div class="col-xs-12"><a ng-click="toggle_form()" ng-disabled="addform_visible" l10n="l10n" class="btn btn-success btn-block btn-sm sign">Add contact</a></div></div><div ng-show="addform_visible" class="row row-padding-small addForm"><div class="col-xs-12 col-sm-5"><form name="addForm" id="addForm" ng-submit="create()"><div class="form-group"><label for="Name" l10n="l10n">Name</label><input id="name" name="name" type="text" step="any" maxlength="70" ng-model="contact.name" rp-unique="userBlob.data.contacts" rp-unique-field="name" rp-autofill="$routeParams.name" rp-autofill-on="addform_visible = true" required="required" rp-focus="rp-focus" class="form-control input-lg name"/><div rp-errors="name" class="errorGroup"><div rp-error-on="required" l10n="l10n" class="error">Please enter a name.</div><div rp-error-on="rpUnique" l10n="l10n" class="error">You already have a contact with the same name.</div></div></div><div class="form-group"><label for="Address" l10n="l10n">Address</label><input id="address" name="address" type="text" step="any" ng-model="contact.address" rp-dest="rp-dest" rp-dest-address="rp-dest-address" rp-dest-bitcoin="rp-dest-bitcoin" rp-unique="userBlob.data.contacts" rp-unique-field="address" rp-autofill="$routeParams.to" rp-autofill-on="addform_visible = true" required="required" class="form-control input-lg address"/><div rp-errors="address" class="errorGroup"><div rp-error-on="required" l10n="l10n" class="error">Please enter an address.</div><div rp-error-on="rpUnique" l10n="l10n" class="error">You already have a contact with the same address.</div><div rp-error-on="rpDest" l10n="l10n" class="error">Not a valid address.</div></div></div><div class="form-group"><label for="dt" l10n="l10n">Destination tag</label><input id="dt" name="dt" type="text" step="any" placeholder="Leave blank if not applicable" ng-model="contact.dt" rp-stdt="rp-stdt" rp-autofill="$routeParams.dt" class="form-control input-lg dt"/><div rp-errors="dt" class="errorGroup"><div rp-error-on="rpStdt" l10n="l10n" class="error">Invalid destination tag</div></div></div><div class="row row-padding-small"><div class="col-xs-6 col-sm-4"><button type="button" ng-click="addform_visible = false" l10n="l10n" class="btn btn-default btn-block">Cancel</button></div><div class="col-xs-6 col-sm-8"><button type="submit" ng-disabled="addForm.$invalid" l10n="l10n" class="btn btn-success btn-block submit">Add contact</button></div></div></form></div></div><div ng-repeat="entry in userBlob.data.contacts" ng-class="{editing: editing}" ng-controller="ContactRowCtrl" class="row row-padding-small contact"><div class="col-xs-12 col-sm-3"><div ng-show="editing"><ng-form name="inlineName"><input name="editname" type="text" maxlength="70" ng-model="editname" rp-unique="userBlob.data.contacts" rp-unique-field="name" rp-unique-orig="entry.name" ng-enter="update($index)" class="form-control inline"/><div rp-errors="editname" class="errorGroup"><div rp-error-on="rpUnique" l10n="l10n" class="error">You already have a contact with the same name.</div></div></ng-form></div><span ng-hide="editing" class="name">{{entry.name}}</span></div><div class="col-xs-12 col-sm-6"><div ng-show="editing"><ng-form name="inlineAddress"><input name="editaddress" type="text" ng-model="editaddress" rp-unique="userBlob.data.contacts" rp-unique-field="address" rp-unique-orig="entry.address" rp-dest="rp-dest" rp-dest-address="rp-dest-address" rp-dest-bitcoin="rp-dest-bitcoin" ng-enter="update($index)" class="form-control inline"/><div rp-errors="editaddress" class="errorGroup"><div rp-error-on="rpUnique" l10n="l10n" class="error">You already have this address.</div><div rp-error-on="rpDest" l10n="l10n" class="error">Not a valid address.</div></div><div class="form-group"><label for="contact_dt" l10n="l10n">Destination tag</label><input id="contact_dt" name="dt" type="text" step="any" placeholder="Leave blank if not applicable" ng-model="editdt" rp-stdt="rp-stdt" rp-autofill="$routeParams.dt" ng-enter="update($index)" class="form-control dt inline"/><div rp-errors="dt" class="errorGroup"><div rp-error-on="rpStdt" l10n="l10n" class="error">Invalid destination tag.</div></div></div><div class="row"><div class="col-xs-6 col-sm-6 col-md-8 col-lg-9"><rp-confirm action-text="Are you sure you want to delete this contact?" action-button-text="Delete" action-button-css="btn btn-default btn-danger" action-function="remove($index)" cancel-button-css="btn btn-default" cancel-button-text="Cancel" ng-hide="showPassword==true"><a href="" l10n="l10n" class="danger">Delete</a></rp-confirm></div><div class="col-xs-6 col-sm-6 col-md-4 col-lg-3"><button ng-disabled="inlineAddress.editaddress.$error.rpDest" ng-click="update($index)" l10n="l10n" class="save btn btn-block btn-success">Save</button></div></div></ng-form></div><div ng-hide="editing"><b class="hidden-xs">{{entry.address | rpaddressorigin}}: {{entry.address}}</b></div></div><div class="col-xs-12 col-sm-3 text-right"><div class="row padding-vertical-xs"><div ng-hide="editing" class="col-xs-6"><button ng-click="edit($index)" l10n="l10n" class="edit btn btn-block btn-default btn-sm">Edit</button></div><div ng-show="editing" class="col-xs-6"><button ng-click="cancel($index)" l10n="l10n" class="editing btn-block btn btn-default btn-sm">Cancel</button></div><div class="col-xs-6"><button ng-click="send($index)" l10n="l10n" class="send btn btn-block btn-primary btn-sm">Send</button></div></div></div></div><div ng-hide="userBlob.data.contacts.length" l10n="l10n">You don\'t have any contacts yet.\nClick on "Add contact" button in the top right corner to add a new contact.</div></section>');return buf.join("")}},58:function(module,exports,require){var jade=require(76);module.exports=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{}){buf.push('<nav class="col-xs-12 col-md-2"><h2 ng-bind="$route.current.tabName | rpucfirst"></h2><ul><li ng-class="{active: $route.current.tabName == \'balance\'}"><a href="#/balance" l10n="l10n">Balance</a></li><li ng-class="{active: $route.current.tabName == \'history\'}"><a href="#/history" l10n="l10n">History</a></li><li ng-class="{active: $route.current.tabName == \'contacts\'}"><a href="#/contacts" l10n="l10n">Contacts</a></li><li ng-class="{active: $route.current.tabName == \'convert\'}"><a href="#/convert" l10n="l10n">Convert</a></li><li ng-class="{active: $route.current.tabName == \'cashin\'}"><a href="#/cashin" l10n="l10n">Cash In</a></li><li ng-class="{active: $route.current.tabName == \'security\'}"><a href="#/security" l10n="l10n">Security</a></li></ul></nav><section ng-controller="HistoryCtrl" class="col-xs-12 col-md-10 content"><group ng-hide="connected" class="disconnected"><p l10n="l10n" class="literal">You have to be online to see this screen</p></group><group ng-hide="!connected || loadState.transactions" class="disconnected"><p l10n="l10n" class="literal">Loading history...</p></group><div ng-show="loadState.account &amp;&amp; !account.Balance" class="unfunded"><p l10n="l10n" class="literal">Your account history is empty</p><p><a href="#/balance" class="btn btn-default">Back to balance</a></p></div><group ng-show="connected &amp;&amp; loadState.transactions &amp;&amp; account.Balance"><div class="filters row-padding-small"><ul class="row"><li l10n="l10n" class="col-xs-12 col-sm-6 col-md-3">Transaction type:<strong>&#32;</strong><a href="" ng-click="filter=\'type\'" ng-hide="filter==\'type\'" l10n="l10n">Change</a><a href="" ng-click="filter=false" ng-show="filter==\'type\'" l10n="l10n">Hide</a></li><li l10n="l10n" class="col-xs-12 col-sm-6 col-md-3">Currency:<strong>&#32;</strong><a href="" ng-click="filter=\'currency\'" ng-hide="filter==\'currency\'" l10n="l10n">Change</a><a href="" ng-click="filter=false" ng-show="filter==\'currency\'" l10n="l10n">Hide</a></li><li l10n="l10n" class="col-xs-12 col-sm-6 col-md-2">Date:<strong>&#32;</strong><a href="" ng-click="filter=\'date\'" ng-hide="filter==\'date\'" l10n="l10n">Change</a><a href="" ng-click="filter=false" ng-show="filter==\'date\'" l10n="l10n">Hide</a></li><li l10n="l10n" class="col-xs-12 col-sm-6 col-md-4">Minimum Amount:<strong> {{filters.minimumAmount}}&#32;</strong><a href="" ng-click="filter=\'minimum-amount\'" ng-hide="filter==\'minimum-amount\'" l10n="l10n">Change</a><a href="" ng-click="filter=false" ng-show="filter==\'minimum-amount\'" l10n="l10n">Hide</a></li></ul><div ng-show="filter==\'type\'" class="row filter type-filter"><div ng-repeat="name in orderedTypes" class="col-xs-12 col-sm-3 col-lg-2"><label ng-class="{active: types[name].checked}"><i ng-show="types[name].checked" class="fa fa-plus"></i><i ng-hide="types[name].checked" class="fa fa-minus"></i><span class="name">{{name}}</span><!--span.count {{typeUsage[name] || 0}}--><input type="checkbox" name="type-filter" ng-model="types[name].checked"/></label></div></div><div ng-show="filter==\'currency\'" class="row filter type-filter"><div ng-repeat="(currency,obj) in filters.currencies" class="col-xs-12 col-sm-3 col-lg-2"><label ng-class="{active: obj.checked}"><i ng-show="obj.checked" class="fa fa-plus"></i><i ng-hide="obj.checked" class="fa fa-minus"></i><span class="name">{{currency}}</span><!--span.count {{currencyUsage[currency] || 0}}--><input type="checkbox" name="currency-filter" ng-model="obj.checked"/></label></div></div><div ng-show="filter==\'date\'" class="row filter date-filter"><div l10n="l10n" class="col-xs-12">Load history for specific date range</div><form ng-submit="submitDateRangeForm()" class="form-inline"><label class="form-group date col-xs-12 col-sm-5"><div class="input-group"><div class="input-group-addon"><i l10n="l10n" class="fa fa-calendar">From</i></div><input type="text" rp-datepicker="rp-datepicker" ng-model="dateMinView" readonly="readonly" class="form-control"/></div></label><label class="form-group date col-xs-12 col-sm-5"><div class="input-group"><div class="input-group-addon"><i l10n="l10n" class="fa fa-calendar">To</i></div><input type="text" rp-datepicker="rp-datepicker" ng-model="dateMaxView" readonly="readonly" class="form-control"/></div></label><label class="form-group date col-xs-12 col-sm-2"><button type="submit" l10n="l10n" class="btn btn-block btn-success submit">Filter</button></label></form></div><div ng-show="filter==\'minimum-amount\'" class="row filter amount-filter"><div l10n="l10n" class="col-xs-12">Minimum amount filter</div><form ng-submit="submitMinimumAmountForm()" class="form-group"><div class="col-xs-8"><input type="text" ng-model="filters.minimumAmount" class="form-control"/></div><div class="col-xs-4"><button type="submit" l10n="l10n" class="btn btn-block btn-success submit">Filter</button></div></form></div></div><div class="transactions"><div class="head"><div class="type"></div><div class="i"></div><div l10n="l10n" class="dt">Date</div><div l10n="l10n" class="desc">Description</div></div><div ng-hide="historyState==\'loading\' || historyShow" l10n="l10n" class="message">Sorry, no transactions match your current filter.</div><ul><li ng-repeat="entry in historyShow" ng-click="details[entry.hash] = !details[entry.hash]" ng-class="{open: details[entry.hash]}" ng-class-odd="\'odd\'" class="{{entry.transaction.type}}"><div class="info"><span class="type">&nbsp;</span><span class="i"><i ng-show="entry.transaction.type==\'received\'" class="fa fa-arrow-down"></i><i ng-show="entry.transaction.type==\'sent\'" class="fa fa-arrow-up"></i><i ng-show="entry.transaction.type==\'trusted\'" class="fa fa-download fa-rotate-90"></i><i ng-show="entry.transaction.type==\'trusting\'" class="fa fa-download fa-rotate-270"></i><i ng-show="!entry.transaction.type || entry.transaction.type==\'offernew\' || entry.transaction.type==\'offercancel\' || entry.transaction.type==\'convert\' || entry.transaction.type==\'rippling\'" class="fa fa-exchange"></i><i ng-show="entry.transaction.type==\'accountset\'" class="fa fa-cogs"></i><i ng-show="entry.transaction.type==\'failed\'" class="fa fa-exclamation-triangle"></i></span><span class="dt">{{entry.date | date:\'EEE, MMM d, h:mm a\'}}</span><span ng-switch on="entry.transaction.type" class="desc"><span ng-switch-when="sent"><span l10n="l10n">You sent<strong> {{entry.transaction.amount | rpamount}} {{entry.transaction.amount | rpcurrency}}</strong> to&#32;<span title="{{entry.transaction.counterparty}}" class="address">{{entry.transaction.counterparty | rpcontactname}}</span></span>');var __val__=require(77)();buf.push(null==__val__?"":__val__),buf.push('</span><span ng-switch-when="received"><span l10n="l10n"><span title="{{entry.transaction.counterparty}}" class="address">{{entry.transaction.counterparty | rpcontactname}}</span> sent you<strong> {{entry.transaction.amount | rpamount}} {{entry.transaction.amount | rpcurrency}}</strong></span>');var __val__=require(77)();buf.push(null==__val__?"":__val__),buf.push('</span><span ng-switch-when="convert"><span l10n="l10n">You requested to convert<strong> {{entry.transaction.spent | rpamount}} {{entry.transaction.spent | rpcurrency}}</strong> to<strong> {{entry.transaction.amount | rpamount}} {{entry.transaction.amount | rpcurrency}}</strong></span>');var __val__=require(77)();buf.push(null==__val__?"":__val__),buf.push('</span><span ng-switch-when="trusted"><span l10n="l10n"><span title="{{entry.transaction.counterparty}}" class="address">{{entry.transaction.counterparty | rpcontactname}}</span> now trusts you for<strong> {{entry.transaction.amount | rpamount}} {{entry.transaction.amount | rpcurrency}}</strong></span>');var __val__=require(77)();buf.push(null==__val__?"":__val__),buf.push('</span><span ng-switch-when="trusting"><span l10n="l10n">You now trust&#32;<span title="{{entry.transaction.counterparty}}" class="address">{{entry.transaction.counterparty | rpcontactname}}</span> for&#32;<strong>{{entry.transaction.amount | rpamount}} {{entry.transaction.amount | rpcurrency}}</strong>.</span>');var __val__=require(77)();buf.push(null==__val__?"":__val__),buf.push('</span><span ng-switch-when="offernew"><span ng-show="entry.transaction.sell" l10n="l10n">You created an offer to sell&#32;<strong>{{entry.transaction.gets | rpamount}} {{entry.transaction.gets | rpcurrency}}</strong> for&#32;<strong>{{entry.transaction.pays | rpamount}} {{entry.transaction.pays | rpcurrency}}</strong></span><span ng-hide="entry.transaction.sell" l10n="l10n">You created an offer to buy&#32;<strong>{{entry.transaction.pays | rpamount}} {{entry.transaction.pays | rpcurrency}}</strong> for&#32;<strong>{{entry.transaction.gets | rpamount}} {{entry.transaction.gets | rpcurrency}}</strong></span>');var __val__=require(77)();buf.push(null==__val__?"":__val__),buf.push('</span><span ng-switch-when="offercancel"><span l10n="l10n">You cancelled an offer accepting&#32;<strong>{{entry.transaction.pays | rpamount}} {{entry.transaction.pays | rpcurrency}}</strong> for&#32;<strong>{{entry.transaction.gets | rpamount}} {{entry.transaction.gets | rpcurrency}}</strong></span>');var __val__=require(77)();buf.push(null==__val__?"":__val__),buf.push('</span><span ng-switch-when="accountset"><span l10n="l10n">Account details have been Changed</span>');var __val__=require(77)();buf.push(null==__val__?"":__val__),buf.push('</span><span ng-switch-when="rippling"><span l10n="l10n">Rippling</span>');var __val__=require(77)();buf.push(null==__val__?"":__val__),buf.push('</span><span ng-switch-when="failed" l10n="l10n">Failed transaction</span><span ng-switch-default="ng-switch-default">');var __val__=require(77)();buf.push(null==__val__?"":__val__),buf.push('</span></span></div><div ng-if="details[entry.hash]" class="details"><div ng-show="entry.balanceEffects" class="effects"><div l10n="l10n" class="title">Balance Changes</div><div class="effect header"><span l10n="l10n" class="description">Description</span><span l10n="l10n" class="issuer">Issuer</span><span l10n="l10n" class="amount">Amount</span><span l10n="l10n" class="balance">Final balance</span></div><div ng-repeat="effect in entry.balanceEffects" class="effect"><span class="description"><span ng-show="effect.type == \'balance_Change\'" data-label="Description" l10n="l10n">XRP balance Change</span><span ng-show="effect.type == \'trust_Change_balance\'" data-label="Description" l10n="l10n">{{effect.currency}} balance Change</span><span ng-show="effect.type == \'fee\'" data-label="Description" l10n="l10n">Fee</span></span><span rp-pretty-issuer="effect.amount.issuer().to_json()" rp-pretty-issuer-contacts="userBlob.data.contacts" rp-pretty-issuer-default="-" data-label="Issuer" class="issuer"></span><span data-label="Amount" class="amount">{{effect.amount | rpamount }} {{effect.amount | rpcurrency}}</span><span data-label="Final balance" class="balance">{{effect.balance | rpamount }} {{effect.balance | rpcurrency}}</span></div></div><div class="links"><a rp-link-tx="entry.hash" l10n="l10n" class="txLink">Transaction details</a><a href="#/contact?to={{entry.transaction.counterparty}}" rp-no-propagate="rp-no-propagate" ng-show="entry.transaction.counterparty &amp;&amp; !(entry.transaction.counterparty | rponlycontactname)" l10n="l10n" class="addLink">Add<strong> {{entry.transaction.counterparty | rpcontactname}}</strong> to contact list</a></div></div></li></ul><div class="foot"><div ng-show="historyState==\'loading\'" l10n="l10n">Loading...</div><a ng-show="historyState==\'ready\'" href="" ng-click="loadMore()" l10n="l10n" class="loadmore">Load more</a><div ng-show="historyState==\'full\'" l10n="l10n">No more transactions left</div></div></div></group></section><!-- TODO filter calendar: High/low limits.--><!-- TODO filter calendar: High limit calculation after the low limit--><!-- TODO we loose history after tab Change--><!-- TODO problem when manually editing date filter input field--><!-- TODO currency filter to work with also trust type--><!-- TODO optimization.. double (triple on load more) update history-->')
}return buf.join("")}},59:function(module,exports,require){var jade=require(76);module.exports=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<nav class="col-xs-12 col-md-2"><h2 ng-bind="$route.current.tabName | rpucfirst"></h2><ul><li ng-class="{active: $route.current.tabName == \'balance\'}"><a href="#/balance" l10n="l10n">Balance</a></li><li ng-class="{active: $route.current.tabName == \'history\'}"><a href="#/history" l10n="l10n">History</a></li><li ng-class="{active: $route.current.tabName == \'contacts\'}"><a href="#/contacts" l10n="l10n">Contacts</a></li><li ng-class="{active: $route.current.tabName == \'convert\'}"><a href="#/convert" l10n="l10n">Convert</a></li><li ng-class="{active: $route.current.tabName == \'cashin\'}"><a href="#/cashin" l10n="l10n">Cash In</a></li><li ng-class="{active: $route.current.tabName == \'security\'}"><a href="#/security" l10n="l10n">Security</a></li></ul></nav><section ng-controller="ConvertCtrl" class="col-xs-12 col-md-10 content"><group ng-hide="connected" class="disconnected"><p l10n="l10n" class="literal">You have to be online to see this screen</p></group><group ng-hide="!connected || loadState.account" class="disconnected"><p l10n="l10n" class="literal">Loading...</p></group><div ng-hide="account.Balance || !connected" class="unfunded"><p l10n="l10n" class="literal">You have to be funded before you can convert money</p><p><a href="#/balance" l10n="l10n" class="btn btn-default">Back to balance</a></p></div><form name="convertForm" id="convertForm" ng-show="mode==&quot;form&quot; &amp;&amp; account.Balance" ng-submit="convert_prepared()" class="mode-form"><p l10n="l10n" class="literal">Convert one currency into another.</p><hr/><div class="form-group"><label for="amount" l10n="l10n">Receive</label><div class="row row-padding-small amount"><div class="col-md-4"><input id="amount" name="amount" type="text" ng-model="convert.amount" required="required" rp-autofill="$routeParams.amount" rp-autofill-amount="rp-autofill-amount" rp-amount="rp-amount" rp-amount-positive="rp-amount-positive" class="value form-control"/></div><div class="col-md-3"><input id="amount_currency" name="amount_currency" type="text" rp-combobox="currency_query" rp-combobox-select="rp-combobox-select" ng-model="convert.currency" rp-autofill="$routeParams.amount" rp-autofill-currency="rp-autofill-currency" class="currency form-control"/></div></div><div rp-errors="amount" class="errorGroup"><div rp-error-on="required" l10n="l10n" class="error">Please enter an amount.</div><div rp-error-on="rpAmount" l10n="l10n" class="error">Not a valid amount.</div><div rp-error-on="rpAmountPositive" l10n="l10n" class="error">Please enter an amount greater than zero.</div></div><p ng-show="convert.path_status == \'waiting\'" l10n="l10n" class="literal">Please enter the conversion details.</p><p ng-show="convert.path_status == \'pending\'" l10n="l10n" class="literal throbber">Calculating...</p><p ng-show="convert.path_status == \'no-path\' &amp;&amp; convert.currency_code != \'XRP\'" l10n="l10n" class="literal">Sorry! Cannot convert {{convert.amount}} {{convert.currency}}. Please make sure your account has enough funds, and a&#32;<a href="https://ripplelabs.zendesk.com/hc/en-us/articles/200916587-how-to-set-a-trust-line-ripple" target="_blank">trust line</a> to a {{convert.currency}} gateway.</p><p ng-show="convert.path_status == \'error\'" l10n="l10n" class="literal">Error while calculating path</p></div><div class="currency_sets"><div ng-if="convert.path_status == \'done\'" class="row row-padding-small"><div l10n="l10n" class="col-xs-12">Convert</div></div><div class="row row-padding-small alternatives"><div ng-repeat="alt in convert.alternatives" class="col-xs-12 col-sm-6 col-md-4"><div class="am"><span class="amnt">{{alt.amount | rpamount:{rel_precision: 4, rel_min_precision: 2} }}</span><span class="currency">{{alt.amount | rpcurrency }}</span></div><button type="submit" ng-disabled="convertForm.$invalid" ng-click="convert.alt = alt" l10n="l10n" class="btn btn-block btn-success">Convert {{ alt.amount | rpcurrency }}</button></div></div><div ng-show="convert.alternatives.length &amp;&amp; lastUpdate" class="row pathupdate"><div l10n="l10n" class="col-xs-12">Paths last updated<span> {{lastUpdate}}</span><span ng-show="lastUpdate &gt; \'1\'" l10n-inc="l10n-inc"> seconds</span><span ng-show="lastUpdate == \'1\'" l10n-inc="l10n-inc"> second</span> ago</div></div></div></form><group ng-show="mode==&quot;wait_path&quot; &amp;&amp; account.Balance" class="mode-wait-path"><p l10n="l10n" class="throbber literal">Ripple is calculating a path for your conversion.</p></group><group ng-show="mode==&quot;confirm&quot; &amp;&amp; account.Balance" class="mode-confirm"><span l10n="l10n"><p l10n-inc="l10n-inc" class="literal">You are converting</p><p class="amount_feedback"><span class="value">{{convert.alt.amount | rpamount}}&#32;</span><span class="currency">{{convert.alt.amount | rpcurrency}}</span></p><p l10n-inc="l10n-inc" class="literal">to</p><p class="amount_feedback"><span class="value">{{convert.amount_feedback | rpamount}}&#32;</span><span class="currency">{{convert.amount_feedback | rpcurrency}}</span></p><p l10n-inc="l10n-inc" class="literal">You will pay at most</p><p class="amount_feedback"><span class="value">{{convert.alt.amount | rpamount}}&#32;</span><span class="currency">{{convert.alt.amount | rpcurrency}} &#32;</span><span>&plusmn; 1%</span></p><p l10n-inc="l10n-inc" class="literal">Are you sure?</p></span><div class="row row-padding-small"><div class="col-xs-6 col-sm-4 col-md-3 col-lg-2"><button ng-click="cancelConfirm()" l10n="l10n" class="btn btn-block btn-default back">&laquo; Back</button></div><div class="col-xs-6 col-sm-4 col-md-3 col-lg-2"><button type="submit" ng-click="convert_confirmed()" ng-disabled="confirm_wait" l10n="l10n" class="btn btn-block btn-success submit">Confirm</button></div></div></group><group ng-show="mode==&quot;sending&quot; &amp;&amp; account.Balance" class="mode-sending"><p l10n="l10n" class="throbber literal">Sending transaction to Ripple network</p><hr/><p><button ng-click="reset()" l10n="l10n" class="btn btn-default">Stop waiting</button></p></group><group ng-show="mode==&quot;error&quot; &amp;&amp; account.Balance" class="mode-error"><group ng-switch on="error_type"><group ng-switch-when="noPath" class="result-error"><h2 l10n="l10n" class="tx-status">No Path</h2><p l10n="l10n">Ripple was unable to find a path between you and the destination account.</p></group><group ng-switch-default="ng-switch-default"><p l10n="l10n" class="literal">Sorry, an error occurred while submitting your transaction.\n Make sure you are connected to the Internet and try again later.</p><p l10n="l10n" class="literal">Before trying again, please ensure that the transaction has\n not been executed already.</p></group></group><p><button ng-click="cancelConfirm()" l10n="l10n" class="btn btn-default">&laquo; Back</button></p></group><group ng-show="mode==&quot;status&quot; &amp;&amp; account.Balance" class="mode-status"><group ng-show="tx_result==&quot;pending&quot;" class="pending"><h2 l10n="l10n" class="tx-status">Your transaction has been submitted.</h2><p l10n="l10n">Your account balance will update once the payment has cleared.</p></group><group ng-show="tx_result==&quot;cleared&quot;" class="result-success"><h2 l10n="l10n" class="tx-status">Transaction cleared!</h2></group><group ng-show="tx_result==&quot;partial&quot;" class="result-partial"><h2 l10n="l10n" class="tx-status">Transaction partially valid!</h2><p l10n="l10n">Your transaction could only be partially applied.</p></group><group ng-show="tx_result==&quot;error&quot;" class="result-error"><h2 l10n="l10n" class="tx-status">Transaction could not be submitted!</h2><p l10n="l10n">We were unable to submit the transaction to the server.\nPlease try again later.</p></group><group ng-show="tx_result==&quot;malformed&quot;" class="result-malformed"><h2 l10n="l10n" class="tx-status">Transaction malformed!</h2><p ng-switch on="engine_result"><span ng-switch-default="ng-switch-default" l10n="l10n">Your transaction is invalid, reason: {{engine_result}} - {{engine_result_message}}</span></p></group><group ng-show="tx_result==&quot;failure&quot;" class="result-malformed"><h2 l10n="l10n" class="tx-status">Transaction malformed!</h2><p ng-switch on="engine_result"><span ng-switch-when="tefDST_TAG_NEEDED" l10n="l10n">Destination account requires destination tag to be specified when making payments.</span></p></group><group ng-show="tx_result==&quot;claim&quot;" class="result-malformed"><h2 l10n="l10n" class="tx-status">Transaction failed!</h2><p ng-switch on="engine_result"><span ng-switch-when="tecNO_DST" l10n="l10n">The destination account does not exist.</span><span ng-switch-when="tecNO_DST_INSUF_XRP" l10n="l10n">The destination account does not exist. Too little XRP sent to create it.</span><span ng-switch-default="ng-switch-default" l10n="l10n">Error: {{engine_result_message}}</span></p></group><group ng-show="tx_result==&quot;failed&quot;" class="result-failed"><h2 l10n="l10n" class="tx-status">Transaction failed!</h2><p ng-switch on="engine_result"><span ng-switch-when="terNO_LINE" l10n="l10n">You have no trust line in this currency.</span><span ng-switch-default="ng-switch-default" l10n="l10n">Your transaction failed to clear, reason: {{engine_result_message}}</span></p></group><group ng-show="tx_result==&quot;local&quot;" class="result-failed"><h2 l10n="l10n" class="tx-status">Transaction failed!</h2><p ng-switch on="engine_result"><span ng-switch-when="telINSUF_FEE_P" l10n="l10n">The particular server you sent the transaction to was too busy to forward or process\n your transaction at the fee you included in it.</span></p></group><group class="actions"><hr/><div class="actionLink"><a href="" ng-click="reset()" l10n="l10n">Do another conversion</a></div><div class="actionLink"><a href="" ng-click="reset_goto(\'balance\')" l10n="l10n">Back to balance</a></div><hr/></group></group></section>');return buf.join("")}},60:function(module,exports,require){var jade=require(76);module.exports=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<nav class="col-xs-12 col-md-2"><h2 ng-bind="$route.current.tabName | rpucfirst"></h2><ul><li ng-class="{active: $route.current.tabName == \'balance\'}"><a href="#/balance" l10n="l10n">Balance</a></li><li ng-class="{active: $route.current.tabName == \'history\'}"><a href="#/history" l10n="l10n">History</a></li><li ng-class="{active: $route.current.tabName == \'contacts\'}"><a href="#/contacts" l10n="l10n">Contacts</a></li><li ng-class="{active: $route.current.tabName == \'convert\'}"><a href="#/convert" l10n="l10n">Convert</a></li><li ng-class="{active: $route.current.tabName == \'cashin\'}"><a href="#/cashin" l10n="l10n">Cash In</a></li><li ng-class="{active: $route.current.tabName == \'security\'}"><a href="#/security" l10n="l10n">Security</a></li></ul></nav><section ng-controller="CashinCtrl" class="col-xs-12 col-md-10 content"><group ng-hide="connected" class="disconnected"><p l10n="l10n" class="literal">You have to be online to see this screen</p></group><group ng-hide="!connected || loadState.account" class="disconnected"><p l10n="l10n" class="literal">Loading...</p></group><div ng-show="loadState.account &amp;&amp; !account.Balance" class="unfunded"><p l10n="l10n" class="literal">You have to be funded before you can use this tab.</p><p><a href="#/balance" l10n="l10n" class="btn btn-default">Back to balance</a></p></div><div ng-show="account.Balance"><p l10n="l10n" class="literal">Cash In</p><hr/><ul class="cashin-list"><li><div class="row front"><div class="col-sm-2 col-sm-offset-1"><img src="img/cashin/zipzap.png" class="logo"/></div><div class="col-sm-5"><div class="description">To fund your Ripple account, simply deposit cash\n at one of ZipZap\'s U.S. payment locations. The dollars will show\n up in your account within an hour. ZipZap charges $3.95 per\n deposit, plus 3.5% of the total deposit. For more information\n and to search for a ZipZap cash-in location, visit&#32;<a href="https://www.zipzapinc.com" target="_blank">https://www.zipzapinc.com.</a> Your cash will be held by the&#32;<a href="http://snapswap.us">SnapSwap gateway.</a></div></div><div class="col-sm-2"><div class="actions"><span ng-show="loading" l10n="l10n">Loading...</span><div ng-hide="loading"><span ng-show="mode == \'step1\'"><button ng-click="displaySignupForm=true" ng-disabled="displaySignupForm" l10n="l10n" class="btn btn-success btn-block">Sign Up</button></span></div></div></div></div><div ng-show="displaySignupForm" class="row"><div class="col-md-10 col-md-offset-1 step"><div class="head"><span>To deposit cash using ZipZap please complete the following form (Step 1 of 2).</span></div><div class="alert alert-warning">Available to US customers only</div><form id="signupForm" name="signupForm" ng-submit="signup()" class="signup form-horizontal"><div class="form-group"><label for="firstname" l10n="l10n" class="control-label col-sm-4">First name</label><div class="col-sm-8"><input id="firstname" name="firstname" type="text" ng-model="form.firstname" required="required" class="form-control"/><div rp-errors="firstname" class="errorGroup"><div rp-error-on="required" l10n="l10n" class="error">Please enter your first name.</div></div></div></div><div class="form-group"><label for="lastname" l10n="l10n" class="control-label col-sm-4">Last name</label><div class="col-sm-8"><input id="lastname" name="lastname" type="text" ng-model="form.lastname" required="required" class="form-control"/><div rp-errors="lastname" class="errorGroup"><div rp-error-on="required" l10n="l10n" class="error">Please enter your last name.</div></div></div></div><div class="form-group"><label for="address" l10n="l10n" class="control-label col-sm-4">Address</label><div class="col-sm-8"><input id="address" name="address" type="text" ng-model="form.address" required="required" class="form-control"/><div rp-errors="address" class="errorGroup"><div rp-error-on="required" l10n="l10n" class="error">Please enter your address.</div></div></div></div><div class="form-group"><label for="city" l10n="l10n" class="control-label col-sm-4">City</label><div class="col-sm-8"><input id="city" name="city" type="text" ng-model="form.city" required="required" class="form-control"/><div rp-errors="city" class="errorGroup"><div rp-error-on="required" l10n="l10n" class="error">Please enter your city.</div></div></div></div><div class="form-group"><label for="state" l10n="l10n" class="control-label col-sm-4">State</label><div class="col-sm-8"><select id="state" name="state" type="text" ng-model="form.state" required="required" class="form-control"><option value="" selected="selected">Select a State</option><option value="AL">Alabama </option><option value="AK">Alaska </option><option value="AZ">Arizona </option><option value="AR">Arkansas </option><option value="CA">California </option><option value="CO">Colorado </option><option value="CT">Connecticut </option><option value="DE">Delaware </option><option value="DC">District Of Columbia </option><option value="FL">Florida </option><option value="GA">Georgia </option><option value="HI">Hawaii </option><option value="ID">Idaho </option><option value="IL">Illinois </option><option value="IN">Indiana </option><option value="IA">Iowa </option><option value="KS">Kansas </option><option value="KY">Kentucky </option><option value="LA">Louisiana </option><option value="ME">Maine </option><option value="MD">Maryland </option><option value="MA">Massachusetts </option><option value="MI">Michigan </option><option value="MN">Minnesota </option><option value="MS">Mississippi </option><option value="MO">Missouri </option><option value="MT">Montana </option><option value="NE">Nebraska </option><option value="NV">Nevada </option><option value="NH">New Hampshire </option><option value="NJ">New Jersey </option><option value="NM">New Mexico </option><option value="NY">New York </option><option value="NC">North Carolina </option><option value="ND">North Dakota </option><option value="OH">Ohio </option><option value="OK">Oklahoma </option><option value="OR">Oregon </option><option value="PA">Pennsylvania </option><option value="RI">Rhode Island </option><option value="SC">South Carolina </option><option value="SD">South Dakota </option><option value="TN">Tennessee </option><option value="TX">Texas </option><option value="UT">Utah </option><option value="VT">Vermont </option><option value="VA">Virginia </option><option value="WA">Washington </option><option value="WV">West Virginia </option><option value="WI">Wisconsin </option><option value="WY">Wyoming</option></select><div rp-errors="state" class="errorGroup"><div rp-error-on="required" l10n="l10n" class="error">Please enter your state.</div></div></div></div><div class="form-group"><label for="zipcode" l10n="l10n" class="control-label col-sm-4">Zip code</label><div class="col-sm-8"><input id="zipcode" name="zipcode" type="text" ng-model="form.zipcode" required="required" class="form-control"/><div rp-errors="zipcode" class="errorGroup"><div rp-error-on="required" l10n="l10n" class="error">Please enter your zipcode.</div></div></div></div><!--.form-group<label for="countrycode" l10n="l10n" class="control-label col-sm-4">Country code</label><div class="col-sm-8"><input id="countrycode" name="countrycode" type="text" ng-model="form.countrycode" required="required" ng-minlength="2" ng-maxlength="2" disabled="disabled" class="form-control"/><div rp-errors="countrycode" class="errorGroup"><div rp-error-on="required" l10n="l10n" class="error">Please enter your country code.</div><div rp-error-on="minlength" l10n="l10n" class="error">Country code should be exactly 2 characters.</div><div rp-error-on="maxlength" l10n="l10n" class="error">Country code should be exactly 2 characters.</div></div></div>--><div class="form-group"><label for="phone" l10n="l10n" class="control-label col-sm-4">Phone (Only Numbers)</label><div class="col-sm-8"><input id="phone" name="phone" type="text" ng-model="form.phone" required="required" class="form-control"/><div rp-errors="phone" class="errorGroup"><div rp-error-on="required" l10n="l10n" class="error">Please enter your phone number.</div></div></div></div><div class="form-group"><label for="dob" l10n="l10n" class="control-label col-sm-4">Date of birth (YYYY-MM-DD)</label><div class="col-sm-8"><input id="dob" name="dob" type="text" ng-model="form.dob" required="required" rp-dob="rp-dob" class="form-control"/><div rp-errors="dob" class="errorGroup"><div rp-error-on="required" l10n="l10n" class="error">Please enter your date of birth.</div><div rp-error-on="required" l10n="l10n" class="error">The date of birth must be in YYYY-MM-DD format.</div></div></div></div><div class="form-group"><label for="email" l10n="l10n" class="control-label col-sm-4">Email</label><div class="col-sm-8"><input id="email" name="email" type="text" ng-model="form.email" required="required" rp-email="rp-email" class="form-control"/><div rp-errors="email" class="errorGroup"><div rp-error-on="required" l10n="l10n" class="error">Please enter your email address.</div><div rp-error-on="rpEmail" l10n="l10n" class="error">Please use a valid email format.</div></div></div></div><div class="form-group"><label for="ssn" l10n="l10n" class="control-label col-sm-4">Last 4 digits of your SSN</label><div class="col-sm-8"><input id="ssn" name="ssn" type="text" ng-model="form.ssn" required="required" ng-minlength="4" ng-maxlength="4" class="form-control"/><div rp-errors="ssn" class="errorGroup"><div rp-error-on="required" l10n="l10n" class="error">Please enter last 4 digits of your social security number.</div><div rp-error-on="minlength" l10n="l10n" class="error">Please enter last 4 digits of your social security number.</div><div rp-error-on="maxlength" l10n="l10n" class="error">Please enter last 4 digits of your social security number.</div></div></div></div><div ng-show="error" class="text-error">{{error.verboseMessage}}</div><div class="row"><div class="col-xs-4"><button type="button" ng-click="displaySignupForm=false" l10n="l10n" class="btn btn-default btn-block">Cancel</button></div><div class="col-xs-8"><button type="submit" ng-disabled="signupForm.$invalid || signupProgress" class="btn btn-success btn-block"><span ng-hide="signupProgress" l10n="l10n">Sign Up</span><span ng-show="signupProgress" l10n="l10n">Loading...</span></button></div></div></form></div></div><div ng-show="mode == \'step2\'" class="row"><div class="col-md-10 col-md-offset-1 step"><div class="head"><span>To deposit cash using ZipZap, create a trustline to SnapSwap, and come back to this page (Step 2 of 2).&#32;</span><a href="" ng-click="" rp-popover="rp-popover" rp-popover-placement="bottom" l10n-rp-popover-title="Trust line" rp-popover-trigger="click">More information about trusting</a>") Why?</a></div><div class="desc">When you click "Trust SnapSwap", you\'ll be taken to a page that will have SnapSwap\'s Ripple address pre-filled. In Amount, fill in the maximum amount of USD you\'ll deposit with SnapSwap. Then click \'Grant Trust\' and return to the Cash In tab to see ZipZap instructions.</div><a href="#/trust?to=rMwjYedjc7qqtKYVLiAccJSmCwih4LnE2q" class="btn btn-success btn-block">Trust SnapSwap</a></div></div><div ng-show="mode == \'details\'" class="row details"><div class="col-md-10 col-md-offset-1 zipzapId">Zip Zap ID:<span>{{zipzap.ZipZapAcctNum}}</span></div><div class="col-md-3 col-md-offset-1"><ul class="account"><li>First name:<strong> {{zipzap.FirstName}}</strong></li><li>Last name:<strong> {{zipzap.LastName}}</strong></li><li>Address:<strong> {{zipzap.Address}}</strong></li><li>City:<strong> {{zipzap.City}}</strong></li><li>State:<strong> {{zipzap.State}}</strong></li><li>Postal code:<strong> {{zipzap.PostalCode}}</strong></li><li>Country code:<strong> {{zipzap.Country}}</strong></li><li>Phone:<strong> {{zipzap.Phone}}</strong></li><li>Date of birth:<strong> {{zipzap.DateOfBirth}}</strong></li><li>Email:<strong> {{zipzap.Email}}</strong></li></ul></div><div class="col-md-7 locator"><div class="locateTxt"><span>Follow these steps to deposit cash into your Ripple account.</span><ul><li>Go to any ZipZap payment center and deposit cash using the\n 9 digit ZipZap account number displayed on this page. Let the\n clerk know that you are making a bill payment through Softgate\n and the that the biller name is ZipZap. There is a 3.5%\n transaction fee plus an a $3.95 flat fee. You can deposit up\n to $500 per transaction.</li><li>Wait approximately 1 hour, and your deposited USD will be\n in your Ripple wallet.</li><li>To withdraw this money later, you will need to register for\n a Ripple gateway and follow the gateway\'s withdrawal policies.</li><li>For support, please visit&#32;<a href="http://support.zipzapinc.com" traget="_blank">http://support.zipzapinc.com</a></li></ul></div><div class="locateTxt">Locate a payment center</div><div class="row row-padding-small"><form name="locateForm" ng-submit="locate()"><div class="col-md-8"><input type="text" name="query" ng-model="query" required="required" placeholder="Please enter your City and State or Postal Code" class="form-control"/></div><div class="col-md-4"><button type="submit" ng-disabled="locateStatus==\'loading\' || locateForm.$invalid" class="btn btn-success btn-block"><span ng-hide="locateStatus==\'loading\'" l10n="l10n">Search!</span><span ng-show="locateStatus==\'loading\'" l10n="l10n">Loading...</span></button></div></form></div><ul class="locations"><li ng-repeat="location in locations.PayCenters"><div class="name">{{location.PayCenterName}}</div><a href="http://maps.google.com/maps?q={{location.Address}}, {{location.City}}, {{location.State}}, {{location.PostalCode}}" target="_blank" l10n="l10n">show on map</a><div>Address: {{location.Address}}, {{location.City}},\n {{location.State}}, {{location.PostalCode}}.</div><div>Phone: {{location.Phone}}</div></li><div ng-show="locateStatus==\'notfound\'">Sorry, there are no payment centers for your query.</div></ul></div></div></li></ul></div></section>');return buf.join("")}},61:function(module,exports,require){var jade=require(76);module.exports=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<nav class="col-xs-12 col-md-2"><h2 ng-bind="$route.current.tabName | rpucfirst"></h2><ul><li ng-class="{active: $route.current.tabName == \'trust\'}"><a href="#/trust" l10n="l10n">Trust</a></li><li ng-class="{active: $route.current.tabName == \'options\'}"><a href="#/options" l10n="l10n">Options</a></li></ul></nav><section ng-controller="TrustCtrl" class="col-xs-12 col-md-10 content"><group ng-hide="connected" class="disconnected"><p l10n="l10n" class="literal">You have to be online to see this screen</p></group><group ng-hide="!connected || loadState.lines" class="disconnected"><p l10n="l10n" class="literal">Loading...</p></group><group ng-show="connected &amp;&amp; loadState.lines"><div ng-hide="account.Balance" class="unfunded"><p l10n="l10n" class="literal">You have to be funded before you can grant a trust</p><p><a href="#balance" l10n="l10n" class="btn btn-default">Back to balance</a></p></div><div ng-show="mode==&quot;main&quot; &amp;&amp; account.Balance" class="row head"><div l10n="l10n" class="col-sm-4">Name / Address</div><div class="col-sm-1"><a href="" ng-click="sorting.predicate = \'currency\'; sorting.reverse=!sorting.reverse" l10n="l10n">Currency</a></div><div class="col-sm-2"><a href="" ng-click="sorting.predicate = \'balance\'; sorting.reverse=!sorting.reverse" l10n="l10n">Balance</a></div><div l10n="l10n" class="col-sm-3">Trust Limit</div><div class="col-sm-2 actions"><a ng-click="toggle_form()" ng-disabled="addform_visible || editform_visible" l10n="l10n" class="btn btn-success btn-sm btn-block sign">Add trust</a></div></div><div class="row"><div class="col-xs-12 col-sm-6"><form name="trustForm" id="trustForm" ng-submit="grant()" ng-show="mode==&quot;main&quot; &amp;&amp; ((addform_visible &amp;&amp; can_add_trust)|| editform_visible)" class="row-padding-small"><div class="row"><div class="col-xs-12 form-group"><label for="trust_counterparty" ng-show="edituser">{{ edituser }}</label><input id="trust_counterparty" name="trust_counterparty" type="text" ng-model="counterparty" rp-combobox="counterparty_query" placeholder="Contact name or Ripple address" rp-dest="rp-dest" rp-dest-address="rp-dest-address" rp-dest-contact="rp-dest-contact" rp-not-me="rp-not-me" required="required" rp-autofill="$routeParams.to" rp-autofill-on="addform_visible = true" rp-focus="rp-focus" class="form-control"/><div rp-errors="trust_counterparty" class="errorGroup"><div rp-error-valid="rp-error-valid"><div ng-show="counterparty != counterparty_address &amp;&amp; counterparty_name &amp;&amp; !error_account_reserve" class="success">{{counterparty_address}}</div><div ng-show="error_account_reserve" class="error"><span l10n="l10n">Account does not meet the minimum XRP reserve.&#32;</span><a href="https://ripple.com/wiki/Account_Creation" target="_blank" l10n="l10n">More information</a></div></div><div rp-error-on="required" l10n="l10n" class="error">Please enter a User.</div><div rp-error-on="rpNotMe" l10n="l10n" class="error">You\'ve entered your address.</div><div rp-error-on="rpDest" l10n="l10n" class="error">User should be either a name\n from your contact list or Ripple address.</div></div></div></div><div class="row"><div class="col-xs-12 form-group"><label for="trust_amount" l10n="l10n">Amount</label><div class="row"><div class="col-md-5"><input id="trust_amount" name="trust_amount" type="number" step="any" ng-model="amount" ng-pattern="validation_pattern" rp-autofill="$routeParams.amount" rp-autofill-amount="rp-autofill-amount" rp-autofill-on="addform_visible = true" required="required" class="form-control value"/></div><div class="col-md-7"><input id="trust_amount_currency" name="trust_amount_currency" type="text" ng-model="currency" rp-combobox="currency_query" rp-combobox-select="rp-combobox-select" rp-autofill="$routeParams.amount" rp-autofill-currency="rp-autofill-currency" rp-autofill-on="addform_visible = true" rp-not-xrp="rp-not-xrp" required="required" class="form-control currency-field"/></div></div><div rp-errors="trust_amount" class="errorGroup"><div rp-error-on="required" l10n="l10n" class="error">Amount field is required</div></div><div rp-errors="trust_amount_currency" class="errorGroup"><div rp-error-on="rpNotXrp" l10n="l10n" class="error">XRP can be sent without extending trust. If you really want\n to trust in XRP, please use XRR currency code.</div><div rp-error-on="required" l10n="l10n" class="error">Currency field is required</div></div></div></div><div class="row"><div class="col-xs-12 allow-rippling"><label for="trust_allowrippling" class="checkbox"><input id="trust_allowrippling" name="trust_allowrippling" type="checkbox" ng-model="allowrippling"/><span l10n="l10n">Allow Rippling</span></label><i rp-popover="rp-popover" rp-popover-placement="bottom" l10n-rp-popover-title="Allow Rippling" rp-popover-trigger="click" l10n-data-content="Allow this trust line\'s balances to be transferred to another issuer you trust. &lt;a href=\'https://ripple.com/wiki/No_Ripple\' target=\'_blank\'&gt;More information&lt;/a&gt;" class="fa fa-question-circle help-icon"></i></div></div><div class="row"><div class="col-xs-6 col-sm-4"><button type="button" ng-click="toggle_form()" l10n="l10n" class="btn btn-block btn-default">Cancel</button></div><div class="col-xs-6 col-sm-8"><button type="submit" ng-disabled="trustForm.$invalid || verifying" l10n="l10n" class="btn btn-block btn-primary submit">Grant Trust</button></div></div><div class="row"><div class="col-xs-12"><p ng-show="verifying" l10n="l10n" class="literal throbber verifying">Verifying address</p></div></div></form></div><div ng-show="addform_visible &amp;&amp; !can_add_trust" class="col-xs-12"><div l10n="l10n" class="alert alert-warning">You must have at least<strong> {{account.reserve_to_add_trust | rpamount:0}} XRP</strong> to add a new trust line.&#32;<a href="https://ripple.com/wiki/Reserves" target="_blank">More information</a></div></div></div><group ng-show="mode==&quot;confirm&quot; &amp;&amp; account.Balance" class="mode-confirm wide"><span><p l10n="l10n" class="literal">You are about to trust</p><p class="amount_feedback"><span class="value">{{amount_feedback}}&#32;</span><span class="currency">{{currency_feedback}}</span></p><p l10n="l10n" class="literal">to the Ripple user</p></span><div class="dest_feedback"><div ng-show="counterparty_name" class="counterparty">{{counterparty_name}}</div><div ng-hide="counterparty_name" class="counterparty">{{counterparty_address}}</div><div ng-show="counterparty != counterparty_address || counterparty_name" class="extra">{{counterparty_address}}</div></div><p ng-show="currencyWarning == \'firstIssuer\'" l10n="l10n" class="literal trust-notice">By pressing CONFIRM you are extending trust to another Ripple user.\n This action carries the risk of potential loss up to the amount of the trust\n line. Make sure you understand these consequences, and that\n all the issuers are trustworthy.</p><p ng-show="currencyWarning == \'multipleIssuers\'" l10n="l10n" class="literal trust-notice">By pressing CONFIRM you are extending trust to&#32;<strong>multiple issuers&#32;</strong>for the same currency which may result in your account balances changing without\n your direct action. Make sure you understand these consequences, and that\n all your issuers are trustworthy.</p><div class="row row-padding-small"><div class="col-xs-6 col-md-3 col-lg-2"><button ng-click="mode=&quot;main&quot;" l10n="l10n" class="btn btn-block btn-default back">&laquo; Back</button></div><div class="col-xs-6 col-md-3 col-lg-2"><button type="submit" ng-click="grant_confirmed()" ng-disabled="confirm_wait" l10n="l10n" class="btn btn-block btn-success submit">Confirm</button></div></div></group><group ng-show="mode==&quot;granting&quot; &amp;&amp; account.Balance" class="mode-granting"><p l10n="l10n" class="throbber literal">Granting is in progress</p><hr/><p><button ng-click="reset()" l10n="l10n" class="btn btn-default">Stop waiting</button></p></group><group ng-show="mode==&quot;error&quot; &amp;&amp; account.Balance" class="mode-error"><div ng-show="errorMessage"><p class="literal">{{errorMessage}}</p><p><a href="#balance" l10n="l10n" class="btn btn-default">Back to balance</a></p></div><div ng-hide="errorMessage"><p l10n="l10n" class="literal">Sorry, an error occurred while granting. Make sure you\n are connected to the Internet and try again later.</p><p><button ng-click="reset()" l10n="l10n" class="btn btn-default">&laquo; Back</button></p></div></group><group ng-show="mode==&quot;granted&quot; &amp;&amp; account.Balance" class="mode-granted wide"><group ng-show="tx_result==&quot;pending&quot;" class="pending"><h2 l10n="l10n" class="tx-status">Your grant request has been submitted.</h2></group><group ng-show="tx_result==&quot;cleared&quot;" class="result-success"><h2 l10n="l10n" class="tx-status">Trust is granted!</h2></group><group ng-show="tx_result==&quot;error&quot;" class="result-error"><h2 l10n="l10n" class="tx-status">Trust could not be granted!</h2><p l10n="l10n">We were unable to submit the request. Please try again later.</p></group><group ng-show="tx_result==&quot;malformed&quot;" class="result-malformed"><h2 l10n="l10n" class="tx-status">Grant is malformed!</h2><p l10n="l10n">Your request is invalid, reason: {{engine_result}} - {{engine_result_message}}</p></group><group ng-show="tx_result==&quot;failed&quot;" class="result-failed"><h2 l10n="l10n" class="tx-status">Granting failed!</h2><p ng-switch on="engine_result"><span ng-switch-when="terNO_LINE" l10n="l10n">You have no trust line in this currency.</span><span ng-switch-when="tecINSUF_RESERVE_LINE" l10n="l10n">Insufficient reserve to add trust line.</span><span ng-switch-when="tecNO_LINE_INSUF_RESERVE" l10n="l10n">You must have at\n least {{account.reserve_to_add_trust | rpamount:0}} XRP to add a trust line.&#32;<a href="http://ripple.com/help/#reserve" l10n="l10n">Read more.</a></span><span ng-switch-default="ng-switch-default" l10n="l10n">Trust granting failed to clear,\n reason: {{engine_result_message}}</span></p></group><group ng-show="tx_result==&quot;local&quot;" class="result-failed"><h2 l10n="l10n" class="tx-status">Transaction failed!</h2><p ng-switch on="engine_result"><span ng-switch-when="telINSUF_FEE_P" l10n="l10n">The particular server you sent the transaction to was too busy to forward or process\n your transaction at the fee you included in it.</span></p></group><group class="actions"><hr/><div ng-show="addressSaved" l10n="l10n" class="text-success actionLink">Address saved!</div><div ng-hide="contact" class="save-address-form actionLink"><a href="" ng-click="show_save_address_form = true" ng-hide="show_save_address_form" l10n="l10n">Add this address to contacts</a><form name="saveAddressForm" ng-class="{ show: show_save_address_form }" ng-submit="saveAddress()"><div class="address">{{counterparty_address}}</div><label for="save_address_name" l10n="l10n">Name this user</label><input id="contact_name" name="save_address_name" type="text" ng-model="saveAddressName" unique="unique" required="required" rp-autofill="$routeParams.name" rp-focus="rp-focus" class="form-control"/><div ng-show="saveAddressForm.save_address_name.$error.unique" l10n="l10n" class="error">You already have a contact with the same name.</div><div><button type="submit" ng-disabled="addressSaving || saveAddressForm.$invalid" class="btn btn-success"><span ng-show="addressSaving" l10n="l10n">Saving...</span><span ng-hide="addressSaving" l10n="l10n">Save</span></button><a href="" ng-click="show_save_address_form = false">Cancel</a></div></form><hr/></div><div class="actionLink"><a href="#trust" ng-click="reset()" l10n="l10n">Back to trust page</a></div><hr/></group></group><div ng-show="mode==\'main\'" ng-repeat="(key, line) in linesArray | orderBy:sorting.sort:sorting.reverse" class="row row-padding-small line padding-vertical-xs"><div class="col-sm-4">{{line.account | rpcontactnamefull}}</div><div class="col-sm-1">{{line.currency}}</div><div class="col-sm-2"><span rp-tooltip="{{line.balance | rpamount }}">{{line.balance | rpamount:{rel_precision: 0} }}</span></div><div class="col-sm-3"><rp-trust-line rp-line-data="line"></rp-trust-line></div><div class="col-sm-2 actions"><button href="" ng-click="edit_line()" l10n="l10n" class="btn btn-default btn-sm">edit</button></div></div></group></section>');
return buf.join("")}},62:function(module,exports,require){var jade=require(76);module.exports=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<section ng-controller="ReceiveCtrl" class="single content"><p l10n="l10n" class="literal">This is your public address. Give this address to other users so they can send you money.</p><hr/><div class="address"><div class="box"><span id="receive-address" ng-bind="address"></span></div></div><p ng-show="!copy_supported" l10n="l10n" class="literal">Tip:&#32;<a rp-select-el="receive-address" l10n-inc="l10n-inc" class="select">Select</a> and copy using Ctrl+C (Win), Command+C (OSX).</p><form ng-show="copy_supported"><button l10n="l10n" class="btn btn-success">Copy Address</button></form><div id="qr-code" class="qr"></div></section>');return buf.join("")}},63:function(module,exports,require){var jade=require(76);module.exports=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<nav class="col-xs-12 col-md-2"><h2 ng-bind="$route.current.tabName | rpucfirst"></h2><ul><li ng-class="{active: $route.current.tabName == \'trust\'}"><a href="#/trust" l10n="l10n">Trust</a></li><li ng-class="{active: $route.current.tabName == \'options\'}"><a href="#/options" l10n="l10n">Options</a></li></ul></nav><section ng-controller="OptionsCtrl" class="col-xs-12 col-md-10 content"><div class="row"><div l10n="l10n" class="col-xs-12">Options</div></div><div class="row"><hr/></div><form name="optionsForm" ng-submit="save()" class="row-padding-small"><h3 l10n="l10n">Ripple Servers</h3><div ng-repeat="(index, server) in options.server.servers track by $index" ng-form name="subForm"><div class="row"><div class="col-xs-12"><label l10n="l10n">WebSocket hostname, port, secure</label></div></div><div class="row"><div class="col-xs-6 col-sm-5 col-md-3"><input name="host" type="text" ng-model="server.host" rp-hostname="rp-hostname" class="form-control host"/><div class="errorGroup"><div rp-errors="host"><div rp-error-on="rpHostname" l10n="l10n" class="error">Socket ip or hostname is invalid.</div></div><div rp-errors="port"><div rp-error-on="rpPortNumber" l10n="l10n" class="error">Port number is invalid.</div></div></div></div><div class="col-xs-3 col-sm-3 col-md-2"><input name="port" type="text" ng-model="server.port" rp-port-number="rp-port-number" class="form-control socketPort"/></div><div class="col-xs-3 col-sm-3 col-md-2"><a href="" ng-click="options.server.servers.splice($index,1)" l10n="l10n">Remove</a></div></div><div class="row"><div class="col-xs-12"><div class="helperInput"><input type="checkbox" name="secure" ng-model="server.secure"/><label for="secure" l10n="l10n">Use secure WebSocket</label></div></div></div></div><div class="row"><div class="col-xs-12 col-sm-8 col-md-3 col-lg-2"><button type="button" ng-click="options.server.servers.push({})" l10n="l10n" class="btn btn-block btn-primary">Add new server</button></div></div><h3 l10n="l10n">Blob Vault</h3><div class="row"><div class="col-xs-12 col-sm-8 col-md-5"><label for="blobIp" l10n="l10n">Blob vault URL</label><input name="blobIp" id="blobIp" type="text" ng-model="options.blobvault" class="form-control blobIp"/></div></div><h3 l10n="l10n">Anonymous statistics</h3><label><input name="track" type="checkbox" ng-model="options.mixpanel.track" class="tracking"/><span l10n="l10n">Help Ripple Labs make a better product through sending anonymous client usage data.</span></label><div class="row"><div class="col-xs-12 col-sm-8 col-md-3 col-lg-2"><button type="submit" ng-disabled="optionsForm.$invalid" l10n="l10n" class="btn btn-block btn-success submit">Save</button></div></div></form></section>');return buf.join("")}},64:function(module,exports,require){var jade=require(76);module.exports=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<section ng-controller="SendCtrl" class="single content"><group ng-hide="connected" class="disconnected"><p l10n="l10n" class="literal">You have to be online to see this screen</p></group><div ng-hide="account.Balance || !connected" class="unfunded"><p l10n="l10n" class="literal">You have to be funded before you can send money</p><p><a href="#/balance" l10n="l10n" class="btn btn-default">Back to balance</a></p></div><form name="sendForm" id="sendForm" role="form" ng-show="mode==&quot;form&quot; &amp;&amp; account.Balance" ng-submit="send_prepared()" class="row-padding-small mode-form"><p l10n="l10n" class="literal">Send money.</p><hr/><div class="row form-group"><div class="col-xs-12 col-sm-6 col-md-5"><label for="send_destination" l10n="l10n">Recipient</label><input id="send_destination" name="send_destination" type="text" rp-combobox="recipient_query" placeholder="Contact name or Ripple address" ng-model="send.recipient" rp-dest="rp-dest" rp-dest-address="rp-dest-address" rp-dest-contact="rp-dest-contact" rp-dest-bitcoin="rp-dest-bitcoin" rp-dest-email="rp-dest-email" required="required" rp-autofill="$routeParams.to" rp-focus="rp-focus" class="form-control"/><div rp-errors="send_destination" class="errorGroup"><div rp-error-valid ng-show="send.recipient != send.recipient_address" class="success">{{send.recipient_address}}</div><div rp-error-on="required" l10n="l10n" class="error">Please enter a recipient.</div><div rp-error-on="rpDest" l10n="l10n" class="error">Recipient should be either a name from your contact list or Ripple/Bitcoin address.</div><div rp-error-on="federation" l10n="l10n" class="error">This email address is not Ripple-enabled.</div></div></div></div><div ng-show="send.show_dt_field" class="row form-group"><div class="col-xs-12 col-sm-6 col-md-5"><label for="send_dt" l10n="l10n">Destination tag</label><input id="send_dt" name="send_dt" type="text" ng-model="send.dt" rp-stdt="rp-stdt" rp-autofill="$routeParams.dt" ng-required="send.recipient_info.dest_tag_required" class="form-control"/><div rp-errors="send_dt" class="errorGroup"><div rp-error-on="rpStdt" l10n="l10n" class="error">Invalid destination tag</div><div rp-error-on="required" l10n="l10n" class="error">Destination cannot be blank.</div></div><div ng-show="send.recipient_info.dest_tag_required" l10n="l10n">Recipient requires a destination tag to be specified for the transaction. If you don\'t know the\n destination tag, please contact them before doing a transaction.</div></div></div><div ng-show="$routeParams.st || send.st" class="row form-group"><div class="col-xs-12 col-sm-6 col-md-5"><label for="send_st" l10n="l10n">Source tag</label><input id="send_st" name="send_st" type="text" ng-model="send.st" rp-stdt="rp-stdt" rp-autofill="$routeParams.st" class="form-control"/><div rp-errors="send_st" class="errorGroup"><div rp-error-on="rpStdt" l10n="l10n" class="error">Invalid source tag</div></div></div></div><div ng-repeat="field in send.extra_fields" ng-switch="field.type" class="row form-group"><div ng-switch-when="text" class="col-xs-12 col-sm-6 col-md-5"><label ng-bind="field.label"></label><p ng-show="field.hint" ng-bind="field.hint" class="field-hint"></p><input type="text" ng-model="field.value" ng-required="{{field.required}}" class="form-control"/></div><div ng-switch-when="select" class="col-xs-12 col-sm-6 col-md-5"><label ng-bind="field.label"></label><p ng-show="field.hint" ng-bind="field.hint" class="field-hint"></p><select type="text" ng-model="field.value" ng-required="{{field.required}}" class="form-control"><option ng-repeat="option in field.options" ng-bind="option.label" value="{{option.value}}" ng-selected="option.selected" ng-disabled="option.disabled"></option></select></div></div><div class="form-group"><label for="send_amount" l10n="l10n">Recipient will receive</label><div ng-if="!send.currency_force" class="row amount"><div class="col-xs-12 col-sm-6 col-md-2"><input id="send_amount" name="send_amount" type="text" ng-model="send.amount" required="required" rp-autofill="$routeParams.amount" rp-autofill-amount="rp-autofill-amount" rp-amount="rp-amount" rp-amount-positive="rp-amount-positive" rp-amount-xrp-limit="rp-amount-xrp-limit" rp-amount-xrp-limit-currency="{{send.currency}}" class="form-control"/></div><div class="col-xs-12 col-sm-6 col-md-3"><input id="send_amount_currency" name="send_amount_currency" type="text" rp-combobox="{{send.currency_choices}}" rp-combobox-select="rp-combobox-select" ng-model="send.currency" rp-autofill="$routeParams.amount" rp-autofill-currency="rp-autofill-currency" class="form-control currency"/></div></div><div ng-if="send.currency_force" class="row"><div class="col-xs-12 col-sm-6 col-md-3 input-group currency_force"><input id="send_amount" name="send_amount" type="text" ng-model="send.amount" required="required" ng-disabled="!!send.force_amount" rp-autofill="$routeParams.amount" rp-autofill-amount="rp-autofill-amount" rp-amount="rp-amount" rp-amount-positive="rp-amount-positive" rp-amount-xrp-limit="rp-amount-xrp-limit" rp-amount-xrp-limit-currency="{{send.currency}}" class="form-control"/><span ng-bind="send.currency_force" class="input-group-addon"></span></div></div><div rp-errors="send_amount" class="errorGroup"><div rp-error-on="required" l10n="l10n" class="error">Please enter an amount.</div><div rp-error-on="rpAmount" l10n="l10n" class="error">Not a valid amount.</div><div rp-error-on="rpAmountPositive" l10n="l10n" class="error">Amount must be greater than zero.</div><div rp-error-on="rpMaxAmount" l10n="l10n" class="error">This transaction exceeds your balance, you can send\n a max. of {{account.max_spend | rpamount:{rel_precision: 0} }} XRP</div><div ng-show="send.recipient_info.disallow_xrp &amp;&amp; send.currency_code==\'XRP\'" l10n="l10n" class="error">Recipient does not allow XRP payments. Are you sure you want to send XRP anyway?</div><div ng-show="send.trust_limit" l10n="l10n" class="notice">{{send.recipient | rpcontactname}}\ntrusts you for {{send.trust_limit | rpamount}} {{send.trust_limit | rpcurrency}}.</div></div></div><ul class="tagsLinks"><li><a href="" ng-click="send.show_dt_field = true" ng-hide="send.show_dt_field || send.bitcoin || send.federation" l10n="l10n">Add Destination tag</a></li></ul><div class="row"><div ng-show="send.currency_code == \'XRP\'" class="col-xs-12 col-sm-6 col-md-5"><button type="submit" ng-disabled="sendForm.$invalid || send.self || !send.recipient_resolved || account.max_spend.to_number() &lt; send.amount * 1000000" l10n="l10n" class="btn btn-block btn-success submit">Send XRP</button></div></div><div class="remote"><p ng-show="send.fund_status == \'insufficient-xrp\'" l10n="l10n" class="literal">Destination account is unfunded; send at least\n {{send.xrp_deficiency | rpamount}} XRP to fund it.<a href="https://ripple.com/wiki/Reserves" target="_blank" l10n="l10n">More information</a></p><p ng-show="send.path_status == \'checking\'" rp-spinner="4" l10n="l10n" class="literal">Checking</p><p ng-show="send.path_status == \'fed-check\'" rp-spinner="4" l10n="l10n" class="literal">Analyzing address</p><p ng-show="send.path_status == \'bridge-quote\'" rp-spinner="4" l10n="l10n" class="literal">Requesting quote</p><p ng-show="send.path_status == \'pending\' &amp;&amp; send.currency_code != \'XRP\'" rp-spinner="4" l10n="l10n" class="literal">Calculating paths</p><p ng-show="send.path_status == \'pending\' &amp;&amp; send.currency_code == \'XRP\'" rp-spinner="4" l10n="l10n" class="literal">Calculating alternatives</p><p ng-show="send.path_status == \'no-path\' &amp;&amp; send.currency_code != \'XRP\'" l10n="l10n" class="literal">Sorry! Cannot send {{send.amount}} {{send.currency}} to\n {{send.recipient}}. Please make sure your account has enough funds,\n and the recipient accepts the currency you\'re sending. If it still\n doesn\'t work, try again later.</p><p ng-show="send.path_status == \'error-quote\'" l10n="l10n" class="literal">Error while retrieving quote for outbound payment</p><p ng-show="send.path_status == \'error\'" l10n="l10n" class="literal">Error while calculating path</p><div ng-if="send.path_status == \'done\'" class="currency_sets"><div class="row row-padding-small"><div class="col-xs-12"><p ng-show="send.currency_code != \'XRP\' || send.bitcoin" l10n="l10n" class="literal">You can send</p><p ng-show="send.currency_code == \'XRP\' &amp;&amp; !send.bitcoin" l10n="l10n" class="literal">Or you can send</p></div></div><div ng-show="send.alternatives.length" class="row row-padding-small alternatives"><div ng-repeat="alt in send.alternatives" class="col-xs-12 col-sm-6 col-md-4 col-lg-3"><div class="margin"><div class="am"><span class="amnt">{{alt.amount | rpamount:{rel_precision: 4, rel_min_precision: 2} }}</span><span class="currency">{{alt.amount | rpcurrency }}</span></div><button type="submit" ng-disabled="sendForm.$invalid" ng-click="send.alt = alt" l10n="l10n" class="btn btn-block btn-success">Send {{ alt.amount | rpcurrency }}</button></div></div></div><div ng-show="send.alternatives.length &amp;&amp; lastUpdate" class="row row-padding-small pathupdate"><div l10n="l10n" class="col-xs-12">Paths last updated<span> {{lastUpdate}}</span><span ng-show="lastUpdate &gt; \'1\'" l10n-inc="l10n-inc"> seconds</span><span ng-show="lastUpdate == \'1\'" l10n-inc="l10n-inc"> second</span> ago</div></div></div></div></form><group ng-show="mode==&quot;wait_path&quot; &amp;&amp; account.Balance" class="mode-wait-path"><p rp-spinner="4" l10n="l10n" class="literal">Ripple is calculating a path for your payment.</p></group><group ng-show="mode==&quot;confirm&quot; &amp;&amp; account.Balance" class="mode-confirm"><p l10n="l10n" class="literal">You are sending {{ (send.alt.amount || send.currency) | rpcurrency}} to</p><div class="dest_feedback"><div ng-show="send.recipient_name" class="recipient">{{send.recipient_name}}</div><div ng-hide="send.recipient_name" class="recipient">{{send.recipient_address}}</div><div href="" ng-show="send.recipient != send.recipient_address || send.recipient_name" class="extra"> {{send.recipient_address}}</div><div ng-show="send.dt" l10n="l10n" class="dt">Destination tag: {{send.dt}}</div></div><p l10n="l10n" class="literal">They will receive</p><p class="amount_feedback"><span class="value">{{send.amount_feedback | rpamount}}&#32;</span><span class="currency">{{send.amount_feedback | rpcurrency}}</span></p><group ng-show="send.indirect"><p l10n="l10n" class="literal">You will pay at most</p><p class="sendmax_feedback"><span class="value">{{send.alt.amount | rpamount}}&#32;</span><span class="currency">{{send.alt.amount | rpcurrency}} &#32;</span><span>&plusmn; 1%</span></p></group><div class="call-to-action"><p l10n="l10n" class="literal">Are you sure?</p><div class="row row-padding-small"><div class="col-xs-6 col-sm-4 col-md-3 col-lg-2"><button ng-click="cancelConfirm()" l10n="l10n" class="btn btn-block btn-default back">&laquo; Back</button></div><div class="col-xs-6 col-sm-4 col-md-3 col-lg-2"><button type="submit" ng-click="send_confirmed()" ng-disabled="confirm_wait" l10n="l10n" class="btn btn-block btn-success submit">Confirm</button></div></div></div></group><group ng-show="mode==&quot;sending&quot; &amp;&amp; account.Balance" class="mode-sending"><p rp-spinner="4" l10n="l10n" class="literal">Sending transaction to Ripple network</p><hr/><p><button ng-click="reset()" l10n="l10n" class="btn btn-default">Stop waiting</button></p></group><group ng-show="mode==&quot;error&quot; &amp;&amp; account.Balance" class="mode-error"><group ng-switch on="error_type"><group ng-switch-when="noDest" class="result-error"><h2 l10n="l10n" class="tx-status">Destination does not exist</h2><p l10n="l10n">The wallet you&#39;re trying to send to does not exist.</p></group><group ng-switch-when="noPath" class="result-error"><h2 l10n="l10n" class="tx-status">No Path</h2><p l10n="l10n">Ripple was unable to find a path between you and the destination account.</p></group><group ng-switch-when="invalidTransaction" class="result-error"><h2 l10n="l10n" class="tx-status">Invalid transaction</h2><p l10n="l10n">The transaction was rejected by the server due to a client issue.</p></group><group ng-switch-default="ng-switch-default"><p l10n="l10n" class="literal">Sorry, an error occurred while submitting your transaction.\nMake sure you are connected to the Internet and try again later.</p><p l10n="l10n" class="literal">Please ensure you don\'t send your payment more than once.</p></group></group><p><button ng-click="cancelConfirm()" l10n="l10n" class="btn btn-default">&laquo; Back</button></p></group><group ng-show="mode==&quot;rippleerror&quot; &amp;&amp; account.Balance" class="mode-ripplerror"><rp-transaction-status rp-engine-result="{{engine_result}}" rp-engine-result-message="{{engine_result_message}}" rp-accepted="{{engine_status_accepted}}"></rp-transaction-status><group class="actions"><hr/><div ng-show="addressSaved" l10n="l10n" class="text-success actionLink">Contact saved!</div><div ng-hide="contact" class="save-address-form actionLink"><a href="" ng-click="show_save_address_form = true" l10n="l10n">Add this address to contacts</a><form name="saveAddressForm" ng-class="{ show: show_save_address_form }" ng-submit="saveAddress()"><div class="address">{{send.recipient_address}}</div><label for="save_address_name" l10n="l10n">Name this user</label><input id="contact_name" name="save_address_name" type="text" ng-model="saveAddressName" unique="unique" required="required" rp-autofill="$routeParams.name" class="form-control"/><div ng-show="saveAddressForm.save_address_name.$error.unique" l10n="l10n" class="error">You already have a contact with the same name.</div><div><button type="submit" ng-disabled="addressSaving" class="btn btn-success"><span ng-show="addressSaving" l10n="l10n">Saving...</span><span ng-hide="addressSaving" l10n="l10n">Save</span></button><a href="" ng-click="show_save_address_form = false" l10n="l10n">Cancel</a></div><hr/></form></div><div class="actionLink"><a href="" ng-click="reset()" l10n="l10n">Send another payment</a></div><div class="actionLink"><a href="" ng-click="reset_goto(\'balance\')" l10n="l10n">Back to balance</a></div><hr/></group></group><group ng-show="mode==&quot;status&quot; &amp;&amp; account.Balance" class="mode-status"><group ng-show="tx_result==&quot;pending&quot;" class="pending"><h2 l10n="l10n" class="tx-status">Your transaction has been submitted.</h2><p l10n="l10n">Your account balance will update once the payment has cleared.</p></group><group ng-show="tx_result==&quot;cleared&quot;" class="result-success"><h2 l10n="l10n" class="tx-status">Transaction cleared!</h2></group><group ng-show="tx_result==&quot;partial&quot;" class="result-partial"><h2 l10n="l10n" class="tx-status">Transaction partially valid!</h2><p l10n="l10n">Your transaction could only be partially applied.</p></group><group ng-show="tx_result==&quot;error&quot;" class="result-error"><h2 l10n="l10n" class="tx-status">Transaction could not be submitted!</h2><p l10n="l10n">We were unable to submit the transaction to the server.\nPlease try again later.</p></group><group ng-show="tx_result==&quot;malformed&quot;" class="result-malformed"><h2 l10n="l10n" class="tx-status">Transaction malformed!</h2><p ng-switch on="engine_result"><span ng-switch-default="ng-switch-default" l10n="l10n">Your transaction is invalid, reason: {{engine_result}} - {{engine_result_message}}</span></p></group><group ng-show="tx_result==&quot;failure&quot;" class="result-malformed"><h2 l10n="l10n" class="tx-status">Transaction malformed!</h2><p ng-switch on="engine_result"><span ng-switch-when="tefDST_TAG_NEEDED" l10n="l10n">Destination account requires destination tag to be specified when making payments.</span></p></group><group ng-show="tx_result==&quot;local&quot;" class="result-failed"><h2 l10n="l10n" class="tx-status">Transaction failed!</h2><p ng-switch on="engine_result"><span ng-switch-when="telINSUF_FEE_P" l10n="l10n">The particular server you sent the transaction to was too busy to forward or process\n your transaction at the fee you included in it.</span></p></group><group ng-show="tx_result==&quot;claim&quot;" class="result-malformed"><h2 l10n="l10n" class="tx-status">Transaction failed!</h2><p ng-switch on="engine_result"><span ng-switch-when="tecNO_DST" l10n="l10n">The destination account does not exist.</span><span ng-switch-when="tecNO_DST_INSUF_XRP" l10n="l10n">The destination account does not exist. Too little XRP sent to create it.</span><span ng-switch-default="ng-switch-default" l10n="l10n">Error: {{engine_result_message}}</span></p></group><group ng-show="tx_result==&quot;failed&quot;" class="result-failed"><h2 l10n="l10n" class="tx-status">Transaction failed!</h2><p ng-switch on="engine_result"><span ng-switch-when="terNO_LINE" l10n="l10n">You have no trust line in this currency.</span><span ng-switch-default="ng-switch-default" l10n="l10n">Your transaction failed to clear, reason: {{engine_result_message}}</span></p></group><group class="actions"><hr/><div ng-show="addressSaved" l10n="l10n" class="text-success actionLink">Contact saved!</div><div ng-hide="contact" class="save-address-form actionLink"><a href="" ng-click="show_save_address_form = true" l10n="l10n">Add this address to contacts</a><form name="saveAddressForm" ng-class="{ show: show_save_address_form }" ng-submit="saveAddress()"><div class="address">{{send.recipient_address}}</div><label for="save_address_name" l10n="l10n">Name this user</label><input id="contact_name" name="save_address_name" type="text" ng-model="saveAddressName" unique="unique" required="required" rp-autofill="$routeParams.name" class="form-control"/><div ng-show="saveAddressForm.save_address_name.$error.unique" l10n="l10n" class="error">You already have a contact with the same name.</div><div><button type="submit" ng-disabled="addressSaving" class="btn btn-success"><span ng-show="addressSaving" l10n="l10n">Saving...</span><span ng-hide="addressSaving" l10n="l10n">Save</span></button><a href="" ng-click="show_save_address_form = false" l10n="l10n">Cancel</a></div><hr/></form></div><div class="actionLink"><a href="" ng-click="reset()" l10n="l10n">Send another payment</a></div><div class="actionLink"><a href="" ng-click="reset_goto(\'balance\')" l10n="l10n">Back to balance</a></div><hr/></group></group></section>');return buf.join("")}},65:function(module,exports,require){var jade=require(76);module.exports=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<section ng-controller="TradeCtrl" class="col-xs-12 content"><group ng-hide="connected" class="disconnected"><p l10n="l10n" class="literal">You have to be online to see this screen</p></group><group ng-hide="!connected || loadState.offers" class="disconnected"><p l10n="l10n" class="literal">Loading order book...</p></group><group ng-show="connected &amp;&amp; loadState.offers"><div class="settings"><div class="row"><div class="col-sm-5 col-md-3 currency-config"><input id="currency_pair" name="currency_pair" type="text" rp-combobox="pairs_query" rp-combobox-select="rp-combobox-select" ng-model="order.currency_pair" class="form-control currency"/></div><div class="col-sm-7 col-md-9"><ul ng-show="order.first_currency != &quot;XRP&quot;" class="issuers inline"><li l10n="l10n" class="label">Base currency</li><li class="value">{{order.first_currency}}&ensp;<span rp-pretty-issuer="order.first_issuer" rp-pretty-issuer-contacts="userBlob.data.contacts">???</span></li><li><a href="" ng-show="show_issuer_form != &quot;first&quot;" ng-click="edit_first_issuer()" l10n="l10n">change issuer</a></li><li><a href="" ng-show="show_issuer_form == &quot;first&quot;" ng-click="show_issuer_form = false" l10n="l10n">cancel</a></li></ul><ul ng-show="order.first_currency == &quot;XRP&quot;" class="issuers inline"><li l10n="l10n" class="label">Base currency</li><li class="value">XRP</li></ul><ul ng-show="order.second_currency != &quot;XRP&quot;" class="issuers inline"><li l10n="l10n" class="label">Counter currency</li><li class="value">{{order.second_currency}}&ensp;<span rp-pretty-issuer="order.second_issuer" rp-pretty-issuer-contacts="userBlob.data.contacts">???</span></li><li><a href="" ng-show="show_issuer_form != &quot;second&quot;" ng-click="edit_second_issuer()" l10n="l10n">change issuer</a></li><li><a href="" ng-show="show_issuer_form == &quot;second&quot;" ng-click="show_issuer_form = false" l10n="l10n">cancel</a></li></ul><ul ng-show="order.second_currency == &quot;XRP&quot;" class="issuers inline"><li l10n="l10n" class="label">Counter currency</li><li class="value">XRP</li></ul></div></div></div><form name="first_issuer_form" ng-show="show_issuer_form == &quot;first&quot;" class="issuerSelector first-issuer"><label for="first_issuer" l10n="l10n">Base currency issuer ({{order.first_currency}})</label><div class="row"><div class="col-xs-12 col-sm-8 col-md-5"><input id="first_issuer" name="first_issuer" type="text" rp-combobox="issuer_query" placeholder="Contact name or Ripple address" ng-model="order.first_issuer_edit" rp-dest="rp-dest" rp-dest-address="rp-dest-address" rp-dest-contact="rp-dest-contact" class="form-control"/><div rp-errors="first_issuer" class="errorGroup"><div rp-error-on="rpDest" l10n="l10n" class="error">Not a valid Ripple address or contact</div></div></div><div class="col-xs-12 col-sm-4 col-md-2"><button type="submit" ng-click="save_first_issuer()" ng-disabled="first_issuer_form.$invalid" l10n="l10n" class="btn btn-block btn-success submit">Confirm</button></div></div></form><form name="second_issuer_form" ng-show="show_issuer_form == &quot;second&quot;" class="issuerSelector second-issuer"><label for="second_issuer" l10n="l10n">Counter currency issuer ({{order.second_currency}})</label><div class="row"><div class="col-xs-12 col-sm-8 col-md-5"><input id="second_issuer" name="second_issuer" type="text" rp-combobox="issuer_query" placeholder="Contact name or Ripple address" ng-model="order.second_issuer_edit" rp-dest="rp-dest" rp-dest-address="rp-dest-address" rp-dest-contact="rp-dest-contact" class="form-control"/><div rp-errors="second_issuer" class="errorGroup"><div rp-error-on="rpDest" l10n="l10n" class="error">Not a valid ripple address or contact</div></div></div><div class="col-xs-12 col-sm-4 col-md-2"><button type="submit" ng-click="save_second_issuer()" ng-disabled="second_issuer_form.$invalid" l10n="l10n" class="btn btn-block btn-success submit">Confirm</button></div></div></form><div ng-hide="order.valid_settings" l10n="l10n" class="message-select-issuer">You must select an issuer to trade currencies.\n Click the “change issuer”, link above and enter your trusted\n gateway address or nickname.</div><group ng-if="order.valid_settings"><ul class="ticker"><div class="row"><li class="col-xs-6 col-sm-3"><span l10n="l10n">Bid</span><span>&#32&#61;&#32;</span><span class="value">{{book.bids[0].TakerGets | rpamountratio:book.bids[0].TakerPays | rpamount:{rel_precision: 5, rel_min_precision: 5} }}</span></li><li class="col-xs-6 col-sm-3"><span l10n="l10n">Ask</span><span>&#32&#61;&#32;</span><span class="value">{{book.asks[0].TakerPays | rpamountratio:book.asks[0].TakerGets | rpamount:{rel_precision: 5, rel_min_precision: 5} }}</span></li><li class="col-xs-6 col-sm-3"><span l10n="l10n">Spread</span><span>&#32&#61;&#32;</span><span class="value">{{book.asks[0].TakerPays | rpamountratio:book.asks[0].TakerGets | rpamountsubtract:(book.bids[0].TakerGets | rpamountratio:book.bids[0].TakerPays) | rpamount:{rel_precision: 5, rel_min_precision: 5} }}</span></li><li class="col-xs-6 col-sm-3"><span l10n="l10n">Last price</span><span>&#32&#61;&#32;</span><span class="value">{{book.last_price | rpamount:{rel_precision: 5, rel_min_precision: 5} }}</span></li></div></ul><div ng-hide="account.Balance" class="unfunded"><p l10n="l10n" class="literal">You have to be funded before you can trade</p></div><group ng-show="account.Balance" class="row send-widgets"><div ng-repeat="type in [\'buy\',\'sell\']" class="col-xs-12 col-sm-6"><div ng-switch="order[type].mode" class="trade-widget"><div class="head"><span ng-show="type == \'buy\'" l10n="l10n">Buy&#32;<span ng-show="order.first_currency !== \'XRP\'" rp-pretty-issuer="order.first_issuer" rp-pretty-issuer-contacts="userBlob.data.contacts" rp-pretty-issuer-or-short="rp-pretty-issuer-or-short" class="issuer"></span> {{order.first_currency}}</span><span ng-show="type == \'sell\'" l10n="l10n">Sell&#32;<span ng-show="order.first_currency !== \'XRP\'" rp-pretty-issuer="order.first_issuer" rp-pretty-issuer-contacts="userBlob.data.contacts" rp-pretty-issuer-or-short="rp-pretty-issuer-or-short" class="issuer"></span> {{order.first_currency}}</span><span ng-show="type == \'buy\'" l10n="l10n" class="available"><span class="amount"><span ng-show="order.second_currency == \'XRP\'">{{account.Balance | rpamount}} XRP</span><span ng-show="order.second_currency != \'XRP\'">{{lines[order.second_issuer+order.second_currency].balance || "0" | rpamount}}&#32;<span rp-pretty-issuer="order.second_issuer" rp-pretty-issuer-contacts="userBlob.data.contacts" rp-pretty-issuer-or-short="rp-pretty-issuer-or-short"></span> {{order.second_currency}}</span></span>available</span><span ng-show="type == \'sell\'" l10n="l10n" class="available"><span class="amount"><span ng-show="order.first_currency == \'XRP\'">{{account.Balance | rpamount}} XRP</span><span ng-show="order.first_currency != \'XRP\'">{{lines[order.first_issuer+order.first_currency].balance || "0" | rpamount}}&#32;<span rp-pretty-issuer="order.first_issuer" rp-pretty-issuer-contacts="userBlob.data.contacts" rp-pretty-issuer-or-short="rp-pretty-issuer-or-short"></span> {{order.first_currency}}</span></span>available</span></div><div ng-switch-when="trade"><form name="tradeForm" ng-submit="place_order(type)" ng-show="order[type].showWidget" class="mode-form"><div class="row order-values"><div class="col-xs-12"><div class="value-field"><label ng-show="type == \'buy\'" l10n="l10n">Amount To buy</label><label ng-show="type == \'sell\'" l10n="l10n">Amount To sell</label><div class="input-group"><input name="amount" type="text" ng-model="order[type].first" ng-change="calc_second(type)" rp-amount="rp-amount" rp-amount-positive="rp-amount-positive" rp-amount-xrp-limit="rp-amount-xrp-limit" rp-amount-xrp-limit-currency="{{order.first_currency}}" required="required" class="form-control"/><div class="input-group-addon">{{order.first_currency}}<div ng-show="order.first_currency !== \'XRP\'" rp-pretty-issuer="order.first_issuer" rp-pretty-issuer-contacts="userBlob.data.contacts" rp-pretty-issuer-or-short="rp-pretty-issuer-or-short" class="issuer"></div></div></div><div rp-errors="amount" class="errorGroup"><div rp-error-on="required" l10n="l10n" class="error">Required</div><div rp-error-on="rpAmount" l10n="l10n" class="error">Not a valid amount.</div><div rp-error-on="rpAmountPositive" l10n="l10n" class="error">Must be greater than zero</div><div rp-error-on="rpAmountXrpLimit" l10n="l10n" class="error">Minimum is a drop (0.000001) and maximum is 100 billion XRPs</div></div></div></div><div class="col-xs-12"><div class="value-field"><label l10n="l10n">Price of Each</label><div class="input-group"><input name="price" type="text" ng-model="order[type].price" ng-change="calc_second(type)" rp-amount="rp-amount" rp-amount-positive="rp-amount-positive" rp-amount-xrp-limit="rp-amount-xrp-limit" rp-amount-xrp-limit-currency="{{order.second_currency}}" required="required" class="form-control"/><div class="input-group-addon">{{order.second_currency}}<div ng-show="order.second_currency !== \'XRP\'" rp-pretty-issuer="order.second_issuer" rp-pretty-issuer-contacts="userBlob.data.contacts" rp-pretty-issuer-or-short="rp-pretty-issuer-or-short" class="issuer"></div></div></div><div rp-errors="price" class="errorGroup"><div rp-error-on="required" l10n="l10n" class="error">Required</div><div rp-error-on="rpAmount" l10n="l10n" class="error">Not a valid amount.</div><div rp-error-on="rpAmountPositive" l10n="l10n" class="error">Must be greater than zero</div><div rp-error-on="rpAmountXrpLimit" l10n="l10n" class="error">Minimum is a drop (0.000001) and maximum is 100 billion XRPs</div></div></div></div><div class="col-xs-12"><div class="value-field"><label l10n="l10n">Order Value (max)</label><div class="input-group"><input name="value" type="text" ng-model="order[type].second" ng-change="calc_first(type)" rp-amount="rp-amount" rp-amount-positive="rp-amount-positive" rp-amount-xrp-limit="rp-amount-xrp-limit" rp-amount-xrp-limit-currency="{{order.second_currency}}" required="required" class="form-control"/><div class="input-group-addon">{{order.second_currency}}<div ng-show="order.second_currency !== \'XRP\'" rp-pretty-issuer="order.second_issuer" rp-pretty-issuer-contacts="userBlob.data.contacts" rp-pretty-issuer-or-short="rp-pretty-issuer-or-short" class="issuer"></div></div></div><div rp-errors="value" class="errorGroup"><div rp-error-on="required" l10n="l10n" class="error">Required</div><div rp-error-on="rpAmount" l10n="l10n" class="error">Not a valid amount.</div><div rp-error-on="rpAmountPositive" l10n="l10n" class="error">Must be greater than zero</div><div rp-error-on="rpAmountXrpLimit" l10n="l10n" class="error">Minimum is a drop (0.000001) and maximum is 100 billion XRPs</div></div></div></div></div><div class="message"><p ng-show="tradeForm.$valid &amp;&amp; type == \'buy\'" l10n="l10n">You are wanting to buy<span> {{order[type].first_amount | rpamount:{precision: 10} }} {{order[type].first_amount | rpcurrency}}</span> for<span> {{order[type].second_amount | rpamount:{precision: 10} }} {{order[type].second_amount | rpcurrency}}</span> (<span>{{order[type].price_amount | rpamount:{precision: 10} }} {{order[type].second_amount | rpcurrency}}</span> per<span> {{order[type].first_amount | rpcurrency}}</span>)</p><p ng-show="tradeForm.$valid &amp;&amp; type == \'sell\'" l10n="l10n">You are wanting to sell<span> {{order[type].first_amount | rpamount:{precision: 10} }} {{order[type].first_amount | rpcurrency}}</span> for<span> {{order[type].second_amount | rpamount:{precision: 10} }} {{order[type].second_amount | rpcurrency}}</span> (<span>{{order[type].price_amount | rpamount:{precision: 10} }} {{order[type].second_amount | rpcurrency}}</span> per<span> {{order[type].first_amount | rpcurrency}}</span>)</p></div><div class="row"><div class="col-xs-6"><button type="submit" ng-disabled="tradeForm.$invalid" class="btn btn-success btn-block submit"><span ng-show="type == \'buy\'" l10n="l10n"> Buy</span><span ng-show="type == \'sell\'" l10n="l10n"> Sell</span> {{order.first_currency}}<span ng-show="order.first_currency !== \'XRP\'"> (<span rp-pretty-issuer="order.first_issuer" rp-pretty-issuer-contacts="userBlob.data.contacts" rp-pretty-issuer-or-short="rp-pretty-issuer-or-short" class="issuer"></span>)</span></button></div></div></form><div ng-hide="order[type].showWidget"><p l10n="l10n" class="literal">You do not have sufficient funds to create an order.</p></div></div><form ng-switch-when="confirm" ng-submit="order_confirmed(type)" class="mode-confirm"><p class="title literal"><span l10n="l10n">You are about to create an order to<span ng-show="type == \'buy\'" l10n-inc="l10n-inc"> buy</span><span ng-show="type == \'sell\'" l10n-inc="l10n-inc"> sell</span><div class="amount_feedback"><span class="value">{{order[type].first_amount | rpamount}}&#32;</span><span ng-show="(order[type].first_amount | rpcurrency) !== \'XRP\'" rp-pretty-issuer="order[type].first_amount | rpissuer" rp-pretty-issuer-contacts="userBlob.data.contacts" rp-pretty-issuer-or-short="rp-pretty-issuer-or-short" class="issuer"></span><span class="currency"> {{order[type].first_amount | rpcurrency}}</span></div><div l10n-inc="l10n-inc" class="literal">for</div><div class="dest_feedback"><span class="value">{{order[type].second_amount | rpamount}}&#32;</span><span ng-show="(order[type].second_amount | rpcurrency) !== \'XRP\'" rp-pretty-issuer="order[type].second_amount | rpissuer" rp-pretty-issuer-contacts="userBlob.data.contacts" rp-pretty-issuer-or-short="rp-pretty-issuer-or-short" class="issuer"></span><span class="currency"> {{order[type].second_amount | rpcurrency}}</span></div><p l10n-inc="l10n-inc" class="literal">Are you sure?</p></span><div class="row row-padding-small"><div class="col-xs-6 col-sm-offset-2 col-sm-4 col-md-offset-3 col-md-3"><button type="button" ng-click="order[type].mode = \'trade\'" l10n="l10n" class="btn btn-block btn-default back">&laquo; Back</button></div><div class="col-xs-6 col-sm-4 col-md-3"><button type="submit" ng-disabled="confirm_wait" l10n="l10n" class="btn btn-block btn-success submit">Confirm</button></div></div></p></form><group ng-switch-when="sending" class="mode-sending"><p l10n="l10n" class="throbber literal">Sending order to Ripple network...</p></group><group ng-switch-when="done" class="mode-done"><group ng-show="order[type].tx_result==&quot;pending&quot;" class="pending"><h2 l10n="l10n" class="tx-status">Your order has been submitted.</h2></group><group ng-show="order[type].tx_result==&quot;cleared&quot;" class="result-success"><h2 l10n="l10n" class="tx-status">Your order is now active!</h2></group><group ng-show="order[type].tx_result==&quot;error&quot;" class="result-error"><h2 l10n="l10n" class="tx-status">Request has been denied!</h2><p l10n="l10n">We were unable to submit the request. Please try again later.</p></group><group ng-show="order[type].tx_result==&quot;malformed&quot;" class="result-malformed"><h2 l10n="l10n" class="tx-status">Request is malformed!</h2><p l10n="l10n">Your request is invalid, reason: {{order[type].engine_result}}\n - {{order[type].engine_result_message}}</p></group><group ng-show="order[type].tx_result==&quot;claim&quot;" class="result-malformed"><h2 l10n="l10n" class="tx-status">Transaction failed!</h2><p ng-switch on="order[type].engine_result"><span ng-switch-when="tecUNFUNDED_ORDER" l10n="l10n">You do not have enough {{type == \'buy\' ? order.second_currency : order.first_currency}} to create this order.</span><span ng-switch-when="tecINSUF_RESERVE_OFFER" l10n="l10n">You must have at least {{account.reserve_to_add_trust | rpamount}} XRP to submit an order.&#32;<a href="https://ripple.com/wiki/Reserves" target="_blank" l10n="l10n">More information.</a></span><span ng-switch-default="ng-switch-default" l10n="l10n">Error: {{order[type].engine_result_message}}</span></p></group><group ng-show="order[type].tx_result==&quot;failed&quot;" class="result-failed"><h2 l10n="l10n" class="tx-status">Trade failed!</h2><p ng-switch on="order[type].engine_result"><span ng-switch-default="ng-switch-default" l10n="l10n">Trade failed, reason: {{order[type].engine_result_message}}</span></p></group><group ng-show="order[type].tx_result==&quot;local&quot;" class="result-failed"><h2 l10n="l10n" class="tx-status">Transaction failed!</h2><p ng-switch on="order[type].engine_result"><span ng-switch-when="telINSUF_FEE_P" l10n="l10n">The particular server you sent the transaction to was too busy to forward or process\n your transaction at the fee you included in it.</span></p></group><group ng-show="order[type].tx_result==&quot;unknown&quot;" class="result-failed"><h2 class="tx-status">{{order[type].engine_result}}</h2><p ng-switch on="order[type].engine_result"><span ng-switch-default="ng-switch-default">{{order[type].engine_result_message}}</span></p></group><hr/><div class="actionLink"><a href="#trade" ng-click="reset_widget(type)" l10n="l10n">Submit another order</a></div></group></div></div></group><div class="btn-group"><button type="button" ng-class="{\'btn-info\': order.listing == \'orderbook\'}" ng-click="setListing(\'orderbook\')" l10n="l10n" class="btn btn-default">Order book</button><button type="button" ng-disabled="!account.Balance" ng-class="{\'btn-info\': order.listing == \'my\'}" ng-click="setListing(\'my\')" l10n="l10n" class="btn btn-default">My Orders<span ng-show="offers"> ({{offersCount}})</span></button></div><div class="listings"><div ng-show="order.listing == \'my\'" class="my"><div ng-hide="isEmpty(offers)"><div class="row head hidden-xs"><div l10n="l10n" class="col-sm-1 type">Type</div><div l10n="l10n" class="col-sm-3 pair">Pair</div><div l10n="l10n" class="col-sm-3 price">Price</div><div l10n="l10n" class="col-sm-3 amount">Amount</div><div l10n="l10n" class="col-sm-2 action">Action</div></div></div><div ng-repeat="entry in offers" ng-class="{cancelling: cancelling}" class="row"><div data-label="Type" class="col-sm-1 type">{{entry.type | rpucfirst}}</div><div data-label="Pair" class="col-sm-3 pair"><div class="first">{{entry.first | rpcurrency}}<span ng-show="entry.first.issuer().to_json()">&#32;(<span rp-pretty-issuer="entry.first.issuer().to_json()" rp-pretty-issuer-contacts="userBlob.data.contacts">???</span>)</span></div><div class="second">{{entry.second | rpcurrency}}<span ng-show="entry.second.issuer().to_json()">&#32;(<span rp-pretty-issuer="entry.second.issuer().to_json()" rp-pretty-issuer-contacts="userBlob.data.contacts">???</span>)</span></div></div><div data-label="Price" class="col-sm-3 price rpamount">{{entry.second | rpamountratio:entry.first | rpamount:{precision: 5, min_precision: 5} }}<span class="currency"> {{entry.second | rpcurrency}}</span></div><div data-label="Amount" class="col-sm-3 amount rpamount">{{entry.first | rpamount}}<span class="currency"> {{entry.first | rpcurrency}}</span></div><div class="col-sm-2 action"><a href="" ng-click="cancel_order()" l10n="l10n" class="danger">Cancel</a></div></div><div ng-show="isEmpty(offers)" class="emptyMessage"><p l10n="You haven\'t placed any orders." class="literal">You haven&#39;t placed any orders.</p></div></div><div ng-show="order.listing == \'orderbook\'" class="row orderbook"><div class="bids col-xs-12 col-sm-6"><div l10n="l10n" class="title">Bids</div><div ng-show="book.bids.length" class="row head"><div l10n="l10n" class="col-xs-4 sum">Sum<div class="currency">{{book.bids[0].TakerPays | rpcurrency}}</div><div ng-show="(book.bids[0].TakerPays | rpcurrency) !== \'XRP\'" rp-pretty-issuer="book.bids[0].TakerPays | rpissuer" rp-pretty-issuer-contacts="userBlob.data.contacts" rp-pretty-issuer-or-short="rp-pretty-issuer-or-short" class="issuer"></div></div><div l10n="l10n" class="col-xs-4 size">Size<div class="currency">{{book.bids[0].TakerPays | rpcurrency}}</div><div ng-show="(book.bids[0].TakerPays | rpcurrency) !== \'XRP\'" rp-pretty-issuer="book.bids[0].TakerPays | rpissuer" rp-pretty-issuer-contacts="userBlob.data.contacts" rp-pretty-issuer-or-short="rp-pretty-issuer-or-short" class="issuer"></div></div><div l10n="l10n" class="col-xs-4 price">Bid Price<div class="currency">{{book.bids[0].TakerGets | rpcurrency}}</div><div ng-show="(book.bids[0].TakerGets | rpcurrency) !== \'XRP\'" rp-pretty-issuer="book.bids[0].TakerGets | rpissuer" rp-pretty-issuer-contacts="userBlob.data.contacts" rp-pretty-issuer-or-short="rp-pretty-issuer-or-short" class="issuer"></div></div></div><div ng-repeat="order in book.bids" class="row"><div class="col-xs-4 rpamount sum"><a href="" title="Sell {{order.showSum}} {{book.bids[0].showTakerPays | rpcurrency}}" ng-click="fill_widget(\'sell\',order,true)"><span rp-bind-color-amount="order.showSum"></span></a></div><div rp-bind-color-amount="order.showTakerPays" class="col-xs-4 rpamount size"></div><div class="col-xs-4 rpamount price"><a href="" ng-click="fill_widget(\'sell\',order)"><span rp-bind-color-amount="order.showPrice"></span></a></div></div><div ng-show="!book.bids.length" l10n="l10n" class="message">There are currently no bids for this pair.</div></div><div class="asks col-xs-12 col-sm-6"><div l10n="l10n" class="title">Asks</div><div ng-show="book.asks.length" class="row head"><div l10n="l10n" class="col-xs-4 price">Ask Price<div class="currency">{{book.asks[0].TakerPays | rpcurrency}}</div><div ng-show="(book.asks[0].TakerPays | rpcurrency) !== \'XRP\'" rp-pretty-issuer="book.asks[0].TakerPays | rpissuer" rp-pretty-issuer-contacts="userBlob.data.contacts" rp-pretty-issuer-or-short="rp-pretty-issuer-or-short" class="issuer"></div></div><div l10n="l10n" class="col-xs-4 size">Size<div class="currency">{{book.asks[0].TakerGets | rpcurrency}}</div><div ng-show="(book.asks[0].TakerGets | rpcurrency) !== \'XRP\'" rp-pretty-issuer="book.asks[0].TakerGets | rpissuer" rp-pretty-issuer-contacts="userBlob.data.contacts" rp-pretty-issuer-or-short="rp-pretty-issuer-or-short" class="issuer"></div></div><div l10n="l10n" class="col-xs-4 sum">Sum<div class="currency">{{book.asks[0].TakerGets | rpcurrency}}</div><div ng-show="(book.asks[0].TakerGets | rpcurrency) !== \'XRP\'" rp-pretty-issuer="book.asks[0].TakerGets | rpissuer" rp-pretty-issuer-contacts="userBlob.data.contacts" rp-pretty-issuer-or-short="rp-pretty-issuer-or-short" class="issuer"></div></div></div><div ng-repeat="order in book.asks" class="row"><div class="col-xs-4 rpamount price"><a href="" ng-click="fill_widget(\'buy\',order)"><span rp-bind-color-amount="order.showPrice"></span></a></div><div rp-bind-color-amount="order.showTakerGets" class="col-xs-4 rpamount size"></div><div class="col-xs-4 rpamount sum"><a href="" title="Buy {{order.showSum}} {{book.asks[0].showTakerGets | rpcurrency}}" ng-click="fill_widget(\'buy\',order,true)"><span rp-bind-color-amount="order.showSum"></span></a></div></div><div ng-show="!book.asks.length" l10n="l10n" class="message">There are currently no asks for this pair.</div></div></div></div></group></group></section>');
return buf.join("")}},66:function(module,exports,require){var jade=require(76);module.exports=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<div ng-switch on="engine_result | rptruncate:3" class="transaction-error"><group ng-switch-when="tes"><group ng-hide="accepted" class="pending"><h2 l10n="l10n" class="tx-status">Your transaction has been submitted.</h2><p l10n="l10n">Your account balance will update once the transaction has cleared.</p></group><group ng-show="accepted" class="result-success"><h2 l10n="l10n" class="tx-status">Transaction cleared!</h2></group></group><group ng-switch-when="tep" class="result-partial"><h2 l10n="l10n" class="tx-status">Transaction partially valid!</h2><p l10n="l10n">Your transaction could only be partially applied.</p></group><group ng-switch-when="tem" class="result-malformed"><h2 l10n="l10n" class="tx-status">Transaction malformed!</h2><p ng-switch on="engine_result"><span ng-switch-default="ng-switch-default" l10n="l10n">Your transaction is invalid, reason: {{engine_result}} - {{engine_result_message}}</span></p></group><group ng-switch-when="tef" class="result-malformed"><h2 l10n="l10n" class="tx-status">Transaction malformed!</h2><p ng-switch on="engine_result"><span ng-switch-when="tefDST_TAG_NEEDED" l10n="l10n">Destination account requires destination tag to be specified when making payments.</span></p></group><group ng-switch-when="tel" class="result-failed"><h2 l10n="l10n" class="tx-status">Transaction failed!</h2><p ng-switch on="engine_result"><span ng-switch-when="telINSUF_FEE_P" l10n="l10n">The particular server you sent the transaction to was too busy to forward or process\nyour transaction at the fee you included in it.</span></p></group><group ng-switch-when="tec" class="result-malformed"><h2 l10n="l10n" class="tx-status">Transaction failed!</h2><p ng-switch on="engine_result"><span ng-switch-when="tecNO_DST" l10n="l10n">The destination account does not exist.</span><span ng-switch-when="tecNO_DST_INSUF_XRP" l10n="l10n">The destination account does not exist. Too little XRP sent to create it.</span><span ng-switch-default="ng-switch-default" l10n="l10n">Error: {{engine_result_message}}</span></p></group><group ng-switch-when="ter" class="result-failed"><h2 l10n="l10n" class="tx-status">Transaction failed!</h2><p ng-switch on="engine_result"><span ng-switch-when="terNO_LINE" l10n="l10n">You have no trust line in this currency.</span></p><span ng-switch-default="ng-switch-default" l10n="l10n">Your transaction failed to clear: {{engine_result}} - {{engine_result_message}}</span></group><group ng-switch-when="tej" class="result-failed"><h2 l10n="l10n" class="tx-status">Transaction failed!</h2><p ng-switch on="engine_result"><span ng-switch-when="tejLost" l10n="l10n">Ripple client gave up trying to submit this transaction.</span></p><span ng-switch-default="ng-switch-default" l10n="l10n">Your transaction could not be submitted: {{engine_result}} - {{engine_result_message}}</span></group></div>');return buf.join("")}},67:function(e){e.exports={XRP:[0,0],AFN:[971,2],EUR:[978,2],ALL:[8,2],DZD:[12,2],USD:[840,2],AOA:[973,2],XCD:[951,2],ARS:[32,2],AMD:[51,2],AWG:[533,2],AUD:[36,2],AZN:[944,2],BSD:[44,2],BHD:[48,3],BDT:[50,2],BBD:[52,2],BYR:[974,0],BZD:[84,2],XOF:[952,0],BMD:[60,2],BTN:[64,2],INR:[356,2],BOB:[68,2],BOV:[984,2],BAM:[977,2],BWP:[72,2],NOK:[578,2],BRL:[986,2],BND:[96,2],BGN:[975,2],BIF:[108,0],KHR:[116,2],XAF:[950,0],CAD:[124,2],CVE:[132,2],KYD:[136,2],CLF:[990,0],CLP:[152,0],CNY:[156,2],COP:[170,2],COU:[970,2],KMF:[174,0],CDF:[976,2],NZD:[554,2],CRC:[188,2],HRK:[191,2],CUC:[931,2],CUP:[192,2],ANG:[532,2],CZK:[203,2],DKK:[208,2],DJF:[262,0],DOP:[214,2],EGP:[818,2],SVC:[222,2],ERN:[232,2],ETB:[230,2],FKP:[238,2],FJD:[242,2],XPF:[953,0],GMD:[270,2],GEL:[981,2],GHS:[936,2],GIP:[292,2],GTQ:[320,2],GBP:[826,2],GNF:[324,0],GYD:[328,2],HTG:[332,2],HNL:[340,2],HKD:[344,2],HUF:[348,2],ISK:[352,0],IDR:[360,2],IRR:[364,2],IQD:[368,3],ILS:[376,2],JMD:[388,2],JPY:[392,0],JOD:[400,3],KZT:[398,2],KES:[404,2],KPW:[408,2],KRW:[410,0],KWD:[414,3],KGS:[417,2],LAK:[418,2],LVL:[428,2],LBP:[422,2],LSL:[426,2],ZAR:[710,2],LRD:[430,2],LYD:[434,3],CHF:[756,2],LTL:[440,2],MOP:[446,2],MKD:[807,2],MGA:[969,2],MWK:[454,2],MYR:[458,2],MVR:[462,2],MRO:[478,2],MUR:[480,2],MXN:[484,2],MXV:[979,2],MDL:[498,2],MNT:[496,2],MAD:[504,2],MZN:[943,2],MMK:[104,2],NAD:[516,2],NPR:[524,2],NIO:[558,2],NGN:[566,2],OMR:[512,3],PKR:[586,2],PAB:[590,2],PGK:[598,2],PYG:[600,0],PEN:[604,2],PHP:[608,2],PLN:[985,2],QAR:[634,2],RON:[946,2],RUB:[643,2],RWF:[646,0],SHP:[654,2],WST:[882,2],STD:[678,2],SAR:[682,2],RSD:[941,2],SCR:[690,2],SLL:[694,2],SGD:[702,2],SBD:[90,2],SOS:[706,2],SSP:[728,2],LKR:[144,2],SDG:[938,2],SRD:[968,2],SZL:[748,2],SEK:[752,2],CHE:[947,2],CHW:[948,2],SYP:[760,2],TWD:[901,2],TJS:[972,2],TZS:[834,2],THB:[764,2],TOP:[776,2],TTD:[780,2],TND:[788,3],TRY:[949,2],TMT:[934,2],UGX:[800,0],UAH:[980,2],AED:[784,2],USN:[997,2],USS:[998,2],UYI:[940,0],UYU:[858,2],UZS:[860,2],VUV:[548,0],VEF:[937,2],VND:[704,0],YER:[886,2],ZMK:[894,2],ZWL:[932,2]}},68:function(module,exports,require){var jade=require(76);module.exports=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<nav class="col-xs-12 col-md-2"><h2 ng-bind="$route.current.tabName | rpucfirst"></h2><ul><li ng-class="{active: $route.current.tabName == \'balance\'}"><a href="#/balance" l10n="l10n">Balance</a></li><li ng-class="{active: $route.current.tabName == \'history\'}"><a href="#/history" l10n="l10n">History</a></li><li ng-class="{active: $route.current.tabName == \'contacts\'}"><a href="#/contacts" l10n="l10n">Contacts</a></li><li ng-class="{active: $route.current.tabName == \'convert\'}"><a href="#/convert" l10n="l10n">Convert</a></li><li ng-class="{active: $route.current.tabName == \'cashin\'}"><a href="#/cashin" l10n="l10n">Cash In</a></li><li ng-class="{active: $route.current.tabName == \'security\'}"><a href="#/security" l10n="l10n">Security</a></li></ul></nav><section ng-controller="SecurityCtrl" class="col-xs-12 col-md-10 wide content"><p l10n="l10n" class="important">Your money and wallet are protected digitally through\n encryption algorithms that can be unlocked&#32;<b l10n-inc="l10n-inc">only with your personal keys</b></p><ul class="notices"><li><span>–</span><span l10n="l10n">No one else has them, so don\'t lose them!</span></li><li><span>–</span><span l10n="l10n">Never share them!</span></li></ul><div class="title"><div class="icon wallet"></div><div l10n="l10n" class="name">Wallet Key</div><div class="more"><span l10n="l10n">{{userBlob.data.contacts.length}} contacts,&#32;<span>{{enc.length | rpfilesize}} &ensp;</span></span></div><div class="more"><span rp-download="enc" rp-download-filename="ripple-wallet.txt" l10n="l10n">You can&#32;<a href="" rp-download-trigger="rp-download-trigger" l10n-inc="l10n-inc">backup your wallet to a file.</a></span></div></div><ul ng-hide="showKeys" class="description"><li l10n="l10n">This is the key you use every time you use ripple.</li><li l10n="l10n">You created it when you chose your Wallet Name and Passphrase.</li><li l10n="l10n">It protects Your money + Your contacts and history.</li><li><b l10n="l10n">Never forget it, never share it.</b></li></ul><div><div ng-show="showKeys" class="infoBox"><div class="part"><span l10n="l10n" class="label">Wallet name:</span><span class="value">{{userCredentials.username}}</span></div><div class="part"><span l10n="l10n" class="label">Pass Phrase:</span><span ng-show="passUnmask" class="value">{{userCredentials.password}}</span><span ng-hide="passUnmask" class="value">{{userCredentials.password | rpmask}}</span><rp-confirm action-text="Are you in a safe place, where no person, or camera can see your screen?" action-button-text="Yes, show me" action-function="passUnmask=true" cancel-button-text="No" ng-hide="passUnmask"><a href="" ng-hide="passUnmask" l10n="l10n">Show</a></rp-confirm><a href="" ng-click="passUnmask=false" ng-show="passUnmask" l10n="l10n">Hide</a></div></div></div><div ng-show="showKeys" l10n="l10n" class="hint">This gives access to your wallet. DO NOT SHARE THIS WITH ANYONE. Keep it safe. Keep it private.</div><div class="title"><div class="icon money"></div><div l10n="l10n" class="name">Secret Key</div></div><ul ng-hide="showKeys" class="description"><li l10n="l10n">This key is for emergency use only. You did not choose it. The network created it. You don\'t have to memorize it.</li><li l10n="l10n">The Secret Key accesses Your money, which is already contained inside your wallet.</li><li l10n="l10n">But if you ever lose your wallet, you can recover just your money with this key.</li><li><b l10n="l10n">Store it somewhere safe, never share it.</b></li></ul><div><div ng-show="showKeys" class="infoBox"><div class="part"><span ng-show="SecretKeyUnmask" class="value">{{userCredentials.master_seed}}</span><span ng-hide="SecretKeyUnmask" class="value">{{userCredentials.master_seed | rpmask}}</span></div><rp-confirm action-text="Are you in a safe place, where no person, or camera can see your screen?" action-button-text="Yes, show me" action-function="SecretKeyUnmask=true" cancel-button-text="No" ng-hide="SecretKeyUnmask"><a href="" ng-hide="SecretKeyUnmask" l10n="l10n">Show</a></rp-confirm><a href="" ng-click="SecretKeyUnmask=false" ng-show="SecretKeyUnmask" l10n="l10n">Hide</a></div></div><div ng-show="showKeys" l10n="l10n" class="hint">This gives access to your money. DO NOT SHARE THIS WITH ANYONE. Keep it safe. Keep it private.</div><button ng-click="showKeys=true" ng-hide="showKeys" l10n="l10n" class="btn btn-info show-keys">Show my keys</button></section>');return buf.join("")}},69:function(module,exports,require){var jade=require(76);module.exports=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<section ng-controller="TxCtrl" ng-switch on="state" class="single ddpage content"><group ng-switch-when="loading"><p l10n="l10n" class="literal throbber">Loading transaction details...</p></group><group ng-switch-when="error"><p l10n="l10n" class="literal">An error occurred while loading the transaction details.</p></group><group ng-switch-when="loaded"><p class="literal hash"><span l10n="l10n">Transaction #</span><span>{{transaction.hash}}</span><div><a href="{{\'http://ripple.com/graph/#\' + transaction.hash}}" target="_blank" l10n="l10n">Show in graph</a></div></p><hr/><p l10n="l10n" class="literal type">Transaction type:<strong> {{transaction.TransactionType}}</strong></p><group ng-switch on="transaction.TransactionType"><group ng-switch-when="Payment"><group class="clearfix"><dl class="details half"><dt><span l10n="l10n">Address sent from</span><span>:</span></dt><dd>{{transaction.Account}}</dd><dt><span l10n="l10n">Amount sent</span><span>:</span></dt><dd>{{amountSent | rpamount}} {{amountSent | rpcurrency}}</dd><dt><span l10n="l10n">Currency sent</span><span>:</span></dt><dd>{{amountSent | rpcurrencyfull}}</dd></dl><dl class="details half"><dt><span l10n="l10n">Address sent to</span><span>:</span></dt><dd>{{transaction.Destination}}</dd><dt><span l10n="l10n">Amount received</span><span>:</span></dt><dd>{{transaction.Amount | rpamount}} {{transaction.Amount | rpcurrency}}</dd><dt><span l10n="l10n">Currency received</span><span>:</span></dt><dd>{{transaction.Amount | rpcurrencyfull}}</dd></dl></group><hr/><dl class="details"><dt><span l10n="l10n">Network fee paid</span><span>:</span></dt><dd>{{transaction.Fee | rpamount}} XRP</dd><dt><span l10n="l10n">Conversion rate</span><span>:</span></dt><dd>TODO</dd></dl><hr/><dl class="details"><dt><span l10n="l10n">Ledger number</span><span>:</span></dt><dd>{{transaction.inLedger}}</dd></dl></group><group ng-switch-default="ng-switch-default"><group class="clearfix"><dl class="details half"><dt l10n="l10n">Address sent from:</dt><dd>{{transaction.Account}}</dd></dl><dl class="details half"></dl></group><hr/><p l10n="Sorry, we don\'t have an info page layout for this transaction type yet." class="literal">Sorry, we don&#39;t have an info page layout for this transaction type yet.</p></group></group></group></section>');return buf.join("")}},70:function(e){e.exports="function"==typeof Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)}},71:function(e){e.exports=function(e,n){if(e.indexOf)return e.indexOf(n);for(var t=0;t<e.length;t++)if(n===e[t])return t;return-1}},72:function(e){e.exports=Object.keys||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var n=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n}},73:function(e){e.exports=Object.getOwnPropertyNames||function(e){var n=[];for(var t in e)Object.hasOwnProperty.call(e,t)&&n.push(t);return n}},74:function(e){e.exports=Object.create||function(e,n){var t;if(null===e)t={__proto__:null};else{if("object"!=typeof e)throw new TypeError("typeof prototype["+typeof e+"] != 'object'");var r=function(){};r.prototype=e,t=new r,t.__proto__=e}return"undefined"!=typeof n&&Object.defineProperties&&Object.defineProperties(t,n),t}},75:function(e){e.exports=function(e){return e instanceof RegExp||"object"==typeof e&&"[object RegExp]"===Object.prototype.toString.call(e)}},76:function(e,n,t){function r(e){return null!=e}/*!
	 * Jade - runtime
	 * Copyright(c) 2010 TJ Holowaychuk <tj@vision-media.ca>
	 * MIT Licensed
	 */
Array.isArray||(Array.isArray=function(e){return"[object Array]"==Object.prototype.toString.call(e)}),Object.keys||(Object.keys=function(e){var n=[];for(var t in e)e.hasOwnProperty(t)&&n.push(t);return n}),n.merge=function(e,n){var t=e["class"],a=n["class"];(t||a)&&(t=t||[],a=a||[],Array.isArray(t)||(t=[t]),Array.isArray(a)||(a=[a]),t=t.filter(r),a=a.filter(r),e["class"]=t.concat(a).join(" "));for(var s in n)"class"!=s&&(e[s]=n[s]);return e},n.attrs=function(e,t){var r=[],a=e.terse;delete e.terse;var s=Object.keys(e),o=s.length;if(o){r.push("");for(var i=0;o>i;++i){var c=s[i],l=e[c];"boolean"==typeof l||null==l?l&&(a?r.push(c):r.push(c+'="'+c+'"')):0==c.indexOf("data")&&"string"!=typeof l?r.push(c+"='"+JSON.stringify(l)+"'"):"class"==c&&Array.isArray(l)?r.push(c+'="'+n.escape(l.join(" "))+'"'):t&&t[c]?r.push(c+'="'+n.escape(l)+'"'):r.push(c+'="'+l+'"')}}return r.join(" ")},n.escape=function(e){return String(e).replace(/&(?!(\w+|\#\d+);)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},n.rethrow=function(e,n,r){if(!n)throw e;var a=3,s=t(82).readFileSync(n,"utf8"),o=s.split("\n"),i=Math.max(r-a,0),c=Math.min(o.length,r+a),a=o.slice(i,c).map(function(e,n){var t=n+i+1;return(t==r?"  > ":"    ")+t+"| "+e}).join("\n");throw e.path=n,e.message=(n||"Jade")+":"+r+"\n"+a+"\n\n"+e.message,e}},77:function(module,exports,require){var jade=require(76);module.exports=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<ul ng-show="entry.effects" class="effects"><li ng-repeat="effect in entry.showEffects" ng-switch on="effect.type"><span ng-switch-when="offer_funded"><span ng-show="effect.sell" l10n="l10n">You sold&#32;<strong>{{effect.gets | rpamount}} {{effect.gets | rpcurrency}}</strong> for&#32;<strong>{{effect.pays | rpamount}} {{effect.pays | rpcurrency}}</strong></span><span ng-hide="effect.sell" l10n="l10n">You bought&#32;<strong>{{effect.pays | rpamount}} {{effect.pays | rpcurrency}}</strong> for&#32;<strong>{{effect.gets | rpamount}} {{effect.gets | rpcurrency}}</strong></span>. (<span l10n="l10n">price</span><span>:<strong> {{effect.price | rpamount:{precision: 4} }}</strong></span>).<span l10n="l10n"> This order has been filled.</span></span><span ng-switch-when="offer_partially_funded"><span ng-show="effect.sell" l10n="l10n">You sold&#32;<strong>{{effect.got | rpamount}} {{effect.got | rpcurrency}}</strong> for&#32;<strong>{{effect.paid | rpamount}} {{effect.paid | rpcurrency}}</strong></span><span ng-hide="effect.sell" l10n="l10n">You bought&#32;<strong>{{effect.paid | rpamount}} {{effect.paid | rpcurrency}}</strong> for&#32;<strong>{{effect.got | rpamount}} {{effect.got | rpcurrency}}</strong></span>. (<span l10n="l10n">price</span><span>:<strong> {{effect.price | rpamount:{precision: 4} }}</strong></span>).<span ng-show="effect.cancelled" l10n="l10n"> The rest of your order has been cancelled due to lack of funds.</span><span ng-hide="effect.deleted" l10n="l10n"> This order has<span> {{effect.remaining | rpamount}} {{effect.remaining | rpcurrency}}</span> remaining.</span></span><span ng-switch-when="offer_cancelled" l10n="l10n">Offer (<strong>{{effect.pays | rpamount}} {{effect.pays | rpcurrency}}</strong> for&#32;<strong>{{effect.gets | rpamount}} {{effect.gets | rpcurrency}}</strong>) has been cancelled due to lack of funds.</span><span ng-switch-when="offer_created"><span ng-show="effect.sell" l10n="l10n">You created an offer to sell&#32;<strong>{{effect.pays | rpamount}} {{effect.gets | rpcurrency}}</strong> for&#32;<strong>{{effect.pays | rpamount}} {{effect.pays | rpcurrency}}</strong></span><span ng-hide="effect.sell" l10n="l10n">You created an offer to buy&#32;<strong>{{effect.pays | rpamount}} {{effect.pays | rpcurrency}}</strong> for&#32;<strong>{{effect.pays | rpamount}} {{effect.gets | rpcurrency}}</strong></span></span><span ng-switch-when="offer_bought" l10n="l10n">You bought&#32;<strong>{{effect.got | rpamount}} {{effect.got | rpcurrency}}</strong> for&#32;<strong>{{effect.paid | rpamount}} {{effect.paid | rpcurrency}}</strong>. (<span l10n-inc="l10n-inc">price</span><span>:<strong> {{effect.price | rpamount:{precision: 4} }}</strong></span>).</span><span ng-switch-when="trust_create_local" l10n="l10n">You now trust<span> {{effect.counterparty | rpcontactname}}</span> for<span> {{effect.limit | rpamount}} {{effect.limit | rpcurrency}}</span>.</span><span ng-switch-when="trust_create_remote" l10n="l10n"><span>{{effect.counterparty | rpcontactname}}</span> is trusting you\n for<span> {{effect.limit | rpamount}} {{effect.limit | rpcurrency}}</span>.</span><span ng-switch-when="trust_change_local" l10n="l10n">You have changed<span> {{effect.limit | rpcurrency}}</span> trust for<span> {{effect.counterparty | rpcontactname}}</span> from<span> {{effect.prevLimit | rpamount}}</span> to<span> {{effect.limit | rpamount}}</span>.</span><span ng-switch-when="trust_change_remote" l10n="l10n"><span>{{effect.counterparty | rpcontactname}}</span> changed the<span> {{effect.limit | rpcurrency}}</span> trust\n from<span> {{effect.prevLimit | rpamount}}</span> to<span> {{effect.limit | rpamount}}</span>.</span><span ng-switch-when="trust_change_balance" l10n="l10n">Trust balance between you and<span> {{effect.counterparty | rpcontactname}}</span> has been changed by<span> {{effect.amount | rpamount}} {{effect.amount | rpcurrency}}</span>.</span><span ng-switch-when="balance_change" l10n="l10n">Your balance has been changed by<span> {{effect.amount | rpamount}} {{effect.amount | rpcurrency}}</span>.</span></li></ul>');return buf.join("")}},78:function(module,exports,require){var jade=require(76);module.exports=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<div id="status" ng-controller="StatusCtrl" ng-class="{expand: show_secondary &amp;&amp; balance_count &gt;= 2}" ng-show="userCredentials.username" class="row"><div class="nav-toggle col-xs-2"><a href="" class="snapper-toggle"><div class="fa fa-align-justify"></div></a></div><div class="user col-xs-10 col-md-12"><div class="row"><div class="col-xs-8"><span ng-show="shortUsername" rp-tooltip="{{userCredentials.username}}" rp-tooltip-placement="bottom" class="username">{{shortUsername}}</span><span ng-hide="shortUsername" class="username">{{userCredentials.username}}</span></div><a href="" ng-click="logout()" l10n="l10n" class="col-xs-4 logout">logout</a></div><div class="row balances"><div ng-show="!loadState.account" l10n="l10n" class="col-xs-12">Loading your balance...</div><div ng-show="loadState.account" class="col-xs-6"><span ng-show="!account.Account" l10n="l10n" class="balance primary">Unfunded account</span><span ng-show="account.Account" class="balance primary"><span class="amount">{{account.Balance | rpamount:{precision: 2} }}</span><span class="currency">XRP</span></span><i ng-show="account.Account" rp-popover="rp-popover" rp-popover-placement="bottom" l10n-rp-popover-title="XRP Balance" rp-popover-trigger="click" l10n-data-content="Your current XRP balance is {{account.Balance | rpamount:{precision: 2, max_sig_digits: 20} }}. Account reserve is {{ account.reserve | rpamount }} XRP. &lt;br /&gt;&lt;a href=\'https://ripple.com/wiki/Reserves\' target=\'_blank\'&gt;More information&lt;/a&gt;" class="fa fa-question-circle"></i></div><div class="col-xs-6"><ul class="secondary"><li ng-repeat="(index, balance) in orderedBalances" ng-class="{negative: balance.total.is_negative()}" class="balance">{{balance.total | rpamount:{rel_precision: 0} }}<span class="currency">{{balance.total.currency().to_human()}}</span></li></ul><a ng-click="toggle_secondary()" ng-show="balance_count &gt;= 2" class="toggle-secondary"></a></div></div></div></div><a id="status-anon" ng-hide="userCredentials.username" href="#/options"><span l10n="l10n">Options</span></a>');return buf.join("")}},79:function(module,exports,require){var jade=require(76);module.exports=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<nav class="col-xs-12 col-md-2"><h2 ng-bind="$route.current.tabName | rpucfirst"></h2><ul><li ng-class="{active: $route.current.tabName == \'trust\'}"><a href="#/trust" l10n="l10n">Trust</a></li><li ng-class="{active: $route.current.tabName == \'options\'}"><a href="#/options" l10n="l10n">Options</a></li></ul></nav>');return buf.join("")}},80:function(module,exports,require){var jade=require(76);module.exports=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<nav class="col-xs-12 col-md-2"><h2 ng-bind="$route.current.tabName | rpucfirst"></h2><ul><li ng-class="{active: $route.current.tabName == \'balance\'}"><a href="#/balance" l10n="l10n">Balance</a></li><li ng-class="{active: $route.current.tabName == \'history\'}"><a href="#/history" l10n="l10n">History</a></li><li ng-class="{active: $route.current.tabName == \'contacts\'}"><a href="#/contacts" l10n="l10n">Contacts</a></li><li ng-class="{active: $route.current.tabName == \'convert\'}"><a href="#/convert" l10n="l10n">Convert</a></li><li ng-class="{active: $route.current.tabName == \'cashin\'}"><a href="#/cashin" l10n="l10n">Cash In</a></li><li ng-class="{active: $route.current.tabName == \'security\'}"><a href="#/security" l10n="l10n">Security</a></li></ul></nav>');return buf.join("")}},81:function(module,exports,require){var jade=require(76);module.exports=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<div class="form-group"><label for="login_username" l10n="l10n">Wallet name</label><input id="login_username" name="login_username" type="text" ng-model="username" required="required" rp-focus-on-empty="rp-focus-on-empty" rp-autofill="$routeParams.username" class="form-control"/></div><div class="form-group"><label for="login_password" l10n="l10n">Passphrase</label><input id="login_password" name="login_password" type="password" ng-model="password" required="required" rp-focus="rp-focus" class="form-control"/></div>');return buf.join("")}},82:function(e,n){var t={};n.setFile=function(e,n){t[e]=n},n.readFileSync=function(e){return t[e]||""}}});